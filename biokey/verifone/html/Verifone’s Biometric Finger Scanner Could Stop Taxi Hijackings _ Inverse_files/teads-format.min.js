!function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:i})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=368)}([function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(){}return t.find=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");for(var i,o=Object(t),r=o.length>>>0,a=0;a<r;a++)if(i=o[a],e.call(n,i,a,o))return i},t.forEach=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");for(var i,o=Object(t),r=o.length>>>0,a=0;a<r;)a in o&&(i=o[a],e.call(n,i,a,o)),a++},t.filter=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var i=Object(t),o=i.length>>>0;if(o>i.length)throw new TypeError("negative length");for(var r=[],a=0;a<o;a++)if(a in i){var s=i[a];e.call(n,s,a,i)&&r.push(s)}return r},t.some=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");var i=Object(t),o=i.length>>>0;if(o>i.length)throw new TypeError("negative length");for(var r=0;r<o;r++)if(r in i&&e.call(n,i[r],r,i))return!0;return!1},t.indexOf=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");var i=Object(t),o=i.length>>>0;if(0===o)return-1;var r=+n||0;if(Math.abs(r)===1/0&&(r=0),r>=o)return-1;var a=Math.max(r>=0?r:o-Math.abs(r),0);try{for(;a<o;){if(a in i&&i[a]===e)return a;a++}}catch(t){}return-1},t.includes=function(e,n){return t.indexOf(e,n)>-1},t.fromNodeList=function(t){return Array.prototype.slice.call(t)},t.map=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var i,o,r=Object(t),a=r.length>>>0,s=new Array(a),c=0;c<a;)c in r&&(i=r[c],o=e.call(n,i,c,r),s[c]=o),c++;return s},t.unique=function(e){if(null===e)throw new TypeError("array is null or undefined");for(var n=[],i=0,o=e;i<o.length;i++){var r=o[i];t.includes(n,r)||n.push(r)}return n},t.reduce=function(t,e,n){if(null===t)throw new TypeError("array is null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");var i=t.length>>>0;if(0===i&&void 0===n)throw new TypeError("reduce of empty array with no initial value");var o,r=0;if(void 0!==n)o=n;else for(;;){if(r in t){o=t[r++];break}if(++r>=i)throw new TypeError("reduce of empty array with no initial value")}for(;r<i;r++)r in t&&(o=e(o,t[r],r,t));return o},t}();t.ArrayHelper=e}(n||(n={}))},function(t,e,n){n(12),n(5),n(23);var i=window.teads=window.teads||{};!function(t){!function(e){function n(t){if(!t)return NaN;var e=t.split("."),n=e[0].split(":"),i=3600*Number(n[0])+60*Number(n[1])+Number(n[2]);return 2===e.length&&(i=Number(i+"."+e[1])),i}function i(e){void 0===e&&(e=0);var n=e?Math.floor(e/3600):0;e-=3600*n;var i=e?Math.floor(e/60):0;e-=60*i;var o=(e%1).toFixed(3).substr(1);return e=Math.floor(e),t.StringHelper.pad(n)+":"+t.StringHelper.pad(i)+":"+t.StringHelper.pad(e)+o}function o(){return window.AudioContext||window.webkitAudioContext}function r(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n={},i=0,o=void 0;i<t.length;i++){o=t[i];for(var a in o)S.call(o,a)&&("[object Object]"===b.call(o[a])?n[a]=r(n[a],o[a]):void 0!==o[a]&&(n[a]=o[a]))}return n}function a(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=t.ArrayHelper.map(e,function(t){var e={};for(var n in t)null!==t[n]&&(e[n]=t[n]);return e});return r.apply(void 0,i)}function s(t,e,n){var i=!1;return e=e||250,n=n||this,function(){i||(t.apply(n,arguments),window.setTimeout(function(){i=!1},e),i=!0)}}function c(t){var e=document.createElement("a");return e.href=t,window.swInstalled&&/(teads|ebu?z)/.test(e.hostname)?"/"+btoa(t).replace(/=/g,"_"):t}function d(){return location&&location.protocol&&0===location.protocol.indexOf("http:")?location.protocol:"https:"}function l(t){if(!t)return"";var e=t.split("/")[1]||t;switch(e){case"javascript":case"x-javascript":e="js";break;case"x-shockwave-flash":e="swf";break;case"mpeg":e="mpg";break;case"x-flv":e="flv"}return e}function p(t,e){var n=!1;if(!e)return!1;for(var i in t)if(S.call(t,i)){if(void 0===typeof e[i])return!1;n=!0}return n}function u(t){return"boolean"==typeof t}function h(t){return"number"==typeof t&&!isNaN(t)}function f(t){return t instanceof Array}function g(t){return"string"==typeof t}function m(t){return void 0===t}function v(t){var e=typeof t;return!!t&&"object"===e}function y(t){var e=typeof t;return!!t&&"function"===e&&"[object Function]"===b.call(t)}function A(n){var i=!1;for(var o in n)if(!(i=o.match(/mobile|tablet|desktop|large/)&&e.isString(n[o])||t.Dom.isNodeList(n[o])||t.Dom.isHTMLElement(n[o])))break;return i}function E(){return!!(window.teads&&window.teads.api&&window.teads.api.getStudioData&&v(window.teads.api.getStudioData()))}function w(t){return!!t.match(/px$/)&&h(parseFloat(t))}var b=Object.prototype.toString,S=Object.prototype.hasOwnProperty;e.seconds=n,e.offset=i,e.getAudioContext=o,e.extend=r,e.extendWithoutNull=a,e.throttle=s,e.safeUrl=c,e.getProtocol=d,e.getExtensionFromMimeType=l,e.containsKeys=p,e.isBoolean=u,e.isNumber=h,e.isArray=f,e.isString=g,e.isUndefined=m,e.isObject=v,e.isFunction=y,e.isISlotSelector=A,e.isStudioCreative=E,e.isSizeInPx=w}(t.Utils||(t.Utils={}))}(i||(i={}))},function(t,e,n){n(55);var i=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(e){var n=function(){function e(){this.loggerED=new t.Logger("canvas.player.components.EventDispatcher"),this.cb={},this.addEventListener=this.listen,this.removeEventListener=this.muteEvent}return e.prototype.listen=function(t,e,n){void 0===n&&(n=!1),this.cb[t]||(this.cb[t]=new Array),this.cb[t].push(e)},e.prototype.muteEvent=function(t,e){this.cb[t]?e&&-1!==this.cb[t].indexOf(e)?this.cb[t].splice(this.cb[t].indexOf(e),1):e?this.loggerED.error("call muteEvent for",t,"but handler ",e," does not exist for this event"):this.cb[t]=new Array:this.loggerED.error("call muteEvent for",t,"but handlers for this event are empty")},e.prototype.dispatch=function(t,e){this.cb[t]&&(e?e.type=t:e={type:t},this.cb[t].forEach(function(t,n){t(e)}))},e}();e.EventDispatcher=n}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(i||(i={}))},function(t,e,n){n(37),n(5),n(4),n(38),n(32),n(19),n(1);var i=window.teads=window.teads||{};!function(t){t.CONTEXT_IS_INITIALIZED=!1;var e=function(){function e(t){this.name=t.name||"",this.version=t.version||""}return e.prototype.toString=function(){return t.StringHelper.separate("|",this.name,this.version).toLowerCase()},e}();t.UABrowser=e;var n=function(){function e(t){this.name=t.name||"",this.version=t.version||""}return e.prototype.toString=function(){return t.StringHelper.separate("|",this.name,this.version).toLowerCase()},e}();t.UAOs=n;var i=function(){function e(n){this.model=n.model||"",this.type=n.type||(e.typeRegExp.test(o.getOS().name)?t.Ua.DESKTOP:""),this.vendor=n.vendor||""}return e.prototype.toString=function(){return t.StringHelper.separate("|",this.model,this.type,this.vendor).toLowerCase()},e.typeRegExp=/^windows|mac\s+os|linux|bsd|dragonfly|chromium\s+os|haiku|ubuntu|slackware|gentoo|solaris|debian|fedora|arch|beos|mint|gnu|os|suse\/2$/i,e}();t.UADevice=i;var o=function(){function o(){}return o.getContextSummary=function(){return[o.isMobile()&&!o.isTablet()?"mob":o.isTablet()?"tab":"desk",o.isAndroid()?"android":o.isIos()?"ios":o.isIE()?"ie":o.isChrome()?"ch":o.isFirefox()?"ff":"ot"].join(" ")},o.getFullContext=function(){return[o.getDevice().type,o.getOS().name,o.getOS().version,o.getBrowser().name,o.getBrowser().version.split(".")[0],o.getShortContext()].join("|")},o.init=function(){t.CONTEXT_IS_INITIALIZED||(o.checkUserAgent(),o.checkLanguage(),o.os=new n(t.Ua.mapper.rgx.apply(this,t.Ua.regexes.os)),o.browser=new e(t.Ua.mapper.rgx.apply(this,t.Ua.regexes.browser)),o.device=new i(t.Ua.mapper.rgx.apply(this,t.Ua.regexes.device)),o.checkAmp(),o.checkFacebookIA(),o.checkIabSF(),o.checkEdgeTouchScreen(),o.checkUiWebview(),o.checkObserveIntersection(),o.cacheBrowserValues(),o.cacheOsValues(),o.cacheDeviceValues(),o.cacheVersionValues(),o.cacheCustomValues(),o.startAutoplayTest(),t.CONTEXT_IS_INITIALIZED=!0)},o.setIsSDK=function(t){o.cache.isSDK=t},o.isDesktop=function(){return o.cache.isDesktop},o.isIpad=function(){return o.cache.isIpad},o.isTablet=function(){return o.cache.isTablet},o.isMobile=function(){return o.cache.isMobile},o.isChromeIos=function(){return o.cache.isChromeIos},o.isFacebookWebview=function(){return o.cache.isFacebookWebview},o.isAndroidNative=function(){return o.cache.isAndroidNative},o.isSamsungBrowser=function(){return o.cache.isSamsungBrowser},o.isAndroid=function(){return o.cache.isAndroid},o.isIos=function(){return o.cache.isIos},o.isIphone=function(){return o.cache.isIphone},o.isAndroidMobile=function(){return o.cache.isAndroidMobile},o.isIE=function(){return o.cache.isIE},o.isChrome=function(){return o.cache.isChrome},o.isChromeWebView=function(){return o.cache.isChromeWebView},o.isFirefox=function(){return o.cache.isFirefox},o.isEdge=function(){return o.cache.isEdge},o.isAmp=function(){return o.cache.amp},o.isFacebookIA=function(){return o.cache.fbia},o.isAmpObserveIntersection=function(){return o.cache.isAmpObserveIntersection},o.isIABSafeFrame=function(){return o.cache.iabsf},o.isEdgeTouchScreen=function(){return o.cache.isEdgeTouchScreen},o.isSDK=function(){return o.cache.isSDK},o.getIEVersion=function(){return o.cache.ieVersion},o.getAndroidVersion=function(){return o.cache.androidVersion},o.getChromeVersion=function(){return o.cache.chromeVersion},o.getIosVersion=function(){return o.cache.iOsVersion},o.getFacebookWebviewVersion=function(){return o.cache.FacebookWebviewVersion},o.getSafariVersion=function(){return o.cache.safariVersion},o.isUIWebview=function(){return o.cache.isUIWebview},o.isSafari=function(){return o.cache.isSafari},o.isSafari11Plus=function(){return t.Semver.isGreaterOrEqual(o.getSafariVersion(),"11")},o.isChrome66Plus=function(){return t.Semver.isGreaterOrEqual(o.getChromeVersion(),"66")},o.isGoogleSearchApp=function(){return o.cache.isGoogleSearchApp},o.isIos10Safari=function(){return o.cache.isIos10Safari},o.isIos10OtherBrowser=function(){return o.cache.isIos10OtherBrowser},o.isWhiteListedIos10Safari=function(t){return void 0===t&&(t=null),o.isIos10Safari()&&!o.blackListRealHtml5Player.test(t)},o.isFacebookWebviewIOS10=function(){return t.Semver.isGreaterOrEqual(o.getFacebookWebviewVersion(),"87")&&t.Semver.isGreaterOrEqual(o.getIosVersion(),"10.2")},o.isCanvasUsed=function(){return o.cache.isCanvasUsed},o.videoSupport=function(t){return!!t.createElement("video").canPlayType},o.getLanguage=function(){return o.language},o.getUA=function(){return o.userAgent},o.setUA=function(t){o.userAgent=t},o.getDevice=function(){return o.device},o.getOS=function(){return o.os},o.getBrowser=function(){return o.browser},o.canAutoplay=function(){return null===o.isAutoplayEnabled&&t.Timing.now()-o.autoplayStartTime>100&&o.endAutoplayTest(!0),o.isAutoplayEnabled},o.isCanvasNeeded=function(t){var e=t?"53":"56";return o.doNeedAutoplayCheck(e)&&!o.canAutoplay()},o.getShortContext=function(){var t;return t=o.isAmp()?"amp":o.isFacebookIA()?"fia":o.isIABSafeFrame()?"sf":o.isFacebookWebview()?"fbwv":o.isChromeWebView()||o.isUIWebview()?"wv":o.isSDK()?"sdk":"web",o.isCanvasUsed()?t+"-canvas":t},o.getEnv=function(){return o.isSDK()?"sdk-inapp":"js-"+o.getShortContext()},o.cacheCanvasUsed=function(t){o.cache.isCanvasUsed=t},o.checkUserAgent=function(){try{o.userAgent=navigator.userAgent}catch(t){o.logger.error("Could not get `navigator.userAgent`",t),o.userAgent=""}},o.checkLanguage=function(){try{o.language=window.navigator.language||window.navigator.browserLanguage||window.navigator.userLanguage||"en"}catch(t){o.logger.error("Could not get navigator language",t),o.language="en"}},o.checkAmp=function(){try{o.cache.amp=!!window._teads_amp}catch(t){o.logger.error("Could not check if `!!window._teads_amp`",t),o.cache.amp=!1}},o.checkFacebookIA=function(){try{o.cache.fbia=!!window._teads_fbia}catch(t){o.logger.error("Could not check if `!!window._teads_fbia`",t),o.cache.fbia=!1}},o.checkIabSF=function(){try{o.cache.iabsf=!!window.$sf&&!!window.$sf.ext}catch(t){o.logger.error("Could not check if `!!window.$sf.ext`",t),o.cache.iabsf=!1}},o.checkEdgeTouchScreen=function(){try{o.cache.edgeTouchScreen=navigator.maxTouchPoints&&navigator.maxTouchPoints>0}catch(t){o.logger.error("Could not check if `navigator.maxTouchPoints > 0`",t),o.cache.edgeTouchScreen=!1}},o.checkUiWebview=function(){try{o.cache.uiWebview=window.navigator.standalone}catch(t){o.logger.error("Could not check navigator.standalone",t),o.cache.uiWebview=!1}},o.checkObserveIntersection=function(){try{o.cache.observeIntersection=!(!window.context||!window.context.observeIntersection)}catch(t){o.logger.error("Could not check if `!!window.context.observeIntersection`",t),o.cache.observeIntersection=!1}},o.cacheBrowserValues=function(){o.cache.isIE="IE"===o.browser.name||/MSIE|Trident/.test(o.userAgent),o.cache.isFirefox="Firefox"===o.browser.name||/Firefox/i.test(o.userAgent),o.cache.isEdge="Edge"===o.browser.name||/Edge/i.test(o.userAgent),o.cache.isGoogleSearchApp=/GSA\//i.test(o.userAgent),o.cache.isSafari=("Safari"===o.browser.name||"Mobile Safari"===o.browser.name)&&!o.isGoogleSearchApp(),o.cache.isChromeWebView="Chrome WebView"===o.browser.name,o.cache.isChrome="Chrome"===o.browser.name||o.isChromeWebView(),o.cache.isEdgeTouchScreen=o.isEdge()&&o.cache.edgeTouchScreen,o.cache.isChromeIos=/CriOS/i.test(o.userAgent),o.cache.isAndroidNative="Android Browser"===o.browser.name,o.cache.isFacebookWebview="Facebook"===o.browser.name||/FBAN|FBIOS|FBAV|FBBV|FBDV|FBMD|FBSN|FBSV|FBSS|FBCR|FBID|FBLC|FBOP/i.test(o.userAgent),o.cache.isSamsungBrowser=/SamsungBrowser/i.test(o.userAgent)},o.cacheOsValues=function(){o.cache.isIpad="iPad"===o.device.model||/iPad/i.test(o.userAgent),o.cache.isIphone="iPhone"===o.device.model||/iPhone/i.test(o.userAgent),o.cache.isIos="iOS"===o.os.name||o.isIpad()||o.isIphone(),o.cache.isAndroid="Android"===o.os.name||/Android/i.test(o.userAgent)},o.cacheDeviceValues=function(){var t=/(m|M)obile/.test(o.userAgent);o.cache.isTablet="tablet"===o.device.type||o.isIpad()||o.isAndroid()&&!t,o.cache.isMobile="mobile"===o.device.type||o.isIos()&&!o.isIpad()||o.isAndroid()&&t,o.cache.isDesktop=!o.isMobile()&&!o.isTablet()},o.cacheVersionValues=function(){o.cache.ieVersion=o.isIE()?o.browser.version:null,o.cache.iOsVersion=o.isIos()?o.os.version:null,o.cache.androidVersion=o.isAndroid()?o.os.version:null,o.cache.chromeVersion=o.isChrome()?o.browser.version:null,o.cache.FacebookWebviewVersion=o.isFacebookWebview()?o.browser.version:null,o.cache.safariVersion=o.isSafari()?o.browser.version:null},o.cacheCustomValues=function(){o.cache.isAndroidMobile=o.isAndroid()&&o.isMobile(),o.cache.isAmpObserveIntersection=o.cache.amp&&o.cache.observeIntersection,o.cache.isUIWebview=(o.isIphone()||o.isIpad())&&!o.isSafari()&&!o.isChrome()&&!o.cache.uiWebview,o.cache.isIos10Safari=t.Semver.isGreaterOrEqual(o.getIosVersion(),"10")&&!o.isUIWebview()&&!o.isChromeIos(),o.cache.isIos10OtherBrowser=t.Semver.isGreaterOrEqual(o.getIosVersion(),"10")&&t.Semver.isLowerThan(o.getIosVersion(),"11")&&o.isUIWebview()&&o.isChromeIos()},o.doNeedAutoplayCheck=function(e){return void 0===e&&(e="53"),o.isAndroid()&&(o.isSamsungBrowser()||t.Semver.isGreaterOrEqual(o.getChromeVersion(),e))||t.Semver.isGreaterOrEqual(o.getIosVersion(),"10")},o.startAutoplayTest=function(){null===o.isAutoplayEnabled&&(o.doNeedAutoplayCheck()?o.autoplayHtmlVideoElement||o.autoplayStartTime||(o.autoplayHtmlVideoElement=document.createElement("video"),o.autoplayHtmlVideoElement.src=o.autoplayVideoUrl,o.autoplayHtmlVideoElement.style.display="none",o.autoplayHtmlVideoElement.setAttribute("webkit-playsinline","true"),o.autoplayHtmlVideoElement.setAttribute("playsinline","true"),o.autoplayHtmlVideoElement.muted=!0,document.body.appendChild(o.autoplayHtmlVideoElement),o.autoplayStartTime=t.Timing.now(),t.Timing.mark("markAutoplayStartTime"),o.autoplayHtmlVideoElement.play().then(function(){o.endAutoplayTest(!0)}).catch(function(t){o.endAutoplayTest(!1)})):o.isAutoplayEnabled=!1)},o.endAutoplayTest=function(e){null===o.isAutoplayEnabled&&(t.Timing.mark("markAutoplayEndTime"),o.isAutoplayEnabled=e),null!==o.autoplayHtmlVideoElement&&(o.autoplayHtmlVideoElement.pause(),document.body.removeChild(o.autoplayHtmlVideoElement),o.autoplayHtmlVideoElement=null)},o.logger=new t.Logger("Context"),o.cache={},o.blackListRealHtml5Player=/^(23027|24539|25695|25696|25697|25698|25699|25700|25701|25702|25703|25704|25705|25706|25707|25708|25709|25710|25711|26170|26231|26561|26566|26567|26568|26569|26570|26572|27446|28204|28206|28207|28210|28211|28212|28541|28827|28831|31814|33366|33704|33705|33706|33707|33708|34907|43985|49718|52375|53276|53824|53837|53838|53840|53842|55491|57698|57699|57702|60178|60578|61059|61123|69299)$/,o.autoplayVideoUrl=t.Utils.getProtocol()+"//cdn.teads.tv/media/format/v3/assets/default/autoplay.mp4",o.isAutoplayEnabled=null,o}();t.Context=o,o.init()}(i||(i={}))},function(t,e,n){n(12),n(34),n(0),n(10),n(11),n(16);var i=window.teads=window.teads||{};!function(t){t.START_TIME=t.START_TIME||t.date.now(),t.FULL_LOGS=t.FULL_LOGS||[],t.HAS_DEBUG_LOGS=!1;var e=!1;try{var n=navigator.userAgent;e=/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i.test(n)||/(?:ms|\()(ie)\s([\w\.]+)/i.test(n)||/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i.test(n)}catch(t){}var i,o=[],r=[],a=!1,s=function(){function t(){}return t.prototype.log=function(){},t}();i=window.console&&console.log?window.console:new s,function(){t.Cookie.get("teadsDebugLevel").toOption().map(function(t){return t.split(",")}).forEach(function(e){o=t.ArrayHelper.indexOf(e,"all")>=0?["debug","info","warn","error"]:e}),t.Cookie.get("teadsDebugNamespace").toOption().forEach(function(t){r=t.split(","),a="all"===String(t).toLocaleLowerCase()}),o.length&&!t.Logger&&(e?(i.log("Teads Media Framework > Debug mode"),i.log("Package: web-formats v2.18.66 %>")):(i.log("%cTeads Media Framework %c> Debug mode","color:#7ebde5;font-family:Helvetica,sans-serif;font-size:2em;","color:#aaa;font-family:Helvetica,sans-serif;font-size:2em;"),i.log("%cPackage: web-formats v2.18.66', 'color:#7ebde5;font-style:italic;"))),t.HAS_DEBUG_LOGS=!!o.length}();var c=function(){function n(t){this.namespace=t,this.console=i}return n.clear=function(){n.logs=[],t.FULL_LOGS=[]},n.getFullLogs=function(){return t.FULL_LOGS},n.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("debug",t)},n.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("info",t)},n.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("warn",t)},n.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._log("error",t)},n.prototype.table=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];i.table&&i.table(t,e.length>0?e:null)},n.prototype._log=function(s,c){var d=this;if(c.length){for(var l=t.date.now()-t.START_TIME,p=(l/1e3).toFixed(3)+"s",u="",h=0;h<c.length;h++)if(h>0&&(u+=" + "),"object"==typeof c[h])try{u+=t.JSON.stringify(c[h])}catch(t){u+=c[h]}else u+=c[h];if(t.FULL_LOGS.push({level:s,message:p+" ["+this.namespace+"] "+u}),!(t.ArrayHelper.indexOf(o,s)<0)){if(!a&&r.length){if(!t.ArrayHelper.some(r,function(t){return 0===d.namespace.indexOf(t)}))return}n.logs.push({level:s,message:p+" ["+this.namespace+"] "+c.join(" ")}),e?c=["Teads "+p+" ["+this.namespace+"] "+c.join(" ")]:c.unshift("Teads %c"+p+" "+this.namespace,"color:#7ebde5;");var f=i[s]||i.log;try{f.apply(i,c)}catch(t){Function.prototype.apply.apply(f,[i,c])}}}},n.logs=[],n}();t.Logger=c}(i||(i={}))},function(t,e,n){n(0);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.isURL=function(t){var e=/^\(?((?:(http|https|ftp):\/\/)|\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[\.][^\W\s]{2,4}|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([\/]?[^\s\?]*[\/]{1})*(?:\/?([^\s\n\?\[\]\{\}\#]*(?:(?=\.)){1}|[^\s\n\?\[\]\{\}\.\#]*)?([\.]{1}[^\s\?\#]*)?)?(?:\?{1}([^\s\n\#]*))?([\#][^\s\n]*)?\)?$/i;return"string"==typeof t&&e.test(t)},e.pad=function(t,e){void 0===e&&(e="00");var n=String(t);return e.substring(0,e.length-n.length)+n},e.ucfirst=function(t){return t.charAt(0).toUpperCase()+t.substr(1)},e.rand=function(t,e){void 0===e&&(e=!0);for(var n=e?"0123456789":"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i="",o=0;o<t;o++)i+=n.charAt(Math.floor(Math.random()*n.length));return i},e.trim=function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},e.separate=function(t){void 0===t&&(t="|");for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var i=!0,o=0;i&&o<e.length;)i=i&&!e[o],o++;return i?"":e.join(t)},e.endsWith=function(t,e){return t.slice(-e.length)===e},e.match=function(t,e){return t.match(e)||[]},e.replaceStringsWithValue=function(e,n){return function(i){return t.ArrayHelper.reduce(e,function(t,e){return t.replace(e,""+n)},i)}},e}();t.StringHelper=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(t,e){void 0===e&&(e=null),this.type=t,this.data=e}return t.AdLoaded="AdLoaded",t.AdStarted="AdStarted",t.AdStopped="AdStopped",t.AdSkipped="AdSkipped",t.AdLinearChange="AdLinearChange",t.AdSizeChange="AdSizeChange",t.AdExpandedChange="AdExpandedChange",t.AdSkippableStateChange="AdSkippableStateChange",t.AdRemainingTimeChange="AdRemainingTimeChange",t.AdDurationChange="AdDurationChange",t.AdVolumeChange="AdVolumeChange",t.AdImpression="AdImpression",t.AdVideoStart="AdVideoStart",t.AdVideoFirstQuartile="AdVideoFirstQuartile",t.AdVideoMidpoint="AdVideoMidpoint",t.AdVideoThirdQuartile="AdVideoThirdQuartile",t.AdVideoComplete="AdVideoComplete",t.AdClickThru="AdClickThru",t.AdInteraction="AdInteraction",t.AdUserAcceptInvitation="AdUserAcceptInvitation",t.AdUserMinimize="AdUserMinimize",t.AdUserClose="AdUserClose",t.AdPaused="AdPaused",t.AdPlaying="AdPlaying",t.AdLog="AdLog",t.AdError="AdError",t}();t.VPAIDEvent=e}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(116);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e){if(this.logger=new t.Logger("option."+e),!e)throw new t.FormatException(t.FormatException.OPTION_NAME_REQUIRED)}return e}();e.AbstractOption=n}(t.option||(t.option={}))}(i||(i={}))},function(t,e,n){n(29),n(25)},function(t,e,n){n(80),n(79),n(140),n(8);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(n,i,o,r,a){var s=this;if(this.ui=n,this.element=i,this.vpaid=o,this.config=r,this.globalVpaidEventHandler=a,this.eventHandler=new t.vpaid.EventHandler,this.showOnVideoStart=!0,r.style){var c=i.getAttribute("style");i.setAttribute("style",(c?c+";":"")+r.style)}var d=new RegExp(t.ui.componentBaseClassName+"([a-z]*)"),l=i.className.match(d);if(this.id=l&&l[1]?l[1]:"",this.logger=new t.Logger("teads.ui.Component"+(this.id?"."+this.id:"")),i.style.zIndex||(i.style.zIndex="2"),this.hide(),this.vpaid.subscribe(function(){s.onVideoStart()},t.vpaid.VPAIDEvent.AdVideoStart),r.startOffset){this.showOnVideoStart=!1;var p;p=function(){e.VPAIDHelper.getCurrentTime(s.vpaid)>=r.startOffset&&(s.vpaid.unsubscribe(p,t.vpaid.VPAIDEvent.AdRemainingTimeChange),s.show())},this.vpaid.subscribe(p,t.vpaid.VPAIDEvent.AdRemainingTimeChange)}this.bindClick()}return n.prototype.init=function(){},n.prototype.setShowOnVideoStart=function(t){this.showOnVideoStart=t},n.prototype.getShowOnVideoStart=function(){return this.showOnVideoStart},n.prototype.getConfig=function(){return this.config},n.prototype.isEnabled=function(){return!this.config.disable},n.prototype.getElement=function(){return this.element},n.prototype.show=function(){t.HTMLHelper.removeClass(this.getElement(),"hide"),t.HTMLHelper.addClass(this.getElement(),"show")},n.prototype.hide=function(){t.HTMLHelper.removeClass(this.getElement(),"show"),t.HTMLHelper.addClass(this.getElement(),"hide")},n.prototype.isVisible=function(){return this.getElement().className.indexOf("show")>-1},n.prototype.getVpaid=function(){return this.vpaid},n.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},n.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},n.prototype.getOverridenEvents=function(){return[]},n.prototype.getOverridenMethods=function(){return[]},n.prototype.onMethod=function(t,e){void 0===e&&(e=[])},n.prototype.onOverridenMethod=function(t,e){void 0===e&&(e=[])},n.prototype.remove=function(){this.getElement().parentNode&&this.getElement().parentNode.removeChild(this.getElement())},n.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},n.prototype.dispatchVpaidEvent=function(t,e){if(this.globalVpaidEventHandler)try{this.globalVpaidEventHandler({type:t,data:e})}catch(n){this.logger.error("error calling dispatchVpaidEvent "+t,e)}else this.logger.error("no globalVpaidEventHandler given. Dispatch "+t+" failed",e)},n.prototype.bindClick=function(){var e=this;t.Dom.addEventListener("click",this.getElement(),function(t){e.onClick(t)})},n.prototype.onClick=function(t){this.dispatchUiEvent(this.eventName)},n.prototype.dispatchUiEvent=function(t){t&&(this.logger.info("dispatch UI event "+t),this.dispatchVpaidEvent(t))},n}();n.Component=i}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(i||(i={}))},function(module,exports){var teads=window.teads=window.teads||{};!function(teads){var JSON=function(){function JSON(){}return JSON.stringify=function(t,e){void 0===e&&(e=!1);var n=Array.prototype.toJSON;delete Array.prototype.toJSON;var i=teads.JSON.jsonStringify(e?teads.JSON.decycle(t):t);return n&&(Array.prototype.toJSON=n),i},JSON.parse=function(sJSON){return window.JSON.parse?window.JSON.parse(sJSON):eval("("+sJSON+")")},JSON.decycle=function(t,e){var n=[],i=[];return function t(o,r){var a,s;return void 0!==e&&(o=e(o)),"object"!=typeof o||null===o||o instanceof Boolean||o instanceof Date||o instanceof Number||o instanceof RegExp||o instanceof String?o:(a=n.indexOf(o))>=0?{$ref:i[a]}:(n.push(o),i.push(r),Array.isArray(o)?(s=[],o.forEach(function(e,n){s[n]=t(e,r+"["+n+"]")})):(s={},Object.keys(o).forEach(function(e){s[e]=t(o[e],r+"["+JSON.stringify(e)+"]")})),s)}(t,"$")},JSON.jsonStringify=function(t){return window.JSON.stringify?window.JSON.stringify(t):teads.JSON.polyfillStringify(t)},JSON.polyfillStringify=function(t){if(null===t)return"null";if("number"==typeof t)return isFinite(Number(t))?t.toString():"null";if("boolean"==typeof t)return t.toString();if("object"==typeof t){if("function"==typeof t.toJSON)return teads.JSON.polyfillStringify(t.toJSON());if(Array.isArray(t)){for(var e="[",n=0;n<t.length;n++)e+=(n?", ":"")+teads.JSON.polyfillStringify(t[n]);return e+"]"}if("[object Object]"===Object.prototype.toString.call(t)){var i=[];for(var o in t)t.hasOwnProperty(o)&&i.push(teads.JSON.polyfillStringify(o)+": "+teads.JSON.polyfillStringify(t[o]));return"{"+i.join(", ")+"}"}}return'"'+t.toString().replace(teads.JSON.escRE,teads.JSON.escFunc)+'"'},JSON.escMap={'"':'\\"',"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},JSON.escRE=/[\\"\u0000-\u001F\u2028\u2029]/g,JSON.escFunc=function(t){return teads.JSON.escMap[t]||"\\u"+(t.charCodeAt(0)+65536).toString(16).substr(1)},JSON}();teads.JSON=JSON}(teads||(teads={}))},function(t,e,n){n(23);var i=window.teads=window.teads||{};!function(t){!function(e){var n=t.Utils.isNative,i=window.Date,o=i.prototype.getTime;e.now=n(i.now)?i.now:n(o)?function(){return o.call(new i)}:function(){return+new i},i.now||(i.now=e.now)}(t.date||(t.date={}))}(i||(i={}))},function(t,e){Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},o=function(){return n.apply(this instanceof i?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,o.prototype=new i,o})},function(t,e,n){n(5),n(0),n(39),n(4),n(1),n(3);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){this.logger=new t.Logger("Sumologic"),this.logStorage=[],this.initialized=!1}return e.prototype.init=function(n,i,o,r){if(void 0===o&&(o=null),void 0===r&&(r=null),this.initialized)return void this.logger.warn("Sumologic instance already initialized, aborting.");this.config=n,this.sessionId=i.getOrElse(function(){return t.StringHelper.rand(10,!1)}),e.version=o||e.version,this.sampling=r||e.SAMPLING_RATE,this.logSender=new t.LogSender(this.config.collector,this.config.formattingType),this.logger.debug("Sumologic init with sessionId="+this.sessionId+", sampling="+this.sampling),this.initialized=!0,this.unstackLogStorage()},e.prototype.isInitialized=function(){return this.initialized},e.prototype.getSessionId=function(){return this.initialized?this.sessionId:null},e.prototype.sendMetadata=function(t,e,n){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.METADATA,t,e,n):this.logStorage.push(["sendMetadata",arguments])},e.prototype.sendError=function(t,e,n){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.ERROR,t,e,n):this.logStorage.push(["sendError",arguments])},e.prototype.sendWarning=function(t,e,n){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.WARNING,t,e,n):this.logStorage.push(["sendWarning",arguments])},e.prototype.sendInfo=function(t,e,n){void 0===e&&(e={}),this.initialized?this.send(this.config.logLevels.INFO,t,e,n):this.logStorage.push(["sendInfo",arguments])},e.prototype.send=function(t,e,n,i){if(void 0===n&&(n={}),this.initialized){var o=this.getLogPrefix(this.config.prefixPattern,t,this.sessionId,n),r=this.logSender.format(e);this.canSend(i)?(this.logger.debug("Sent to collector",o,e),this.logSender.track(r,o)):this.logger.debug("Did not send to collector (sampling)",o,e)}else this.logger.warn("Could not send logs, Sumologic instance not initialized."),this.logStorage.push(["send",arguments])},e.prototype.sendRaw=function(t,e){this.initialized?this.canSend(e)?(this.logger.debug("Sent to collector",t),this.logSender.track(t)):this.logger.debug("Did not send to collector (sampling)",t):(this.logger.warn("Could not send logs, Sumologic instance not initialized."),this.logStorage.push(["sendRaw",arguments]))},e.prototype.setAdType=function(t){e.adType=t},e.prototype.canSend=function(t){return void 0===t&&(t=this.sampling),e.RANDOM<=t},e.prototype.unstackLogStorage=function(){var e=this;t.ArrayHelper.forEach(this.logStorage,function(t){return e[t[0]].apply(e,t[1])}),this.logStorage=[]},e.prototype.getLogPrefix=function(n,i,o,r){var a={level:i,timestamp:e.version+"|"+t.Context.getFullContext()+"|"+e.adType,sessionId:o};r=t.Utils.extend(a,r);var s=n;for(var c in r)r.hasOwnProperty(c)&&(s=s.replace(c,r[c]));return s},e.SAMPLING_RATE=.05,e.RANDOM=Math.random(),e.COLLECTORS={FORMAT:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV3tMuL-jxvu514sKTR1JLPJH0zZLzvxn3qMwWPdO_mBRbSGTyZgi2P4CqAJ4tfCX6IriPgecDkMFRxDm1GAGUben7xo9S92iY-h9z-o4eCwqg==",PLAYER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV2OstA92K8Xbj_kskBs5tjvp3fnz5Kd87xTE6v-AevmCgsG9SX_kqjlNgr2zKEpTQZWkuy61qzMee2njNfpDU2z7EIYjtXb-wRLLbHhGRVIOg==",ROUTER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV0yoMPXbPr1DHlBdbxeDuo3K5k3sGyLYmTOy4VGTwjLazFajGH6fqEKM4WlaPVtnZSCp4oebZS2mDiHAfUyzLxdRx_1JbayoNzbvQ26FTVmqQ==",COMMANDER:"https://endpoint2.collection.sumologic.com/receiver/v1/http/ZaVnC4dhaV3NNlT87PWOPYa010EVMSHpuQeovx5tDnmwMuXqzCgUX1-6HghrEdYK-kIRMgBtWNwHBcQgJnWWFbpt4fXZxqahQ-B0Sth5_7o0OO28a6Cuog=="},e.PREFIX_PATTERNS={CLASSIC:"[timestamp][sessionId][level] ",LIGHT:"sessionId>type>subtype>level>pid "},e.LOG_LEVELS={CLASSIC:{INFO:"info",METADATA:"metadata",WARNING:"warning",ERROR:"error"},LIGHT:{INFO:"info",METADATA:"meta",WARNING:"warn",ERROR:"err"}},e.CONFIGS={FORMAT:{collector:e.COLLECTORS.FORMAT,prefixPattern:e.PREFIX_PATTERNS.CLASSIC,logLevels:e.LOG_LEVELS.CLASSIC,formattingType:t.LogSender.FORMATTING_TYPES.JSON},PLAYER:{collector:e.COLLECTORS.PLAYER,prefixPattern:e.PREFIX_PATTERNS.CLASSIC,logLevels:e.LOG_LEVELS.CLASSIC,formattingType:t.LogSender.FORMATTING_TYPES.JSON},ROUTER:{collector:e.COLLECTORS.ROUTER,prefixPattern:e.PREFIX_PATTERNS.CLASSIC,logLevels:e.LOG_LEVELS.CLASSIC,formattingType:t.LogSender.FORMATTING_TYPES.JSON},COMMANDER:{collector:e.COLLECTORS.COMMANDER,prefixPattern:e.PREFIX_PATTERNS.CLASSIC,logLevels:e.LOG_LEVELS.CLASSIC,formattingType:t.LogSender.FORMATTING_TYPES.JSON}},e.version="",e.adType="",e}();t.Sumologic=e}(i||(i={}))},function(t,e,n){n(6)},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){!function(t){t[t.FULL=0]="FULL",t[t.SMART=1]="SMART",t[t.NO_STREAM=2]="NO_STREAM"}(t.StreamType||(t.StreamType={}))}(t.model||(t.model={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(n||(n={}))},function(t,e,n){n(0);var i=window.teads=window.teads||{};!function(t){function e(t){return new n(t)}var n=function(){function n(t){this.value=t,this._isEmpty=null===t||void 0===t}return n.of=function(n){return null===n||void 0===n?t.None:e(n)},n.ofNested=function(e,n){return this.of(t.ArrayHelper.reduce(n.split("."),function(t,e){return null===t||void 0===t?t:t[e]},e))},n.empty=function(){return t.None},n.prototype.isEmpty=function(){return this._isEmpty},n.prototype.nonEmpty=function(){return!this._isEmpty},n.prototype.getOrElse=function(t){return this._isEmpty?t():this.value},n.prototype.orElse=function(t){return this._isEmpty?t():this},n.prototype.orNull=function(){return this._isEmpty?null:this.value},n.prototype.map=function(e){return this._isEmpty?t.None:n.of(e(this.value))},n.prototype.flatMap=function(e){return this._isEmpty?t.None:e(this.value)},n.prototype.filter=function(e){return this._isEmpty||!e(this.value)?t.None:this},n.prototype.existsIf=function(t){return!this._isEmpty&&t(this.value)},n.prototype.forEach=function(t){this._isEmpty||t(this.value)},n.prototype.match=function(t){return this._isEmpty?t.none():t.some(this.value)},n}();t.Option=n,t.Some=e,t.None=new n(null)}(i||(i={}))},function(t,e,n){n(0),n(5),n(18),n(3);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.createIframe=function(){var t=document.createElement("iframe");return t.style.setProperty("margin","0","important"),t.style.setProperty("padding","0","important"),t.style.setProperty("width","0","important"),t.style.setProperty("height","0","important"),t.style.setProperty("border","0","important"),t.style.setProperty("overflow","hidden","important"),t.style.setProperty("float","none","important"),t.setAttribute("scrolling","no"),t.frameBorder="0",t},e.isFullscreen=function(t){return t||(t=document),!!(t.fullscreenElement||t.mozFullScreenElement||t.webkitFullscreenElement||t.msFullscreenElement)},e.getWindow=function(n){if(!n||t.Dom.isNodeList(n))return null;var i=e.getDocument(n);return i?i.defaultView||i.parentWindow:null},e.getDocument=function(e){return!e||t.Dom.isNodeList(e)?null:e.ownerDocument},e.toggleFullscreen=function(t){e.isFullscreen()?this.closeFullscreen(t):this.openFullscreen(t)},e.openFullscreen=function(t){t.requestFullscreen?t.requestFullscreen():t.msRequestFullscreen?t.msRequestFullscreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.webkitRequestFullscreen&&t.webkitRequestFullscreen()},e.closeFullscreen=function(t){var n=e.getDocument(t);n.exitFullscreen?n.exitFullscreen():n.msExitFullscreen?n.msExitFullscreen():n.mozCancelFullScreen?n.mozCancelFullScreen():n.webkitExitFullscreen&&n.webkitExitFullscreen()},e.addClass=function(n,i){e.hasClass(n,i)||(n.className+=" "+i,n.className=t.StringHelper.trim(n.className))},e.removeClass=function(n,i){if(e.hasClass(n,i)){var o=n.className.split(" ");o.splice(t.ArrayHelper.indexOf(o,i),1),n.className=t.StringHelper.trim(o.join(" "))}},e.hasClass=function(e,n){return-1!==t.ArrayHelper.indexOf(e.className.split(" "),n)},e.toggleClass=function(t,n){e.hasClass(t,n)?e.removeClass(t,n):e.addClass(t,n)},e.replaceClass=function(t,n,i){!e.hasClass(t,n)&&e.hasClass(t,i)&&(e.removeClass(t,i),e.addClass(t,n))},e.findParentWindows=function(n){var i=[];if(t.Dom.isHTMLElement(n)){var o;o=function(t){t.parent!==t&&t.parent.document&&t.parent.location&&t.parent.window&&(i.push(t.parent),o(t.parent))};var r=e.getWindow(n);i.push(r);try{o(r)}catch(t){}}return i},e.findChildWindows=function(n,i){void 0===i&&(i=!1);var o=[];if(t.Dom.isHTMLElement(n))for(var r=n.getElementsByTagName("iframe"),a=0;a<r.length;a++)try{r[a].contentWindow&&r[a].contentWindow.document&&r[a].contentWindow.document.body&&(o.push(r[a].contentWindow),i&&t.ArrayHelper.forEach(e.findChildWindows(r[a].contentWindow.document.body,!0),function(t){o.concat(t.contentWindow)}))}catch(t){}return o},e.findAllWindows=function(t){return e.findParentWindows(t).concat(e.findChildWindows(t))},e.findParentFrameNode=function(t){var n=e.getWindow(t);try{if(n.parent!==n&&void 0!==n.parent.Window&&n.parent instanceof n.parent.Window){var i=n.parent.document.getElementsByTagName("iframe");if(i)for(var o=0;o<i.length;o++)if(i[o].contentWindow===n)return e.findParentFrameNode(i[o])}}catch(t){}return t},e.findFirstParentFrameNode=function(t){var n=e.getWindow(t);try{if(n.parent!==n&&void 0!==n.parent.Window&&n.parent instanceof n.parent.Window){var i=n.parent.document.getElementsByTagName("iframe");if(i)for(var o=0;o<i.length;o++)if(i[o].contentWindow===n&&!e.isKarmaFrame(i[o]))return i[o]}}catch(t){}return t},e.isKarmaFrame=function(t){return"context"===t.id&&"http://localhost:5555/context.html"===t.src&&"100%"===t.width&&"100%"===t.height},e.findParentElements=function(n){var i=[];if(t.Dom.isHTMLElement(n))for(var o=e.getDocument(n),r=n,a=r.tagName&&r.tagName.toUpperCase&&"HTML"===r.tagName.toUpperCase();!a&&r!==o.body&&t.Dom.isHTMLElement(r);)(r=r.parentElement)&&i.push(r);return i},e.isInView=function(n,i,o,r){r||(r=n.offsetHeight);var a=e.getPercentageInView(n,i,r);return(!t.Context.isAmp()&&!t.Context.isIABSafeFrame()||0!==a)&&a>=o},e.getPercentageInView=function(e,n,i,o){if(void 0===i&&(i=e.offsetHeight),void 0===o&&(o=!1),t.Context.isAmp())return n._teads_amp.change?n._teads_amp.change.intersectionRect.height/n._teads_amp.change.boundingClientRect.height:0;if(t.Context.isIABSafeFrame()){var r=n.$sf.ext.geom();return r&&r.self?r.self.yiv:0}if(!i)return-1;var a=t.Dom.getWindowSize(n),s=t.Dom.getBoundingClientRect(e),c=s.top>0?a.height-s.top:s.top+i,d=c/i;return o||(d=d>0?d:0,d=d<1?d:1),d},e.findFloatingHeaders=function(n,i){void 0===n&&(n=window),void 0===i&&(i=[]);for(var o,r,a=[],s=t.Dom.getWindowSize(n),c=s.width/2,d=s.height*e.MAX_FLOATING_TOP,l=d*e.MAX_FLOATING_TOP,p=1;p<d;p+=l)o=n.document.elementFromPoint(c,p),r!==o&&(r=o,t.ArrayHelper.forEach(e.findParentElements(o),function(e){"fixed"!==n.getComputedStyle(e).position||t.ArrayHelper.includes(i,e)||a.push(e)}));return t.ArrayHelper.unique(a)},e.getRealVisibilityState=function(n){var i=!0;t.Dom.isHTMLElement(n)||(i=!1);var o=e.getWindow(n)||window,r=o.getComputedStyle(n);if(i&&"none"===r.display&&(i=!1),i){var a=t.Dom.getBoundingClientRect(n),s="hidden"===r.overflowX||"hidden"===r.overflowY;a.height<4&&a.width<4&&s&&(i=!1)}var c=e.getParentElement(n);return i&&c&&(i=e.getRealVisibilityState(c)),i},e.getCSSRules=function(n){var i=e.getWindow(n).document.styleSheets,o=[];if(n.matches=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector||n.oMatchesSelector,t.Utils.isFunction(n.matches))for(var r in i){var a=i[r],s=a.rules||a.cssRules;for(var c in s){var d=s[c];n.matches(d.selectorText)&&o.push(d)}}return o},e.copyCSSRules=function(n,i,o){var r=e.getCSSRules(n);t.ArrayHelper.forEach(r,function(e){t.ArrayHelper.forEach(o,function(t){var n=e.style.getPropertyValue(t);!n||i.style[t]||i.getAttribute(t)||(i.style[t]=n)})})},e.getParentElement=function(e){var n=null;return t.Dom.isHTMLElement(e)&&(n=e.parentElement),n},e.MAX_FLOATING_TOP=t.Context.isDesktop()?.1:.15,e}();t.HTMLHelper=e}(i||(i={}))},function(t,e,n){n(3),n(1),n(0),n(4),n(17);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.getBoundingClientRect=function(n){try{var i=n.getBoundingClientRect(),o=e.copyBoundingClientRect(i);if(!t.Context.isAmp()&&!t.Context.isIABSafeFrame()&&!t.Context.isFacebookIA()&&t.HTMLHelper.getWindow(n)!==window.top){var r=t.HTMLHelper.findFirstParentFrameNode(n);if(r!==n){var a=e.getBoundingClientRect(r);a.top&&(o.top=a.top+i.top,o.bottom=a.top+i.bottom),a.left&&(o.left=a.left+i.left,o.right=a.left+i.right)}}return o}catch(t){return{left:0,top:0,right:0,bottom:0,width:0,height:0}}},e.copyBoundingClientRect=function(t){return{top:t.top||0,right:t.right||0,bottom:t.bottom||0,left:t.left||0,width:t.width||0,height:t.height||0}},e.getSize=function(n){var i=n.offsetWidth,o=n.offsetHeight,r=t.Context.getUA().indexOf("WebKit")>-1&&!i&&!o;if((!i||r)&&n.getBoundingClientRect){var a=e.getBoundingClientRect(n);return{width:a.right-a.left,height:a.bottom-a.top}}return{width:i,height:o}},e.getTextContent=function(n,i){if(t.ArrayHelper.indexOf(e.TAGS_TO_IGNORE,n.nodeName)>=0);else if(n.nodeType===e.NODE_TYPES.TEXT)i.push(n.nodeValue);else if(n.nodeName in e.PREDEFINED_TAG_VALUES)i.push(e.PREDEFINED_TAG_VALUES[n.nodeName]);else for(var o=n.firstChild;o;)e.getTextContent(o,i),o=o.nextSibling},e.isEmpty=function(n,i){if(void 0===i&&(i=window),n){var o=n.tagName.toLowerCase(),r=["iframe","object","img"];return!(t.ArrayHelper.includes(r,o)||e.querySelectorAll(r.join(","),i,n).length>0||""!==n.textContent.trim())}},e.querySelectorAll=function(t,e,n){return void 0===n&&(n=null),n=n||e.document,n.querySelectorAll(t)},e.findMatchingElement=function(n,i){var o=n[0];if(o){var r=o.querySelector(i);return t.Option.of(r).orElse(function(){return e.findMatchingElement(n.slice(1),i)})}return t.Option.empty()},e.getAttributeValue=function(e,n){return t.Option.of(e.getAttribute(n)).filter(function(t){return""!==t})},e.getAndRemoveAttributeValue=function(t,n){return e.getAttributeValue(t,n).map(function(e){return t.removeAttribute(n),e})},e.getWindowSize=function(e){if(void 0===e&&(e=window),t.Context.isIABSafeFrame()){var n=window.$sf.ext.geom();return{width:n.win.w,height:n.win.h}}return"number"==typeof e.innerWidth?{width:e.innerWidth,height:e.innerHeight}:e.document.documentElement&&(e.document.documentElement.clientWidth||e.document.documentElement.clientHeight)?{width:e.document.documentElement.clientWidth,height:e.document.documentElement.clientHeight}:e.document.body&&(e.document.body.clientWidth||e.document.body.clientHeight)?{width:e.document.body.clientWidth,height:e.document.body.clientHeight}:{width:1e3,height:600}},e.inject=function(t,e){void 0===e&&(e=window),(e.document.getElementsByTagName("head")[0]||e.document.body).appendChild(t)},e.addEventListener=function(t,n,i){n.addEventListener?n.addEventListener(t,i,!0):n.attachEvent?n.attachEvent("on"+t,i):e.logger.warn("Trying to addEventListener on bad object",n)},e.removeEventListener=function(t,n,i){try{n.removeEventListener?n.removeEventListener(t,i,!0):n.attachEvent?n.detachEvent("on"+t,i):e.logger.warn("Trying to removeEventListener on bad object",n)}catch(t){}},e.onDomReady=function(t,n){void 0===n&&(n=window),!n.document||"complete"!==n.document.readyState&&"loaded"!==n.document.readyState&&"interactive"!==n.document.readyState?n.addEventListener?n.addEventListener("DOMContentLoaded",t,!1):n.attachEvent&&n===n.top?1===e.readyQueue.push(t)&&e.readyIEtop(n):n.attachEvent&&n.attachEvent("onload",t):"interactive"===n.document.readyState&&n.document.attachEvent?n.document.attachEvent("onreadystatechange",function(){"complete"!==n.document.readyState&&"loaded"!==n.document.readyState||t()}):t()},e.onDomComplete=function(t,n,i){void 0===n&&(n=window),void 0===i&&(i=this),"complete"===n.document.readyState?t.call(i):e.addEventListener("load",n,function(){t.call(i)})},e.getScrollLeft=function(t){return t.pageXOffset?t.pageXOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollLeft:t.document.body.scrollLeft},e.getScrollTop=function(t){return t.pageYOffset?t.pageYOffset:"CSS1Compat"===(t.document.compatMode||"")?t.document.documentElement.scrollTop:t.document.body.scrollTop},e.getElementsByClassName=function(t,n,i){if(void 0===i&&(i=window),n=n||i.document,n.getElementsByClassName)return n.getElementsByClassName(t);for(var o=t.split(" "),r="",a=0,s=o.length;a<s;a++)r+="."+o[a];return e.querySelectorAll(r,i,n)},e.isHTMLElement=function(n,i){return!(!n||"object"!=typeof n||e.isNodeList(n))&&(i||(i=t.HTMLHelper.getWindow(n)||window),"object"==typeof i.HTMLElement?n instanceof i.HTMLElement:n&&"object"==typeof n&&1===n.nodeType&&"string"==typeof n.nodeName)},e.isNodeList=function(t){return!(!t||"object"!=typeof t)&&("[object NodeList]"===String(t)||"[object StaticNodeList]"===String(t))},e.isSelfClosingTag=function(t){if(e.isHTMLElement(t))return/^(?:area|br|col|embed|hr|img|input|link|meta|param)$/i.test(t.nodeName)},e.htmlDecode=function(t){var e=document.createElement("textarea");return e.innerHTML=t,e.value},e.htmlEncode=function(t){var e=document.createElement("textarea");return e.innerText=t,e.innerHTML},e.getOuterHTML=function(t){var n;return e.isHTMLElement(t)&&(n=e.htmlDecode(t.outerHTML)),n},e.readyIEtop=function(t){try{t.document.documentElement.doScroll("left");for(var n=void 0;n=e.readyQueue.shift();)n()}catch(n){setTimeout(e.readyIEtop,50,t)}},e.readyQueue=[],e.PREDEFINED_TAG_VALUES={IMG:" ",BR:"\n"},e.TAGS_TO_IGNORE=["SCRIPT","STYLE","HEAD","IFRAME","OBJECT"],e.NODE_TYPES={ELEMENT:1,ATTRIBUTE:2,TEXT:3,CDATA_SECTION:4,ENTITY_REFERENCE:5,ENTITY:6,PROCESSING_INSTRUCTION:7,COMMENT:8,DOCUMENT:9,DOCUMENT_TYPE:10,DOCUMENT_FRAGMENT:11,NOTATION:12},e.logger=new t.Logger("Dom"),e}();t.Dom=e}(i||(i={}))},function(t,e,n){n(12),n(11);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.init=function(){try{e.performance=window.top.performance||window.top.webkitPerformance||window.top.msPerformance||window.top.mozPerformance}catch(t){}},e.mark=function(t){if(!t||"string"!=typeof t)return null;if(e.performance&&e.performance.mark)e.performance.mark(t);else{var n={name:t,entryType:"mark",startTime:e.now(),duration:0};e.performanceEntries[t]=n}},e.measure=function(t,n,i){if(!t||"string"!=typeof t||!n||"string"!=typeof n||!i||"string"!=typeof i)return null;try{if(e.performance&&e.performance.measure)e.performance.measure(t,n,i);else if(e.performanceEntries[n]&&e.performanceEntries[i]){var o={name:t,entryType:"measure",startTime:e.performanceEntries[n].startTime,duration:e.performanceEntries[i].startTime-e.performanceEntries[n].startTime};e.performanceEntries[t]=o}return e.getLastEntryByName(t)}catch(t){return e.logger.warn(t),null}},e.getLastEntryByName=function(t){try{if(e.performance&&e.performance.getEntriesByName){var n=e.performance.getEntriesByName(t);return n[n.length-1]}return e.performanceEntries[t]?e.performanceEntries[t]:null}catch(t){return e.logger.warn(t),null}},e.getTimingByRegex=function(t){var n=null;if(e.performance&&e.performance.getEntries){var i=e.performance.getEntriesByType("resource");for(var o in i)if(i.hasOwnProperty(o)&&t.test(i[o].name)){n=i[o];break}}return n},e.getResourceCount=function(){if(e.performance&&e.performance.getEntries)return e.performance.getEntriesByType("resource").length},e.now=function(){return e&&e.performance&&e.performance.now?e.performance.now():t.date.now()},e.logger=new t.Logger("helper.Timing"),e.performanceEntries={},e}();t.Timing=e,e.init()}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){!function(t){t[t.INIT=0]="INIT",t[t.INIT_VIDEO=1]="INIT_VIDEO",t[t.INIT_AUDIO=2]="INIT_AUDIO",t[t.CAN_PLAY=3]="CAN_PLAY",t[t.PLAYING=4]="PLAYING",t[t.PAUSED=5]="PAUSED",t[t.LOADED=6]="LOADED",t[t.STALLED=7]="STALLED",t[t.ENDED=8]="ENDED"}(t.MediaState||(t.MediaState={}))}(t.model||(t.model={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(n||(n={}))},function(t,e){},function(t,e){},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){function e(t){var e=typeof t;return"function"===e?r.test(i.call(t)):!(!t||"object"!==e||!o.test(n.call(t)))}var n=Object.prototype.toString,i=Function.prototype.toString,o=/^\[object .+?Constructor\]$/,r=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.isNative=e}(t.Utils||(t.Utils={}))}(n||(n={}))},function(t,e,n){n(52),n(56),n(63),n(67),n(15);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(n){function o(e,i,o,r){void 0===r&&(r={});var a=n.call(this,e,i,o)||this;return a.parameters=r,a.defaultVolume=0,a.logger=new t.Logger("canvas.player.CanvasPlayer"),a.audioSyncDiff=.5,a.waitForPlay=!1,a.logger.debug("constructor()",e,i,o,r.assetsPath),a.parameters.assetsPath&&a.parameters.assetsPath.match(/http:|https:/)||(a.logger.warn("assetsPath replace with default (relative path not allow)"),a.parameters.assetsPath=window.location.protocol+"//cdn.teads.tv/media/player"),a}return i(o,n),o.prototype.load=function(t,n,i){var o=this;void 0===n&&(n=!1),void 0===i&&(i=e.model.StreamType.NO_STREAM),this.logger.debug("load()",t,n,i),this.url=t.replace(/http:|https:/,""),this.dispatch(e.model.mediaEvents.LOAD_START),this.getMeta(this.url,function(t){var r=o.url.split("/");r.pop(),o.video=new e.components.Video(r.join("/"),t,i,o),o.audio=new e.components.Audio(r.join("/"),t,i,o),o.buffer=new e.components.Buffering(o),n&&o.listen(e.model.mediaEvents.CAN_PLAY,function(){return o.play()}),o.buffer.show(),o.listen(e.model.mediaEvents.CAN_PLAY,function(){return o.buffer.hide()}),o.listen(e.model.mediaEvents.ENDED,function(){return o.audio.release()}),o.video.listen(e.model.mediaEvents.STALLED,function(){return o.dispatch(e.model.mediaEvents.STALLED)}),o.video.listen(e.model.mediaEvents.STALLED,function(){return o.pause(!0)}),o.video.listen(e.model.mediaEvents.RESUME_AFTER_STALLED,function(){return o.dispatch(e.model.mediaEvents.RESUME_AFTER_STALLED)}),o.video.listen(e.model.mediaEvents.RESUME_AFTER_STALLED,function(){return o.play()}),o.video.listen(e.model.mediaEvents.TIME_UPDATE,function(){return o.onVideoProgress()}),o.video.listen(e.model.mediaEvents.CAN_PLAY,function(){return o.canPlayAll()}),o.audio.listen(e.model.mediaEvents.CAN_PLAY,function(){return o.canPlayAll()}),o.video.listen(e.model.mediaEvents.ENDED,function(){return o.dispatch(e.model.mediaEvents.ENDED)}),o.video.listen(e.model.mediaEvents.LOADED,function(){return o.dispatch(e.model.mediaEvents.LOADED)}),o.video.listen(e.model.mediaEvents.ERROR,function(){return o.dispatch(e.model.mediaEvents.ERROR,{error:"An error occured with the video."})})})},o.prototype.play=function(){var t=this;this.logger.info("play()"),this.canplay()?(this.waitForPlay=!1,this.video.play(),this.audio.play(),this.dispatch(e.model.mediaEvents.PLAY),this.dispatch(e.model.mediaEvents.PLAYING)):this.waitForPlay||(this.waitForPlay=!0,this.dispatch(e.model.mediaEvents.STALLED),this.dispatch(e.model.mediaEvents.PAUSE),this.listen(e.model.mediaEvents.CAN_PLAY,function(){t.dispatch(e.model.mediaEvents.RESUME_AFTER_STALLED),t.play()}))},o.prototype.pause=function(t){void 0===t&&(t=!1),this.video&&this.audio?(this.video.pause(),this.audio.pause(),this.dispatch(e.model.mediaEvents.PAUSE),this.logger.info("pause()"),t||this.video.state!==e.model.MediaState.STALLED||(this.video.cleanStallTimeout(),this.buffer.hide())):(this.muteEvent(e.model.mediaEvents.CAN_PLAY),this.waitForPlay=!1)},o.prototype.canplay=function(){return!(!this.video||!this.audio)&&(this.video.canplay()&&this.audio.canplay())},Object.defineProperty(o.prototype,"src",{get:function(){return this.url},set:function(t){this.load(t,!1,e.model.StreamType.FULL)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentTime",{get:function(){return this.video?this.video.getCurrentTime():0},set:function(t){this.video&&(this.logger.info("set currentTime",t),this.dispatch(e.model.mediaEvents.SEEKING),this.video.setCurrentTime(t)&&(this.audio.currentTime=t),this.dispatch(e.model.mediaEvents.SEEKED))},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"duration",{get:function(){return this.video&&this.audio?this.video.duration||this.audio.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"volume",{get:function(){return this.audio?this.audio.volume:0},set:function(t){var n=this;if(this.logger.debug("set volume",t),this.audio){this.audio.volume=t;this.audio.canplay()&&this.video.state===e.model.MediaState.PLAYING&&function(){n.audio.play(n.currentTime)}(),this.dispatch(e.model.mediaEvents.VOLUME_CHANGE,{value:t})}else this.defaultVolume=t},enumerable:!0,configurable:!0}),o.prototype.onVideoProgress=function(){if(this.audio.api&&this.audio.playing()){var t=this.audio.currentTime-this.currentTime,n=Math.abs(t);n>=this.audioSyncDiff&&(t>0||this.video.meta.tv?this.video.setCurrentTime(this.audio.currentTime)||this.video.setCurrentTime(this.currentTime+this.audioSyncDiff):this.audio.currentTime=this.currentTime,this.logger.debug("sync audio (diff/audioTime)",n,this.audio.currentTime),this.dispatch(e.model.mediaEvents.AUDIO_SYNC,{value:n}))}this.dispatch(e.model.mediaEvents.TIME_UPDATE)},o.prototype.canPlayAll=function(){this.canplay()&&(this.dispatch(e.model.mediaEvents.CAN_PLAY),this.dispatch(e.model.mediaEvents.LOADED_METADATA))},o.prototype.getMeta=function(n,i){var o=this,r=t.Request.createXmlHttpRequest();r.open("GET",n.replace(/(\.mpg|\.mpeg|\.tv)(?!\/)/gi,".meta?v2"),!0),r.responseType="json",r.addEventListener("load",function(n){if(r.response){var a="string"==typeof r.response?t.JSON.parse(r.response):r.response;!a.tv&&(t.Context.isChromeIos()||t.Context.isUIWebview()||t.Context.isFacebookWebview()||t.Context.isIpad())?o.dispatch(e.model.mediaEvents.ERROR,{error:"The metadata are missing."}):i(a)}else o.dispatch(e.model.mediaEvents.ERROR,{error:"No response from the HTTPRequest, did the file exist?"})}),r.addEventListener("error",function(t){o.dispatch(e.model.mediaEvents.ERROR,{error:"An error occured with the HTTPRequest."}),o.logger.error.bind(o.logger)}),r.send()},o}(e.components.Canvas);e.CanvasPlayer=n}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(4),n(10),n(3),n(17),n(26),n(18),n(1),n(11);var i=window.teads=window.teads||{};!function(t){t.WIGO_DEBUG_KEY=t.WIGO_DEBUG_KEY||null;var e=function(){function e(){var e=this;this.color="blue",this.statusDetails="",this.bottomPxPosition=10,this.position=1,this.buttonHeight=0,t.WIGO_DEBUG_KEY=!t.WIGO_DEBUG_KEY&&t.HAS_DEBUG_LOGS?"debug":t.WIGO_DEBUG_KEY,this.elapsedTime=0,this.logfile={context:(t.Context.getDevice().toString()+"-"+t.Context.getOS().toString()+"-"+t.Context.getBrowser().toString()).replace(/\|/g," "),url:location.href,steps:[],logs:[],timeline:[]};var n=t.HTMLHelper.findParentWindows(document.body);if(this.topWindow=n.pop()||window,t.WIGO_DEBUG_KEY)this.createDebugButton(this.color),this.recordUserActions();else{var i=function(n){var i=n.data.wigoLiveDebug;i&&i.length&&i.length>1&&(t.WIGO_DEBUG_KEY=i[1],e.createDebugButton(e.color),e.recordUserActions())};try{this.topWindow.addEventListener("message",i)}catch(t){this.topWindow=window,this.topWindow.addEventListener("message",i)}}}return e.setTotalInstances=function(t){e.totalInstances=t},e.prototype.setPlayerContainer=function(t){this.playerContainer=t},e.prototype.valid=function(n,i,o,r){if(this.addValidEvent(n,i,{store:o,type:r}),r===e.infoType.ERROR){var a="";"string"==typeof o?a=o:o.message?(o.id&&(a=o.id+" - "),a+=o.message):a=o.length?o:t.JSON.stringify(o),this.setStatus(!1,a)}else 3===n&&2===i?this.setStatus(!0,"AdLoaded"):3===n&&3===i&&this.setStatus(!0,"AdStarted")},e.prototype.vastEvent=function(t,n,i,o){if(this.addValidEvent(0,0,{store:{name:t,time:n,percent:i,pixels:o},type:e.infoType.VAST_EVENT}),"complete"===t)this.setStatus(!0,"AdComplete");else if("pause"===t)this.setStatus(!0,"AdPaused"),this.lastTracking="pause";else if("pause"===this.lastTracking)this.lastTracking=null;else if("progress"===t){var r="undefined"===n?"":n.split(".")[0]+"s";this.setStatus(!0,"AdPlaying: "+r)}},e.prototype.setStatus=function(t,e){void 0===e&&(e="");var n=t?"green":"red";this.button?(this.status.style.backgroundColor=n,this.status.style.display="block",this.loader.style.display="none",this.status.innerHTML=e):(this.color=n,this.statusDetails=e)},e.prototype.moveButton=function(t){this.bottomPxPosition=e.initialBottomPosition+(t-1)*e.bottomPxInterval,this.position=t,this.button&&this.button.style.setProperty("bottom",this.bottomPxPosition+"px")},e.prototype.followPlayer=function(){var n=t.Dom.getBoundingClientRect(this.playerContainer),i=this.topWindow.innerHeight-this.buttonHeight-(e.initialBottomPosition+(e.totalInstances-this.position)*e.bottomPxInterval),o=this.topWindow.innerHeight-n.bottom+n.height/2-this.buttonHeight/2,r=10;o<this.bottomPxPosition?o=this.bottomPxPosition:o>i?o=i:r=50,this.button.style.setProperty("bottom",o+"px"),this.button.style.setProperty("right",r+"px")},e.prototype.recordUserActions=function(){var n=this;this.elapsedTime<3e5&&setTimeout(function(){var i=n.logfile.timeline[n.logfile.timeline.length-1],o=t.Dom.getWindowSize(n.topWindow),r=t.Dom.getScrollLeft(n.topWindow),a=t.Dom.getScrollTop(n.topWindow);if(!i||n.hasInteracted(i,o,r,a)){var s={time:n.elapsedTime,scrollX:r,scrollY:a,screenWidth:o.width,screenHeight:o.height,player:{top:0,height:0,left:0,width:0}};if(n.playerContainer){var c=t.Dom.getBoundingClientRect(n.playerContainer);s.player={top:c.top,height:c.height,left:c.left,width:c.width}}n.logfile.timeline.push(s)}n.elapsedTime+=e.recordUserActionsTiming,n.recordUserActions()},e.recordUserActionsTiming)},e.prototype.addValidEvent=function(t,e,n){var i={step:t,substep:e,info:n};this.logfile.steps.push(i)},e.prototype.createDebugButton=function(n){var o=this;if(t.WIGO_DEBUG_KEY&&!this.button){var r=this.topWindow.document.createElement("div");r.innerHTML=e.TEMPLATE,this.button=r.firstChild,this.button.onclick=function(t){o.openWigoReport(),t.stopPropagation()},this.button.style.setProperty("bottom",this.bottomPxPosition+"px"),this.topWindow.document.body.appendChild(this.button),this.status=this.button.firstChild,this.status.style.backgroundColor=n,this.status.innerHTML=this.statusDetails,this.loader=this.status.nextSibling,"blue"!==this.color?(this.status.style.display="block",this.loader.style.display="none"):(this.status.style.display="none",this.loader.style.display="block"),this.buttonHeight=t.Dom.getBoundingClientRect(this.button).height,t.Context.isAmp()&&i.helper.AmpResize&&("red"===n&&(i.helper.AmpResize.ratio=4),setTimeout(function(){return o.forceAmpOpen()},1e3)),"QA"===t.WIGO_DEBUG_KEY&&(this.button.style.display="none")}},e.prototype.forceAmpOpen=function(){var t=this;if(!i.helper.AmpResize.isVisible()){var e=setTimeout(function(){return t.forceAmpOpen()},1e3);i.helper.AmpResize.open(function(){t.button.style.display="none",setTimeout(function(){return t.button.style.display="block"},100),clearTimeout(e)})}},e.prototype.openWigoReport=function(){var e=this;if(t.WIGO_DEBUG_KEY){this.button.onclick=function(t){t.stopPropagation()};var n=function(t){setTimeout(function(){e.button.onclick=function(t){e.openWigoReport(),t.stopPropagation()}},500)};window.open(this.sendLogsToWigo(n))}},e.prototype.sendLogsToWigo=function(n){this.logfile.logs=t.Logger.getFullLogs();var i=t.WIGO_DEBUG_KEY+"_"+t.date.now()+".json",o=t.Request.createXmlHttpRequest();return o.open("PUT",e.serviceUrl+"/livedebug/upload/"+i,!0),o.setRequestHeader("Content-Type","application/json; charset=utf-8"),o.onload=n,o.onerror=n,o.send(t.JSON.stringify(this.logfile,!0)),e.serviceUrl+"/livedebug?file="+i},e.prototype.hasInteracted=function(t,e,n,i){return t.scrollY!==i||t.scrollX!==n||t.screenHeight!==e.height||t.screenWidth!==e.width},e.infoType={MODAL:"modal",STRING:"string",VAST_EVENT:"vastEvent",ERROR:"error"},e.bottomPxInterval=80,e.recordUserActionsTiming=1e3,e.serviceUrl=t.Utils.getProtocol()+(location.hostname.match(/(sandbox\.teads\.net|par2\.teads\.tech)$/)?"//"+location.hostname+":18091":"//wigo.teads.tv"),e.totalInstances=0,e.initialBottomPosition=10,e.TEMPLATE=n(46),e}();t.Wigo=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(){}return t.createXmlHttpRequest=function(){var t=null;if(window.XMLHttpRequest&&(t=new XMLHttpRequest),!t||"withCredentials"in t||(t=window.XDomainRequest?new window.XDomainRequest:null),!t){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.6.0")}catch(e){try{t=new window.ActiveXObject("MSXML2.XMLHTTP.3.0")}catch(t){throw new Error("could not create XMLHttpRequest nor ActiveXObject")}}t.responseType="msxml-document"}return t},t.isXMLHttpRequest=function(t){return t instanceof XMLHttpRequest},t}();t.Request=e}(n||(n={}))},function(t,e){},function(t,e,n){n(0),n(5);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.safeUrl=function(t){var e=document.createElement("a");return e.href=t,window.swInstalled&&/(teads|ebu?z)/.test(e.hostname)?"/"+btoa(t).replace(/=/g,"_"):t},e.parse=function(t){var e=document.createElement("a");return e.href=t,{href:e.href,protocol:e.protocol,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search,hash:e.hash,host:e.host}},e.parseQueryString=function(e){var n={};return"string"!=typeof e?n:(e=t.StringHelper.trim(e).replace(/^(\?|&)/,""))?(t.ArrayHelper.forEach(e.split("&"),function(t){var e=t.split("="),i=e.shift();n[i]=e.length>0?e.join("="):void 0}),n):n},e.isInternalUrl=function(t){return/teads\.(tv|net|tech)$/.test(e.parse(t).hostname)},e.getMainDomain=function(e){var n=["uk"],i=e.split("."),o=i.length>1?i[i.length-2]:e;return t.ArrayHelper.includes(n,i[i.length-1])&&(o=i[i.length-3]),o},e.replaceUrlParameter=function(n,i,o){if(n.indexOf(i)<0)return n;var r=new RegExp("[\\?&]"+i+"=([^&#]*)");return t.Option.of(r.exec(n)).map(function(t){return t[0]}).map(function(t){return t.charAt(0)}).match({some:function(t){return n.replace(r,t+i+"="+o)},none:function(){return e.logger.warn('Tried to replace parameter "'+i+'" value with "'+o+'" on URL '+n+" and failed."),n}})},e.logger=new t.Logger("URIHelper"),e}();t.URIHelper=e}(i||(i={}))},function(t,e,n){n(77)},function(t,e,n){n(16);var i=window.teads=window.teads||{};!function(t){function e(t){return new i(t,null,!0)}function n(t){return new i(null,t,!1)}var i=function(){function i(t,e,n){this._isSuccess=n,n?this._successValue=t:this._failureValue=e}return i.of=function(t){try{return e(t())}catch(t){return n(t)}},i.prototype.isSuccess=function(){return this._isSuccess},i.prototype.isFailure=function(){return!this._isSuccess},i.prototype.getOrElse=function(t){return this._isSuccess?this._successValue:t()},i.prototype.orElse=function(t){return this._isSuccess?this:t()},i.prototype.filter=function(t){if(!this._isSuccess)return this;try{return t(this._successValue)?this:n(new Error("Predicate does not hold for "+this._successValue))}catch(t){return n(t)}},i.prototype.flatMap=function(t){if(!this._isSuccess)return this;try{return t(this._successValue)}catch(t){return n(t)}},i.prototype.map=function(t){var e=this;return this._isSuccess?i.of(function(){return t(e._successValue)}):this},i.prototype.forEach=function(t){this._isSuccess&&t(this._successValue)},i.prototype.recover=function(t){var e=this;return this._isSuccess?this:i.of(function(){return t(e._failureValue)})},i.prototype.recoverWith=function(t){try{return this._isSuccess?this:t(this._failureValue)}catch(t){return n(t)}},i.prototype.match=function(t){return this._isSuccess?t.success(this._successValue):t.failure(this._failureValue)},i.prototype.toOption=function(){return this._isSuccess?t.Option.of(this._successValue):t.None},i}();t.Try=i,t.Success=e,t.Failure=n}(i||(i={}))},function(t,e,n){n(8)},function(t,e,n){n(36),n(19);var i=window.teads=window.teads||{};!function(t){var e;!function(t){t[t.Standard=0]="Standard",t[t.Worker=1]="Worker",t[t.Precise=2]="Precise"}(e=t.TIMER_MODE||(t.TIMER_MODE={}));var n=function(){function n(){}return n.setTimeout=function(i,o,r){if(void 0===r&&(r=e.Standard),r===e.Worker&&n.canUseWorker()){var a=n.createWorker(i,'self.setTimeout(function(){self.postMessage("tick")}, '+o+")");return{clear:function(){a.terminate()}}}if(r===e.Precise){var s,c=t.Timing.now(),d=0,l=function(){var e=t.Timing.now()-c;e<o-(0===d?d:e/d)?(d+=1,s=n.requestAnimationFrame(l,n.tick)):i()};return l(),{clear:function(){n.cancelAnimationFrame(s)}}}var p=setTimeout(function(){i()},o);return{clear:function(){clearTimeout(p)}}},n.setInterval=function(t,e,i){if(void 0===i&&(i=!1),i&&n.canUseWorker()){var o=n.createWorker(t,'self.setInterval(function(){self.postMessage("tick")}, '+e+")");return{clear:function(){o.terminate()}}}var r=setInterval(function(){t()},e);return{clear:function(){clearInterval(r)}}},n.requestAnimationFrame=function(t,e){var n=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return n?n(t):setTimeout(t,e)},n.cancelAnimationFrame=function(t){(window.cancelAnimationFrame||window.mozCancelAnimationFrame||clearTimeout)(t)},n.createWorker=function(e,n){var i=t.BlobHelper.createBlob(n),o=new Worker(t.BlobHelper.getUrl().createObjectURL(i));return o.onmessage=function(t){return e()},o},n.canUseWorker=function(){var e=t.BlobHelper.getUrl();return!!window.Worker&&!!e&&!!e.createObjectURL},n.tick=1e3/60,n}();t.Timer=n}(i||(i={}))},function(t,e){},function(t,e,n){n(11),n(30);var i=window.teads=window.teads||{};!function(t){!function(e){e.get=function(e){return t.Try.of(function(){return document.cookie}).map(function(t){return decodeURIComponent(t.replace(new RegExp("(?:(?:^|.*;)\\s*"+encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&")+"\\s*\\=\\s*([^;]*).*$)|^.*$"),"$1"))||null})},e.setAndExpireInOneYear=function(e,n){return t.Try.of(function(){return document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(n)+"; expires="+new Date(t.date.now()+31536e6).toUTCString()+"; path=/"})}}(t.Cookie||(t.Cookie={}))}(i||(i={}))},function(t,e){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=window.teads=window.teads||{};!function(t){var e=function(){function t(t,e){this.code=t,this.error=e}return t.get=function(e,n,i){return new t({id:e,message:n},i)},t.prototype.getFullMessage=function(){return"Error #"+this.code.id+": "+this.code.message},t.prototype.getId=function(){return this.code.id},t.prototype.getMessage=function(){return this.code.message},t.prototype.getStackTrace=function(){return this.error&&this.error.stack?this.error.stack:""},t.prototype.toString=function(){return this.getFullMessage()},t}();t.Exception=e;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.XML_PARSE={id:100,message:"XML parsing error"},e.XML_INVALID_SCHEMA={id:101,message:'VAST schema validation error: expected "%s" but found "%s"'},e.UNSUPPORTED_VERSION={id:102,message:"VAST version of response not supported. Expected VAST2 or VAST3 but VAST1 found"},e.TRAFFICKING={id:200,message:"Trafficking error. Video player received an Ad type that it was not expecting and/or cannot display"},e.LINEARITY={id:201,message:"Video player expecting different linearity"},e.DURATION={id:202,message:"Video player expecting different duration"},e.SIZE={id:203,message:"Video player expecting different size"},e.WRAPPER={id:300,message:"General Wrapper error"},e.WRAPPER_TIMEOUT={id:301,message:"Timeout of VAST URI provided in Wrapper element, or of VAST URI provided in a subsequent Wrapper element (URI was either unavailable or reached a timeout as defined by the video player)"},e.WRAPPER_LIMIT={id:302,message:"Wrapper limit reached, as defined by the video player. Too many Wrapper responses have been received with no InLine response"},e.NO_ADS={id:303,message:"No Ads VAST response after one or more Wrappers"},e.GENERAL_LINEAR={id:400,message:"General Linear error. Video player is unable to display the Linear Ad."},e.FILE_NOT_FOUND={id:401,message:"File not found. Unable to find Linear/MediaFile from URI."},e.MEDIAFILE_TIMEOUT={id:402,message:"Timeout of MediaFile URI."},e.UNSUPPORTED_MEDIAFILE={id:403,message:"Could not find MediaFile that is supported by this video player, based on the attributes of the MediaFile element."},e.MEDIAFILE_DISPLAY={id:405,message:"Problem displaying MediaFile. Video player found a MediaFile with supported type but could not display it. MediaFile may include: unsupported codecs, different MIME type than MediaFile@type, unsupported delivery method, etc."},e.GENERAL_NONLINEAR={id:500,message:"General NonLinearAds error."},e.CREATIVE_DIMENSIONS={id:501,message:"Unable to display NonLinear Ad because creative dimensions do not align with creative display area (i.e. creative dimension too large)."},e.NONLINEAR_FETCH={id:502,message:"Unable to fetch NonLinearAds/NonLinear resource."},e.SUPPORTED_NONLINEAR_NOT_FOUND={id:503,message:"Could not find NonLinear resource with supported type."},e.GENERAL_COMPANION={id:600,message:"General CompanionAds error."},e.COMPANION_DIMENSIONS={id:601,message:"Unable to display Companion because creative dimensions do not fit within Companion display area (i.e., no available space)."},e.COMPANION_DISPLAY={id:602,message:"Unable to display Required Companion."},e.COMPANION_FETCH={id:603,message:"Unable to fetch CompanionAds/Companion resource."},e.SUPPORTED_COMPANION_NOT_FOUND={id:604,message:"Could not find Companion resource with supported type."},e.UNDEFINED={id:900,message:"Undefined Error"},e.GENERAL={id:901,message:"General VPAID error"},e}(e);t.VastException=i}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(){}return t.createBlob=function(t,e){if(void 0===e&&(e="application/javascript"),window.Blob)try{return new Blob([t],{type:e})}catch(t){}window.BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder;var n=new window.BlobBuilder;return n.append(t),n.getBlob()},t.getUrl=function(){return window.URL||window.webkitURL},t}();t.BlobHelper=e}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.MODEL="model",e.NAME="name",e.TYPE="type",e.VENDOR="vendor",e.VERSION="version",e.CONSOLE="console",e.MOBILE="mobile",e.TABLET="tablet",e.SMARTTV="smarttv",e.WEARABLE="wearable",e.DESKTOP="desktop",e.util={extend:function(t,e){var n={};for(var i in t)e[i]&&e[i].length%2==0?n[i]=e[i].concat(t[i]):n[i]=t[i];return n},has:function(t,e){return"string"==typeof t&&-1!==e.toLowerCase().indexOf(t.toLowerCase())},lowerize:function(t){return t.toLowerCase()},trim:function(t){return t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},e.mapper={rgx:function(){for(var e,n,i,o,r,a,s,c=0,d=arguments;c<d.length&&!a;){var l=d[c],p=d[c+1];if(void 0===e){e={};for(o in p)r=p[o],"object"==typeof r?e[r[0]]=void 0:e[r]=void 0}for(n=i=0;n<l.length&&!a;)if(a=l[n++].exec(t.Context.getUA()))for(o=0;o<p.length;o++)s=a[++i],r=p[o],"object"==typeof r&&r.length>0?2===r.length?"function"==typeof r[1]?e[r[0]]=r[1].call(this,s):e[r[0]]=r[1]:3===r.length?"function"!=typeof r[1]||r[1].exec&&r[1].test?e[r[0]]=s?s.replace(r[1],r[2]):void 0:e[r[0]]=s?r[1].call(this,s,r[2]):void 0:4===r.length&&(e[r[0]]=s?r[3].call(this,s.replace(r[1],r[2])):void 0):e[r]=s||void 0;c+=2}return e},str:function(t,n){for(var i in n)if("object"==typeof n[i]&&n[i].length>0){for(var o=0;o<n[i].length;o++)if(e.util.has(n[i][o],t))return"?"===i?void 0:i}else if(e.util.has(n[i],t))return"?"===i?void 0:i;return t}},e.maps={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},e.regexes={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[e.NAME,e.VERSION],[/(opios)[\/\s]+([\w\.]+)/i],[[e.NAME,"Opera Mini"],e.VERSION],[/\s(opr)\/([\w\.]+)/i],[[e.NAME,"Opera"],e.VERSION],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs)\/([\w\.-]+)/i],[e.NAME,e.VERSION],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[e.NAME,"IE"],e.VERSION],[/(edge)\/((\d+)?[\w\.]+)/i],[e.NAME,e.VERSION],[/(yabrowser)\/([\w\.]+)/i],[[e.NAME,"Yandex"],e.VERSION],[/(comodo_dragon)\/([\w\.]+)/i],[[e.NAME,/_/g," "],e.VERSION],[/(micromessenger)\/([\w\.]+)/i],[[e.NAME,"WeChat"],e.VERSION],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[e.VERSION,[e.NAME,"MIUI Browser"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[e.NAME,/(.+)/,"$1 WebView"],e.VERSION],[/android.+samsungbrowser\/([\w\.]+)/i,/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)/i],[e.VERSION,[e.NAME,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i,/(qqbrowser)[\/\s]?([\w\.]+)/i],[e.NAME,e.VERSION],[/(dolfin)\/([\w\.]+)/i],[[e.NAME,"Dolphin"],e.VERSION],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[e.NAME,"Chrome"],e.VERSION],[/;fbav\/([\w\.]+);/i],[e.VERSION,[e.NAME,"Facebook"]],[/fxios\/([\w\.-]+)/i],[e.VERSION,[e.NAME,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[e.VERSION,[e.NAME,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[e.VERSION,e.NAME],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[e.NAME,[e.VERSION,e.mapper.str,e.maps.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[e.NAME,e.VERSION],[/(navigator|netscape)\/([\w\.-]+)/i],[[e.NAME,"Netscape"],e.VERSION],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/([\w\.-]+)/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]+)*/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[e.NAME,e.VERSION]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[e.MODEL,e.VENDOR,[e.TYPE,e.TABLET]],[/applecoremedia\/[\w\.]+ \((ipad)/],[e.MODEL,[e.VENDOR,"Apple"],[e.TYPE,e.TABLET]],[/(apple\s{0,1}tv)/i],[[e.MODEL,"Apple TV"],[e.VENDOR,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[e.VENDOR,e.MODEL,[e.TYPE,e.TABLET]],[/(kf[A-z]+)\sbuild\/[\w\.]+.*silk\//i],[e.MODEL,[e.VENDOR,"Amazon"],[e.TYPE,e.TABLET]],[/(sd|kf)[0349hijorstuw]+\sbuild\/[\w\.]+.*silk\//i],[[e.MODEL,e.mapper.str,e.maps.device.amazon.model],[e.VENDOR,"Amazon"],[e.TYPE,e.MOBILE]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[e.MODEL,e.VENDOR,[e.TYPE,e.MOBILE]],[/\((ip[honed|\s\w*]+);/i],[e.MODEL,[e.VENDOR,"Apple"],[e.TYPE,e.MOBILE]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|huawei|meizu|motorola|polytron)[\s_-]?([\w-]+)*/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[e.VENDOR,e.MODEL,[e.TYPE,e.MOBILE]],[/\(bb10;\s(\w+)/i],[e.MODEL,[e.VENDOR,"BlackBerry"],[e.TYPE,e.MOBILE]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[e.MODEL,[e.VENDOR,"Asus"],[e.TYPE,e.TABLET]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[e.VENDOR,"Sony"],[e.MODEL,"Xperia Tablet"],[e.TYPE,e.TABLET]],[/(?:sony)?(?:(?:(?:c|d)\d{4})|(?:so[-l].+))\sbuild\//i],[[e.VENDOR,"Sony"],[e.MODEL,"Xperia Phone"],[e.TYPE,e.MOBILE]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[e.VENDOR,e.MODEL,[e.TYPE,e.CONSOLE]],[/android.+;\s(shield)\sbuild/i],[e.MODEL,[e.VENDOR,"Nvidia"],[e.TYPE,e.CONSOLE]],[/(playstation\s[3portablevi]+)/i],[e.MODEL,[e.VENDOR,"Sony"],[e.TYPE,e.CONSOLE]],[/(sprint\s(\w+))/i],[[e.VENDOR,e.mapper.str,e.maps.device.sprint.vendor],[e.MODEL,e.mapper.str,e.maps.device.sprint.model],[e.TYPE,e.MOBILE]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[e.VENDOR,e.MODEL,[e.TYPE,e.TABLET]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w+)*/i,/(alcatel|geeksphone|huawei|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]+)*/i],[e.VENDOR,[e.MODEL,/_/g," "],[e.TYPE,e.MOBILE]],[/(nexus\s9)/i],[e.MODEL,[e.VENDOR,"HTC"],[e.TYPE,e.TABLET]],[/(nexus\s6p)/i],[e.MODEL,[e.VENDOR,"Huawei"],[e.TYPE,e.MOBILE]],[/(microsoft);\s(lumia[\s\w]+)/i],[e.VENDOR,e.MODEL,[e.TYPE,e.MOBILE]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[e.MODEL,[e.VENDOR,"Microsoft"],[e.TYPE,e.CONSOLE]],[/(kin\.[onetw]{3})/i],[[e.MODEL,/\./g," "],[e.VENDOR,"Microsoft"],[e.TYPE,e.MOBILE]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?(:?\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w+)*/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[e.MODEL,[e.VENDOR,"Motorola"],[e.TYPE,e.MOBILE]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[e.MODEL,[e.VENDOR,"Motorola"],[e.TYPE,e.TABLET]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[e.VENDOR,e.util.trim],[e.MODEL,e.util.trim],[e.TYPE,e.SMARTTV]],[/hbbtv.+maple;(\d+)/i],[[e.MODEL,/^/,"SmartTV"],[e.VENDOR,"Samsung"],[e.TYPE,e.SMARTTV]],[/\(dtv[\);].+(aquos)/i],[e.MODEL,[e.VENDOR,"Sharp"],[e.TYPE,e.SMARTTV]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[e.VENDOR,"Samsung"],e.MODEL,[e.TYPE,e.TABLET]],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)*/i,/sec-((sgh\w+))/i],[[e.VENDOR,"Samsung"],e.MODEL,[e.TYPE,e.MOBILE]],[/smart-tv.+(samsung)/i],[e.VENDOR,e.MODEL,[e.TYPE,e.SMARTTV]],[/sie-(\w+)*/i],[e.MODEL,[e.VENDOR,"Siemens"],[e.TYPE,e.MOBILE]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]+)*/i],[[e.VENDOR,"Nokia"],e.MODEL,[e.TYPE,e.MOBILE]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[e.MODEL,[e.VENDOR,"Acer"],[e.TYPE,e.TABLET]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[e.VENDOR,"LG"],e.MODEL,[e.TYPE,e.TABLET]],[/(lg) netcast\.tv/i],[e.VENDOR,e.MODEL,[e.TYPE,e.SMARTTV]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w+)*/i],[e.MODEL,[e.VENDOR,"LG"],[e.TYPE,e.MOBILE]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[e.MODEL,[e.VENDOR,"Lenovo"],[e.TYPE,e.TABLET]],[/linux;.+((jolla));/i],[e.VENDOR,e.MODEL,[e.TYPE,e.MOBILE]],[/((pebble))app\/[\d\.]+\s/i],[e.VENDOR,e.MODEL,[e.TYPE,e.WEARABLE]],[/android.+;\s(glass)\s\d/i],[e.MODEL,[e.VENDOR,"Google"],[e.TYPE,e.WEARABLE]],[/android.+;\s(pixel c)\s/i],[e.MODEL,[e.VENDOR,"Google"],[e.TYPE,e.TABLET]],[/android.+;\s(pixel xl|pixel)\s/i],[e.MODEL,[e.VENDOR,"Google"],[e.TYPE,e.MOBILE]],[/android.+(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d\w)?)\s+build/i],[[e.MODEL,/_/g," "],[e.VENDOR,"Xiaomi"],[e.TYPE,e.MOBILE]],[/android.+a000(1)\s+build/i],[e.MODEL,[e.VENDOR,"OnePlus"],[e.TYPE,e.MOBILE]],[/\s(tablet)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[e.TYPE,e.util.lowerize],e.VENDOR,e.MODEL]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[e.NAME,e.VERSION],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s]+\w)*/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[e.NAME,[e.VERSION,e.mapper.str,e.maps.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[e.NAME,"Windows"],[e.VERSION,e.mapper.str,e.maps.os.windows.version]],[/\((bb)(10);/i],[[e.NAME,"BlackBerry"],e.VERSION],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]+)*/i,/linux;.+(sailfish);/i],[e.NAME,e.VERSION],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[e.NAME,"Symbian"],e.VERSION],[/\((series40);/i],[e.NAME],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[e.NAME,"Firefox OS"],e.VERSION],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[e.NAME,e.VERSION],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[e.NAME,"Chromium OS"],e.VERSION],[/(sunos)\s?([\w\.]+\d)*/i],[[e.NAME,"Solaris"],e.VERSION],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[e.NAME,e.VERSION],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[e.NAME,"iOS"],[e.VERSION,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i,/(macintosh|mac(?=_powerpc)\s)/i],[[e.NAME,"Mac OS"],[e.VERSION,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]+)*/i,/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms)/i,/(unix)\s?([\w\.]+)*/i],[e.NAME,e.VERSION]]},e}();t.Ua=e}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(e){if(this.isValid=!0,"string"!=typeof e&&(e=""+e),e.length>n.MAX_LENGTH)return void(this.isValid=!1);var i=e.trim().match(n.FULL);if(!i){return e.split(".").length<3?new t(e+".0"):void(this.isValid=!1)}return this.raw=e,this.major=+i[1],this.minor=+i[2],this.patch=+i[3],this.major>n.MAX_SAFE_INTEGER||this.major<0?void(this.isValid=!1):this.minor>n.MAX_SAFE_INTEGER||this.minor<0?void(this.isValid=!1):this.patch>n.MAX_SAFE_INTEGER||this.patch<0?void(this.isValid=!1):void(this.version=this.major+"."+this.minor+"."+this.patch)}return t.prototype.toString=function(){return this.version},t}(),n=function(){function t(){}return t.isGreaterThan=function(e,n){var i=t.compare(e,n);return null!==i&&i>0},t.isLowerThan=function(e,n){var i=t.compare(e,n);return null!==i&&i<0},t.isGreaterOrEqual=function(e,n){var i=t.compare(e,n);return null!==i&&i>=0},t.isLowerOrEqual=function(e,n){var i=t.compare(e,n);return null!==i&&i<=0},t.compareIdentifiers=function(t,e){return t<e?-1:t>e?1:0},t.compareMain=function(e,n){return t.compareIdentifiers(e.major,n.major)||t.compareIdentifiers(e.minor,n.minor)||t.compareIdentifiers(e.patch,n.patch)},t.compare=function(n,i){var o=new e(n),r=new e(i);return o.isValid&&r.isValid?t.compareMain(o,r):null},t.MAX_LENGTH=256,t.MAX_SAFE_INTEGER=9007199254740991,t.NUMERICIDENTIFIER="0|[1-9]\\d*",t.MAINVERSION="("+t.NUMERICIDENTIFIER+")\\.("+t.NUMERICIDENTIFIER+")\\.("+t.NUMERICIDENTIFIER+")",t.FULL=new RegExp("^v?"+t.MAINVERSION+".*?$"),t}();t.Semver=n}(n||(n={}))},function(t,e,n){n(10);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(t,n){this.collectorUrl=t,this.collectorUrl+=this.collectorUrl.indexOf("?")<0?"?":"&",n===e.FORMATTING_TYPES.PIPE_SEPARATE?this.format=e.pipeSeparateData:this.format=e.stringifyData}return e.stringify=function(e){var n;try{n=t.JSON.stringify(e)}catch(t){e.toString&&(n=e.toString())}return n},e.stringifyData=function(t){if(t.length)for(var n in t)"function"==typeof t[n]?t[n]=t[n].toString():"object"==typeof t[n]&&(t[n]=e.stringify(t[n]));else t=e.stringify(t);return t.toString?t.toString():t},e.pipeSeparateData=function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(t[n].toString());return e.join("|")},e.prototype.track=function(t,e){void 0===e&&(e="");try{var n=this.collectorUrl+encodeURIComponent(e)+encodeURIComponent(t);(new Image).src=n}catch(t){}},e.FORMATTING_TYPES={JSON:"JSON",PIPE_SEPARATE:"PIPE_SEPARATE"},e}();t.LogSender=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){e.isBase64RegExp=/^(?:[A-Za-z0-9+\/]{4})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/,e.isBase64=function(n){return t.Option.of(e.isBase64RegExp.exec(n)).existsIf(function(t){return t.length>0})},e.encode=function(e){return t.Option.of(window.btoa).map(function(t){return t(e)}).getOrElse(function(){return e})},e.decode=function(e){return t.Option.of(window.atob).map(function(t){return t(e)}).getOrElse(function(){return e})}}(t.Base64||(t.Base64={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.SUCCESS_CALLBACK_ERROR={id:100,message:"callback success function throw an exception "},t.BUNDLE_ASSET_NOT_EXISTING={id:200,message:"You must specify the bundle asset you want to use with teads.vpaid.BundledContainer.(CANVAS|VIDEO)"},t.POSTMESSAGE_SERVER_TIMEOUT={id:300,message:"Postmessage server iframe timeout"},t.POSTMESSAGE_API_NOT_READY={id:301,message:"API is not ready, before use loadVpaid, you must init the API with the method initAPI"},t.POSTMESSAGE_LOAD_VPAID_TIMEOUT={id:302,message:"Timeout Error : Unable to load vpaid , server timeout"},t.GETVPAIDAD_EXCEPTION={id:400,message:"VPAIDJS getVPAIDAd throw an exception"},t.LOAD_VPAID_FILE_NOT_FOUND={id:500,message:"Unable to load VPAID ad, file doesn't exists"},t.LOAD_VPAID_TIMEOUT={id:501,message:"Unable to load VPAID ad, timeout error"},t.FLASH_PLUGIN_MISSING={id:600,message:"unable to load swf mediafile, Flash plugin is missing"},t.FLASH_IO_ERROR={id:601,message:"flash throw an IOError when loading swf"},t.FLASH_SECURITY_ERROR={id:602,message:"flash throw SecurityError, possibly due to crossdomain policy configuration"},t.FLASH_INIT_ERROR={id:603,message:"flash throw an exception while wrapping the vpaid file"},t.FLASH_UNKNOWN_ERROR={id:604,message:"flash throw an error"},t}();t.ErrorCode=e}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.AdVideoMetadata="AdVideoMetadata",t.AdInjected="AdInjected",t}();t.CustomVPAIDEvent=e}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(8),n(29),n(31),n(27),n(14),n(69)},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.initAd=8e3,t.startAd=8e3,t.stopAd=1e3,t.skipAd=1e3,t.loadVpaid=1e4,t.postMessageAPI=5e3,t.destroy=500,t}();t.Timeout=e}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(16),n(30),n(1),n(40),n(10);var i=window.teads=window.teads||{};!function(t){!function(e){e.decode=function(e){return t.Option.of(e).filter(t.Utils.isObject).match({some:n,none:i(e)})};var n=function(e){return t.Utils.isString(e.AdParameters)?o(e.AdParameters):t.Success(e)},i=function(e){return function(){return t.Option.of(e).filter(t.Utils.isString).match({some:o,none:function(){return t.Failure(new Error("adParameters is neither an object or string: "+e))}})}},o=function(n){return e.jsonParse(e.decodeAdParameters(n,t.Base64.isBase64,t.Base64.decode,decodeURIComponent),t.JSON.parse)};e.decodeAdParameters=function(t,e,n,i){return e(t)?n(t):0===t.indexOf("%7B")?i(t):t},e.jsonParse=function(e,n){return t.Try.of(function(){return n(e)}).recover(function(){throw new Error("Unable to JSON.parse adParameters string: "+e)})}}(t.AdParameterHelper||(t.AdParameterHelper={}))}(i||(i={}))},function(t,e){t.exports='<div class="teads-wigo-btn"><div style="position: absolute; left:0;top:0;padding: 0 4%; border: 1px solid white; color: white; font-size: 10px; text-align: center; font-family: Arial; line-height:16px;"></div><div style="border: 6px solid #f3f3f3; border-top: 6px solid #3498db; border-radius: 50%; position: absolute; left: 60%; width: 32%; height: 32%; -webkit-animation: wigospin 2s linear infinite; animation: wigospin 2s linear infinite"></div> <style type="text/css"> .teads-wigo-btn { position: fixed; bottom: 10px; right: 10px; z-index: 2147483647; width: 75px; height: 75px; cursor: pointer; background-image: url(\'https://cdn.teads.tv/media/format/v3/assets/default/img/wigo.png?v2\'); transition: right ease 0.2s; } @media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) { /* Retina */ .teads-wigo-btn { background-size: 75px 75px; background-image: url(\'https://cdn.teads.tv/media/format/v3/assets/default/img/wigo-2x.png\'); } } @-webkit-keyframes wigospin { 0% { -webkit-transform: rotate(0deg);} 100% { -webkit-transform: rotate(360deg);} } @keyframes wigospin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } } </style> </div> '},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){t[t.ERROR=-1]="ERROR",t[t.UNSTARTED=0]="UNSTARTED",t[t.WAITING=1]="WAITING",t[t.READY=2]="READY"}(t.MediaProxyStatus||(t.MediaProxyStatus={}))}(t.constant||(t.constant={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e,n){n(6),n(42),n(14);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){this.listeners={},this.listenersScope={}}return n.prototype.subscribe=function(t,e,n){this.listeners[e]=this.listeners[e]||[],this.listeners[e].push(t),this.listenersScope[e]=this.listenersScope[e]||[],this.listenersScope[e].push(n||null)},n.prototype.unsubscribe=function(e,n){if(this.listeners[n]){var i=t.ArrayHelper.indexOf(this.listeners[n],e);i>=0&&(this.listeners[n][i]=function(){})}},n.prototype.clearListeners=function(){this.listeners={},this.listenersScope={}},n.prototype.handleEvent=function(t,n){for(var i=this.listeners[t.type]||[],o=0,r=i.length;o<r;o++)try{var a=[];if(t.data)switch(t.type){case e.VPAIDEvent.AdClickThru:a=[t.data.url,t.data.id,!!t.data.playerHandles];break;case e.VPAIDEvent.AdLog:case e.VPAIDEvent.AdError:a="string"==typeof t.data?[t.data,null]:"object"==typeof t.data&&t.data.message?[t.data.message,t.data.id]:[String(t.data),null];break;case e.VPAIDEvent.AdInteraction:a=[t.data.id];break;case e.CustomVPAIDEvent.AdVideoMetadata:a=[t.data]}i[o].apply(this.listenersScope[t.type][o],a)}catch(i){if(n)throw"failed to log error on callback: "+t.data;this.handleEvent({type:e.VPAIDEvent.AdLog,data:"Callback #"+o+" on event "+t.type+" throws an exception: "+i},!0)}},n}();e.EventHandler=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.REMOVED=-6]="REMOVED",t[t.REMOVING=-5]="REMOVING",t[t.ERROR=-4]="ERROR",t[t.STOPPED=-3]="STOPPED",t[t.STOPPING=-2]="STOPPING",t[t.SKIPPED=-1]="SKIPPED",t[t.SKIPPING=0]="SKIPPING",t[t.READY=1]="READY",t[t.LOADING=2]="LOADING",t[t.LOADED=3]="LOADED",t[t.STARTING=5]="STARTING",t[t.STARTED=6]="STARTED",t[t.PAUSING=7]="PAUSING",t[t.PAUSED=8]="PAUSED",t[t.RESUMING=9]="RESUMING",t[t.PLAYING=10]="PLAYING",t[t.COMPLETE=11]="COMPLETE"}(t.VpaidStatus||(t.VpaidStatus={}))}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(){}return t.READY="ready",t.ERROR="error",t.WAITING="waiting",t}();t.MediaProxyEvent=e}(t.constant||(t.constant={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){},function(t,e,n){n(53),n(54),n(33),n(2);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(e){var n=function(e){function n(t,n,i){var o=e.call(this)||this;return o.container=t,o.cWidth=n,o.cHeight=i,o.totalPrintingTime=0,o.totalPrintedFrame=0,o.canvas=document.createElement("canvas"),o.canvas.width=n,o.canvas.height=i,o.canvas.style.background="#000",o.canvasContext=o.canvas.getContext("2d"),t.appendChild(o.canvas),o.initWebGL(),o}return i(n,e),Object.defineProperty(n.prototype,"width",{get:function(){return this.cWidth},set:function(t){this.cWidth=t,this.resize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"height",{get:function(){return this.cHeight},set:function(t){this.cHeight=t,this.resize()},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"videoHeight",{get:function(){return this._videoHeight},set:function(t){this._videoHeight=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"videoWidth",{get:function(){return this._videoWidth},set:function(t){this._videoWidth=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentNode",{get:function(){return this.html5video?this.html5video.parentNode:this.canvas.parentNode},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"style",{get:function(){return this.html5video?this.html5video.style:this.canvas.style},enumerable:!0,configurable:!0}),n.prototype.useCustomDisplay=function(t){this.html5video=t,this.canvas.parentNode.replaceChild(t,this.canvas),this.resize()},n.prototype.resize=function(e,n){this.html5video?this.resizeHtml5(e,n):this.resizeCanvas(e,n),this.dispatch(t.model.mediaEvents.RESIZE,{width:this.width,height:this.height})},n.prototype.resizeCanvas=function(e,n){e&&(this.canvas.width=this.decoderWidth=e),n&&(this.canvas.height=this.decoderHeight=n);var i=this.cWidth/this.canvas.width,o=this.cHeight/this.canvas.height,r=parseInt(Math.max((this.cHeight-this.canvas.height*i)/2,0).toFixed(2),10),a=parseInt(Math.max((this.cWidth-this.canvas.width*o)/2,0).toFixed(2),10),s=Math.min(i,o);t.helper.Utils.applyVendorProperties(this.canvas,"transformOrigin","0 0"),t.helper.Utils.applyVendorProperties(this.canvas,"transform","translateX("+a+"px) translateY("+r+"px) scale("+s+")"),e&&n&&(this.gl?(this.gl.useProgram(this.program),this.gl.viewport(0,0,e,n)):(this.currentRGBA=this.canvasContext.getImageData(0,0,e,n),t.helper.Utils.fillArray(this.currentRGBA.data,255)))},n.prototype.resizeHtml5=function(t,e){this.html5video.style.width=this.width+"px",this.html5video.style.height=this.height+"px"},n.prototype.renderFrame=function(e){var n=t.helper.Utils.now();this.gl?this.renderFrameGL(e):this.renderFrame2D(e),this.totalPrintingTime+=t.helper.Utils.now()-n,this.totalPrintedFrame++},n.prototype.renderHtmlImageElement=function(e){var n=t.helper.Utils.now();this.canvasContext.drawImage(e,0,0),this.totalPrintingTime+=t.helper.Utils.now()-n,this.totalPrintedFrame++},n.prototype.averagePrintingTime=function(){return this.totalPrintingTime/this.totalPrintedFrame},n.prototype.initWebGL=function(){try{this.gl=this.canvas.getContext("webgl")||this.canvas.getContext("experimental-webgl")}catch(t){return!1}if(!this.gl)return!1;var e=this.gl.createBuffer();if(this.gl.bindBuffer(this.gl.ARRAY_BUFFER,e),this.gl.bufferData(this.gl.ARRAY_BUFFER,new Float32Array([0,0,0,1,1,0,1,1]),this.gl.STATIC_DRAW),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,this.compileShader(this.gl.VERTEX_SHADER,t.model.Shader.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.program,this.compileShader(this.gl.FRAGMENT_SHADER,t.model.Shader.SHADER_FRAGMENT_YCBCRTORGBA)),this.gl.linkProgram(this.program),!this.gl.getProgramParameter(this.program,this.gl.LINK_STATUS))throw new Error(this.gl.getProgramInfoLog(this.program));this.gl.useProgram(this.program),this.YTexture=this.createTexture(0,"YTexture"),this.CBTexture=this.createTexture(1,"CBTexture"),this.CRTexture=this.createTexture(2,"CRTexture");var n=this.gl.getAttribLocation(this.program,"vertex");return this.gl.enableVertexAttribArray(n),this.gl.vertexAttribPointer(n,2,this.gl.FLOAT,!1,0,0),this.loadingProgram=this.gl.createProgram(),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.VERTEX_SHADER,t.model.Shader.SHADER_VERTEX_IDENTITY)),this.gl.attachShader(this.loadingProgram,this.compileShader(this.gl.FRAGMENT_SHADER,t.model.Shader.SHADER_FRAGMENT_LOADING)),this.gl.linkProgram(this.loadingProgram),this.gl.useProgram(this.loadingProgram),n=this.gl.getAttribLocation(this.loadingProgram,"vertex"),this.gl.enableVertexAttribArray(n),this.gl.vertexAttribPointer(n,2,this.gl.FLOAT,!1,0,0),!0},n.prototype.renderFrameGL=function(t){this.gl.activeTexture(this.gl.TEXTURE0),this.gl.bindTexture(this.gl.TEXTURE_2D,this.YTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.codedWidth,this.canvas.height,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentY),this.gl.activeTexture(this.gl.TEXTURE1),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CBTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCr),this.gl.activeTexture(this.gl.TEXTURE2),this.gl.bindTexture(this.gl.TEXTURE_2D,this.CRTexture),this.gl.texImage2D(this.gl.TEXTURE_2D,0,this.gl.LUMINANCE,t.halfWidth,this.canvas.height/2,0,this.gl.LUMINANCE,this.gl.UNSIGNED_BYTE,t.currentCb),this.gl.drawArrays(this.gl.TRIANGLE_STRIP,0,4)},n.prototype.compileShader=function(t,e){var n=this.gl.createShader(t);if(this.gl.shaderSource(n,e),this.gl.compileShader(n),!this.gl.getShaderParameter(n,this.gl.COMPILE_STATUS))throw new Error(this.gl.getShaderInfoLog(n));return n},n.prototype.createTexture=function(t,e){var n=this.gl.createTexture();return this.gl.bindTexture(this.gl.TEXTURE_2D,n),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MAG_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_MIN_FILTER,this.gl.LINEAR),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,this.gl.CLAMP_TO_EDGE),this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,this.gl.CLAMP_TO_EDGE),this.gl.uniform1i(this.gl.getUniformLocation(this.program,e),t),n},n.prototype.YCbCrToRGBA=function(t){for(var e,n,i,o,r,a=t.currentY,s=t.currentCb,c=t.currentCr,d=this.currentRGBA.data,l=0,p=t.codedWidth,u=t.codedWidth+(t.codedWidth-this.decoderWidth),h=0,f=t.halfWidth-(this.decoderWidth>>1),g=0,m=4*this.decoderWidth,v=4*this.decoderWidth,y=this.decoderWidth>>1,A=this.decoderHeight>>1,E=0;E<A;E++){for(var w=0;w<y;w++){e=s[h],n=c[h],h++,i=n+(103*n>>8)-179,o=(88*e>>8)-44+(183*n>>8)-91,r=e+(198*e>>8)-227;var b=a[l++],S=a[l++];d[g]=b+i,d[g+1]=b-o,d[g+2]=b+r,d[g+4]=S+i,d[g+5]=S-o,d[g+6]=S+r,g+=8;var C=a[p++],T=a[p++];d[m]=C+i,d[m+1]=C-o,d[m+2]=C+r,d[m+4]=T+i,d[m+5]=T-o,d[m+6]=T+r,m+=8}l+=u,p+=u,g+=v,m+=v,h+=f}},n.prototype.renderFrame2D=function(t){this.YCbCrToRGBA(t),this.canvasContext.putImageData(this.currentRGBA,0,0)},n}(e.EventDispatcher);e.Canvas=n}(t.components||(t.components={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){var e=function(){function t(){}return t.applyVendorProperties=function(e,n,i){e.style[n]=i,n=t.capitalize(n),e.style["Moz"+n]=i,e.style["webkit"+n]=i,e.style["O"+n]=i,e.style["ms"+n]=i},t.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.now=function(){return window.performance?window.performance.now():Date.now()},t.fillArray=function(t,e){for(var n=0,i=t.length;n<i;n++)t[n]=e},t.formatBenchTime=function(t){return t<1?parseFloat(t.toString().substr(0,4)):Math.round(t)},t}();t.Utils=e}(t.helper||(t.helper={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){var e=function(){function t(){}return t.SHADER_FRAGMENT_YCBCRTORGBA=["precision mediump float;","uniform sampler2D YTexture;","uniform sampler2D CBTexture;","uniform sampler2D CRTexture;","varying vec2 texCoord;","void main() {","float y = texture2D(YTexture, texCoord).r;","float cr = texture2D(CBTexture, texCoord).r - 0.5;","float cb = texture2D(CRTexture, texCoord).r - 0.5;","gl_FragColor = vec4(","y + 1.4 * cr,","y + -0.343 * cb - 0.711 * cr,","y + 1.765 * cb,","1.0",");","}"].join("\n"),t.SHADER_FRAGMENT_LOADING=["precision mediump float;","uniform float loaded;","varying vec2 texCoord;","void main() {","float c = ceil(loaded-(1.0-texCoord.y));","gl_FragColor = vec4(c,c,c,1);","}"].join("\n"),t.SHADER_VERTEX_IDENTITY=["attribute vec2 vertex;","varying vec2 texCoord;","void main() {","texCoord = vertex;","gl_Position = vec4((vertex * 2.0 - 1.0) * vec2(1, -1), 0.0, 1.0);","}"].join("\n"),t}();t.Shader=e}(t.model||(t.model={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){t.mediaEvents={ABORT:"abort",CAN_PLAY:"canplay",DURATION_CHANGE:"durationchange",ENDED:"ended",ERROR:"error",LOADED_DATA:"loadeddata",LOADED_METADATA:"loadedmetadata",LOAD_START:"loadstart",LOADED:"loaded",PAUSE:"pause",PLAY:"play",PLAYING:"playing",PROGRESS:"progress",SEEKED:"seeked",SEEKING:"seeking",STALLED:"stalled",RESUME_AFTER_STALLED:"resumeafterstalled",TIME_UPDATE:"timeupdate",VOLUME_CHANGE:"volumechange",AUDIO_SYNC:"audiosync",BENCH_FPS:"benchFps",RESIZE:"resize"}}(t.model||(t.model={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(n||(n={}))},function(t,e,n){n(57),n(58),n(59),n(60),n(2),n(62),n(13);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){n.PLAYERS=n.PLAYERS||{};var o=function(o){function r(i,r,a,s){var c=o.call(this)||this;c.meta=r,c.player=s,c.sumologic=new t.Sumologic;var d=t.HTMLHelper.findParentWindows(document.body).pop(),l=d===window.top,p=(t.Context.isSafari()||t.Context.isFacebookWebview())&&t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"10");return c.sumologic.init(t.Sumologic.CONFIGS.PLAYER,t.Option.of(c.player.parameters.sumologicSessionId)),l&&c.meta.mp4&&("HTML5"===c.player.parameters.type||t.Context.isIpad()&&t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"9.2")&&"CANVAS"!==c.player.parameters.type)?(c.api=new n.Mp4Video(i,r,s,d),c.sumologic.sendInfo("canvas video mp4")):l&&c.meta.mp4&&"CANVAS"!==c.player.parameters.type&&(t.Semver.isGreaterThan(t.Context.getIosVersion(),"9.1")&&t.Semver.isLowerThan(t.Context.getIosVersion(),"10")||p)?(c.api=new n.Mp4CTVideo(i,r,s,d),c.sumologic.sendInfo("canvas video mp4CT")):c.meta.tv?(c.api=new n.JpegVideo(i,r,a,s),c.sumologic.sendInfo("canvas video tv")):(c.api=new n.MpegVideo(i,r,a,s),c.sumologic.sendInfo("canvas video mpeg")),c.api.listen(e.model.mediaEvents.CAN_PLAY,function(){return c.dispatch(e.model.mediaEvents.CAN_PLAY)}),c.api.listen(e.model.mediaEvents.LOADED,function(){return c.dispatch(e.model.mediaEvents.LOADED)}),c.api.listen(e.model.mediaEvents.STALLED,function(){return c.dispatch(e.model.mediaEvents.STALLED)}),c.api.listen(e.model.mediaEvents.RESUME_AFTER_STALLED,function(){return c.dispatch(e.model.mediaEvents.RESUME_AFTER_STALLED)}),c.api.listen(e.model.mediaEvents.TIME_UPDATE,function(){return c.dispatch(e.model.mediaEvents.TIME_UPDATE)}),c.api.listen(e.model.mediaEvents.ENDED,function(){return c.dispatch(e.model.mediaEvents.ENDED)}),c.api.listen(e.model.mediaEvents.BENCH_FPS,function(t){return c.dispatch(e.model.mediaEvents.BENCH_FPS,t)}),c}return i(r,o),r.prototype.canplay=function(){return this.api.canplay()},r.prototype.play=function(){this.api.play()},r.prototype.pause=function(){this.api.pause()},r.prototype.getCurrentTime=function(){return this.api.getCurrentTime()},r.prototype.setCurrentTime=function(t){return this.api.setCurrentTime(t)},Object.defineProperty(r.prototype,"duration",{get:function(){return this.api.duration},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"state",{get:function(){return this.api.state},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"videoFrames",{get:function(){return this.api.videoFrames},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"averageDecodingTime",{get:function(){return this.api.averageDecodingTime},enumerable:!0,configurable:!0}),r.prototype.cleanStallTimeout=function(){this.api.cleanStallTimeout()},r}(n.EventDispatcher);n.Video=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(15),n(20),n(33);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(n){function o(i,o,r,a){var s=n.call(this)||this;s.meta=o,s.player=a,s.logger=new t.Logger("canvas.player.components.Video"),s.head=0,s.targetTime=0,s.decodeFinish=!1,s.benchFps=0,s.benchFpsRetained=0,s.benchFpsCount=0,s.fpsLimit=0,s.frameRate=24,s.frameStart=1,s.frameCachedLimit=24,s.videoFrames=[],s.frameWait=Math.floor(1e3/s.frameRate);var c=t.BlobHelper.createBlob('importScripts("'+s.player.parameters.assetsPath+'/teads-mpeg-decoder.min.js")');return s.worker=new Worker(t.BlobHelper.getUrl().createObjectURL(c)),s.worker.onmessage=s.onmessage.bind(s),s.worker.postMessage(["init",i,o]),s.state=e.model.MediaState.INIT,s}return i(o,n),o.prototype.canplay=function(){return this.state===e.model.MediaState.CAN_PLAY||this.state===e.model.MediaState.PLAYING||this.state===e.model.MediaState.PAUSED||this.state===e.model.MediaState.LOADED||this.state===e.model.MediaState.ENDED},o.prototype.play=function(){this.state!==e.model.MediaState.PLAYING&&(this.state=e.model.MediaState.PLAYING,this.loopPlay())},o.prototype.pause=function(){this.state!==e.model.MediaState.STALLED&&(this.state=e.model.MediaState.PAUSED)},o.prototype.getCurrentTime=function(){return this.state===e.model.MediaState.INIT?0:this.head/this.frameRate},o.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.cleanFrame(this.head,e),this.head=e,!0)},Object.defineProperty(o.prototype,"duration",{get:function(){return this.decodeFinish?this.videoFrames.length/this.frameRate:parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),o.prototype.cleanStallTimeout=function(){clearTimeout(this.timeoutStalled),this.timeoutStalled=null,this.state=e.model.MediaState.PAUSED},o.prototype.onload=function(){this.dispatch(e.model.mediaEvents.LOADED),this.decodeFinish=!0},o.prototype.oninit=function(){this.benchFps=e.helper.Utils.now(),this.state=e.model.MediaState.INIT_VIDEO,this.renderFrame()},o.prototype.oncanplay=function(){this.state=e.model.MediaState.CAN_PLAY,this.dispatch(e.model.mediaEvents.CAN_PLAY)},o.prototype.onstalled=function(){var t=this;this.state=e.model.MediaState.STALLED,this.dispatch(e.model.mediaEvents.STALLED),this.listen(e.model.mediaEvents.LOADED,function(){return t.onresumestalled()})},o.prototype.onresumestalled=function(){this.state===e.model.MediaState.STALLED&&(this.cleanStallTimeout(),this.dispatch(e.model.mediaEvents.RESUME_AFTER_STALLED))},o.prototype.ondecodeframe=function(){this.state!==e.model.MediaState.ENDED&&this.dispatch(e.model.mediaEvents.TIME_UPDATE)},o.prototype.onfinish=function(){this.state=e.model.MediaState.ENDED,this.dispatch(e.model.mediaEvents.ENDED)},o.prototype.onmessage=function(t){switch(t.data[0]){case"frame":this.appendFrames(t.data),this.videoFrames.length===this.frameStart?this.oninit():this.videoFrames.length===this.frameCachedLimit&&this.oncanplay();break;case"initCanvas":this.player.resize(t.data[1],t.data[2]);break;case"finish":this.averageDecodingTime=t.data[1],this.onload();break;default:this.logger.debug(t.data)}},o.prototype.appendFrames=function(t){var n=this;if(this.videoFrames.push({codedWidth:t[1],halfWidth:t[2],currentY:new Uint8Array(t[3]),currentCr:new Uint8Array(t[4]),currentCb:new Uint8Array(t[5])}),this.averageDecodingTime=t[6],++this.benchFpsCount===this.frameCachedLimit){this.benchFpsRetained=e.helper.Utils.now()-this.benchFps;var i=Math.ceil(this.frameRate*this.benchFpsRetained/1e3);this.fpsLimit=Math.max(3,Math.min(this.frameCachedLimit,i+1))}this.state===e.model.MediaState.STALLED&&this.head+this.frameCachedLimit<=this.videoFrames.length&&(this.averageDecodingTime<=1e3/this.frameRate?this.timeoutStalled||(this.logger.warn("We are stalled and have",this.frameCachedLimit,"in memory, but stalled for download, so wait",2*this.benchFpsRetained,"ms"),this.timeoutStalled=setTimeout(function(){return n.onresumestalled()},2*this.benchFpsRetained),this.dispatch(e.model.mediaEvents.BENCH_FPS,2*this.benchFpsRetained)):this.onresumestalled())},o.prototype.loopPlay=function(){var t=this;this.head++;var n=this.targetTime?Math.max(-this.frameWait/2,Math.min(0,this.targetTime-e.helper.Utils.now())):0;this.head>=this.videoFrames.length-1?(this.decodeFinish?this.onfinish():this.onstalled(),this.targetTime=0):this.state===e.model.MediaState.PLAYING&&(this.targetTime=e.helper.Utils.now()+this.frameWait,window.setTimeout(function(){return t.loopPlay()},this.frameWait+n)),this.renderFrame(),this.head%this.frameRate==0&&this.ondecodeframe()},o.prototype.renderFrame=function(){this.videoFrames[this.head]&&(this.player.renderFrame(this.videoFrames[this.head]),this.videoFrames[this.head]=null,this.videoFrames.length<this.head+this.fpsLimit&&(this.benchFps=e.helper.Utils.now(),this.benchFpsCount=0,this.worker.postMessage(["resume"])))},o.prototype.cleanFrame=function(t,e){for(var n=t;n<e;n++)this.videoFrames[n]=null},o}(n.EventDispatcher);n.MpegVideo=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(2),n(13);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(n){function o(e,i,o,r){var a=n.call(this)||this;return a.meta=i,a.player=r,a.videoFrames=[],a.sumologic=new t.Sumologic,a.headBuffer=0,a.head=0,a.benchFps=0,a.frameWait=1e3/24,a.frameRate=24,a.frameCachedLimit=24,a.reading=!1,a.decodingTime=0,a.extractTime=0,a.extractCount=0,a.load(e+"/"+i.tv),a.sumologic.init(t.Sumologic.CONFIGS.PLAYER,t.Option.of(a.player.parameters.sumologicSessionId)),a}return i(o,n),o.prototype.canplay=function(){return this.head+this.frameCachedLimit<=this.videoFrames.length},o.prototype.play=function(){this.state!==e.model.MediaState.PLAYING&&(this.state=e.model.MediaState.PLAYING,this.loopPlay())},o.prototype.pause=function(){this.state!==e.model.MediaState.STALLED&&(this.state=e.model.MediaState.PAUSED)},o.prototype.getCurrentTime=function(){return this.state===e.model.MediaState.INIT?0:this.head/this.frameRate},o.prototype.setCurrentTime=function(t){var e=Math.ceil(t*this.frameRate);return!!this.videoFrames[e]&&(this.head=e,this.player.renderHtmlImageElement(this.videoFrames[this.head]),!0)},Object.defineProperty(o.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"averageDecodingTime",{get:function(){return this.decodingTime/this.videoFrames.length},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"averageExtractTime",{get:function(){return this.extractTime/this.extractCount},enumerable:!0,configurable:!0}),o.prototype.cleanStallTimeout=function(){},o.prototype.load=function(e){this.xhr=t.Request.createXmlHttpRequest(),this.xhr.open("GET",e,!0),this.xhr.responseType="text",this.xhr.onreadystatechange=this.onStateChange.bind(this),this.xhr.onload=this.onload.bind(this),this.xhr.send()},o.prototype.onStateChange=function(){this.xhr.responseText&&this.xhr.readyState>=3&&!this.reading&&this.readResponseRecursive()},o.prototype.readResponseRecursive=function(){if(this.reading){var t=e.helper.Utils.now(),n=this.xhr.responseText.substr(this.headBuffer,4*this.meta.infos.averageFrameSize),i=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)frame\\["+(this.videoFrames.length+1)+"\\]"),o=i.exec(n);if(this.extractTime+=e.helper.Utils.now()-t,this.extractCount++,o)this.headBuffer+=7+this.videoFrames.length.toString().length+o[2].length,this.extractFrame(o);else if(this.loaded){var r=new RegExp("frame\\[("+this.videoFrames.length+")\\](.*)"),a=r.exec(n);a&&(this.headBuffer+=7+this.videoFrames.length.toString().length+a[2].length,this.extractFrame(a))}this.headBuffer>=this.xhr.responseText.length&&(this.reading=!1)}else this.reading=!0,this.initTickTimer()},o.prototype.initTickTimer=function(){var n=this,i=function(){n.reading&&n.readResponseRecursive(),n.state===e.model.MediaState.PLAYING&&n.loopPlay()};try{this.timer=t.Timer.setInterval(function(){return i()},1,t.Context.isAmp()||t.Context.isFacebookWebview())}catch(t){this.tickInterval=setInterval(function(){return i()},1),this.sumologic.sendError("Cannot create worker")}},o.prototype.stopTickTimer=function(){this.timer?this.timer.clear():this.tickInterval&&(clearInterval(this.tickInterval),this.tickInterval=null)},o.prototype.onload=function(){this.loaded=!0,this.dispatch(e.model.mediaEvents.LOADED)},o.prototype.oninit=function(){this.benchFps=e.helper.Utils.now(),this.state=e.model.MediaState.INIT_VIDEO,this.player.resize(this.videoFrames[0].width,this.videoFrames[0].height),this.player.videoWidth=this.videoFrames[0].width,this.player.videoHeight=this.videoFrames[0].height,this.player.dispatch(e.model.mediaEvents.LOADED_METADATA),this.player.dispatch(e.model.mediaEvents.DURATION_CHANGE),this.player.dispatch(e.model.mediaEvents.LOADED_DATA),this.player.renderHtmlImageElement(this.videoFrames[0])},o.prototype.oncanplay=function(){this.state===e.model.MediaState.INIT_VIDEO&&(this.state=e.model.MediaState.CAN_PLAY,this.dispatch(e.model.mediaEvents.CAN_PLAY))},o.prototype.onstalled=function(){var t=this;this.state=e.model.MediaState.STALLED,this.dispatch(e.model.mediaEvents.STALLED),this.listen(e.model.mediaEvents.LOADED,function(){return t.onresumestalled()})},o.prototype.onresumestalled=function(){this.state===e.model.MediaState.STALLED&&this.dispatch(e.model.mediaEvents.RESUME_AFTER_STALLED)},o.prototype.ondecodeframe=function(){this.state!==e.model.MediaState.ENDED&&this.dispatch(e.model.mediaEvents.TIME_UPDATE)},o.prototype.onfinish=function(){this.state=e.model.MediaState.ENDED,this.dispatch(e.model.mediaEvents.ENDED)},o.prototype.extractFrame=function(t){var n=this,i=e.helper.Utils.now(),o=this.videoFrames[t[1]]=new Image;o.src="data:image/jpeg;base64,"+t[2],o.onload=function(){return n.decodingTime+=e.helper.Utils.now()-i},1===this.videoFrames.length?o.onload=function(){return n.oninit()}:this.videoFrames.length>=this.frameCachedLimit&&this.oncanplay(),this.head+this.frameCachedLimit<=this.videoFrames.length&&this.onresumestalled()},o.prototype.loopPlay=function(){if(!(e.helper.Utils.now()<this.targetTime)){this.head++;var t=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-e.helper.Utils.now()):0;this.head>=this.videoFrames.length-1?(this.loaded&&!this.reading?(this.stopTickTimer(),this.onfinish()):this.onstalled(),this.targetTime=0):this.state===e.model.MediaState.PLAYING&&(this.targetTime=e.helper.Utils.now()+this.frameWait+t),this.head&&this.videoFrames&&this.videoFrames[this.head]&&this.player.renderHtmlImageElement(this.videoFrames[this.head]),this.head%this.frameRate==0&&this.ondecodeframe()}},o}(n.EventDispatcher);n.JpegVideo=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(2);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(o){function r(i,r,a,s){var c=o.call(this)||this;c.meta=r,c.player=a;var d=i+"/"+r.mp4;return c.authorized=!!n.PLAYERS[d],c.state=e.model.MediaState.INIT_VIDEO,c.load(d),c.authorized||t.Dom.addEventListener("touchstart",s,c.authorize.bind(c)),c}return i(r,o),r.prototype.canplay=function(){return!0},r.prototype.play=function(){this.state!==e.model.MediaState.PLAYING&&(this.state=e.model.MediaState.PLAYING,this.video.play())},r.prototype.pause=function(){this.state!==e.model.MediaState.STALLED&&(this.state=e.model.MediaState.PAUSED,this.video.pause())},r.prototype.getCurrentTime=function(){return this.video.currentTime},r.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(r.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!0,configurable:!0}),r.prototype.cleanStallTimeout=function(){},r.prototype.authorize=function(){this.authorized||(this.authorized=!0,this.video.play(),this.state!==e.model.MediaState.PLAYING&&this.video.pause(),this.oncanplay())},r.prototype.load=function(t){var i=this;this.video=n.PLAYERS[t]=n.PLAYERS[t]||document.createElement("video"),this.video.setAttribute("webkit-playsinline","true"),this.video.src=t,this.video.onload=function(){return i.onload()},this.video.onended=function(){return i.onfinish()},this.video.ontimeupdate=function(){return i.ondecodeframe()},this.video.onloadedmetadata=function(){i.player.videoWidth=i.video.videoWidth,i.player.videoHeight=i.video.videoHeight,i.player.dispatch(e.model.mediaEvents.LOADED_METADATA),i.player.dispatch(e.model.mediaEvents.DURATION_CHANGE),i.player.dispatch(e.model.mediaEvents.LOADED_DATA),i.oncanplay()},this.player.useCustomDisplay(this.video)},r.prototype.onload=function(){this.dispatch(e.model.mediaEvents.LOADED)},r.prototype.oncanplay=function(){this.state===e.model.MediaState.INIT_VIDEO&&this.authorized&&(this.state=e.model.MediaState.CAN_PLAY,this.dispatch(e.model.mediaEvents.CAN_PLAY))},r.prototype.ondecodeframe=function(){this.state!==e.model.MediaState.ENDED&&this.dispatch(e.model.mediaEvents.TIME_UPDATE)},r.prototype.onfinish=function(){this.state=e.model.MediaState.ENDED,this.dispatch(e.model.mediaEvents.ENDED)},r}(n.EventDispatcher);n.Mp4Video=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(2);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(o){var r=function(r){function a(n,i,s,c){var d=r.call(this)||this;d.meta=i,d.player=s,d.targetTime=0,d.frameWait=1e3/24,d.frameWaitS=1/24;var l=n+"/"+i.mp4;d.authorized=!!o.PLAYERS[l]||!t.Context.isMobile()&&!t.Context.isTablet(),d.state=e.model.MediaState.INIT_VIDEO,d.load(l),d.authorized||t.Dom.addEventListener("touchstart",c,d.authorize.bind(d));var p=document.createElement("div");return p.innerHTML=a.TEMPLATE,d.player.container.appendChild(p.firstChild),d}return i(a,r),a.prototype.canplay=function(){return!0},a.prototype.play=function(){var t=this;this.state!==e.model.MediaState.PLAYING&&this.authorized?(this.state=e.model.MediaState.PLAYING,this.loopPlay()):this.authorized||this.listen(e.model.mediaEvents.CAN_PLAY,function(){return t.play()})},a.prototype.pause=function(){this.state!==e.model.MediaState.STALLED&&(this.state=e.model.MediaState.PAUSED,this.timer&&(clearTimeout(this.timer),this.timer=null))},a.prototype.getCurrentTime=function(){return this.video.currentTime},a.prototype.setCurrentTime=function(t){return!!(this.video.currentTime=t)},Object.defineProperty(a.prototype,"duration",{get:function(){return parseFloat(this.meta.infos.duration)},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"averageDecodingTime",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"averageExtractTime",{get:function(){return 0},enumerable:!0,configurable:!0}),a.prototype.cleanStallTimeout=function(){},a.prototype.authorize=function(){this.authorized||(this.video.play(),this.video.pause(),this.authorized=!0,this.oncanplay())},a.prototype.load=function(t){var n=this,i=!!o.PLAYERS[t];this.video=o.PLAYERS[t]=o.PLAYERS[t]||document.createElement("video"),this.video.muted=!0,i||(this.video.src=t),this.player.useCustomDisplay(this.video),this.video.onload=function(){return n.onload()},this.video.ontimeupdate=function(){return n.ondecodeframe()},this.video.onloadedmetadata=function(){n.player.videoWidth=n.video.videoWidth,n.player.videoHeight=n.video.videoHeight,n.player.dispatch(e.model.mediaEvents.LOADED_METADATA),n.player.dispatch(e.model.mediaEvents.DURATION_CHANGE),n.player.dispatch(e.model.mediaEvents.LOADED_DATA),n.oncanplay()}},a.prototype.onload=function(){this.dispatch(e.model.mediaEvents.LOADED)},a.prototype.oncanplay=function(){this.state===e.model.MediaState.INIT_VIDEO&&this.authorized&&(this.state=e.model.MediaState.CAN_PLAY,this.dispatch(e.model.mediaEvents.CAN_PLAY))},a.prototype.ondecodeframe=function(){this.state!==e.model.MediaState.ENDED&&this.dispatch(e.model.mediaEvents.TIME_UPDATE)},a.prototype.onfinish=function(){this.pause(),this.video.currentTime=0,this.state=e.model.MediaState.ENDED,this.dispatch(e.model.mediaEvents.ENDED)},a.prototype.loopPlay=function(){var t=this;if(this.video.currentTime+this.frameWaitS>this.video.duration)return this.video.currentTime=this.video.duration,this.onfinish();this.video.currentTime+=this.frameWaitS;var n=this.targetTime?Math.max(-this.frameWait/2,this.targetTime-e.helper.Utils.now()):0;this.state===e.model.MediaState.PLAYING&&(this.targetTime=e.helper.Utils.now()+this.frameWait+n,this.timer=window.setTimeout(function(){return t.loopPlay()},this.frameWait+n))},a.TEMPLATE=n(61),a}(o.EventDispatcher);o.Mp4CTVideo=r}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e){t.exports="<style> /* This used to work for parent element of button divs */ /* But it is not enough now, below dont hide play button parent div */ *::-webkit-media-controls-panel { display: none!important; -webkit-appearance: none; } /* Old shadow dom for play button */ *::--webkit-media-controls-play-button { display: none!important; -webkit-appearance: none; } /* New shadow dom for play button */ /* This one works */ *::-webkit-media-controls-start-playback-button { display: none!important; -webkit-appearance: none } </style> "},function(t,e){},function(t,e,n){n(15),n(21),n(20),n(2),n(64),n(66);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(o){function r(t,e,n,i){var r=o.call(this)||this;return r.baseUrl=t,r.meta=e,r.stream=n,r.player=i,e.audio.length&&r.init(),r}return i(r,o),r.prototype.authorizeAudio=function(t){this.api?this.api.authorizeAudio(t):t()},r.prototype.play=function(t){void 0===t&&(t=0),this.api&&this.api.play(t)},r.prototype.pause=function(){this.api&&this.api.pause()},Object.defineProperty(r.prototype,"duration",{get:function(){return this.api?this.api.duration:0},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentTime",{get:function(){return this.api?this.api.currentTime:0},set:function(t){this.api&&(this.api.currentTime=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"volume",{get:function(){return this.api?this.api.volume:0},set:function(t){this.api&&(this.api.volume=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"authorized",{get:function(){return!this.api||this.api.authorized},enumerable:!0,configurable:!0}),r.prototype.canplay=function(){return!this.api||this.api.canplay()},r.prototype.playing=function(){return!!this.api&&this.api.playing()},r.prototype.release=function(){this.api&&this.api.release()},r.prototype.init=function(){var i=this;(t.Context.isAndroid()||t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"9.1")&&this.meta.infos.audio_size<4e5)&&t.Utils.getAudioContext()?this.api=new n.WebAudioApi(this.baseUrl,this.meta,this.stream,this.player.defaultVolume):this.api=new n.HtmlAudioElement(this.baseUrl,this.meta,this.player.defaultVolume),this.api.listen(e.model.mediaEvents.CAN_PLAY,function(){return i.dispatch(e.model.mediaEvents.CAN_PLAY)})},r}(n.EventDispatcher);n.Audio=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(21),n(22),n(65);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(o){function r(i,r,a,s){void 0===s&&(s=0);var c=o.call(this)||this;c.baseUrl=i,c.meta=r,c.stream=a,c.aVolume=s,c.estimatedDuration=0,c.iosReady=!1,c.logger=new t.Logger("canvas.player.components.Audio"),c.file=new n.File(c.baseUrl,c.meta.audio,c.stream);var d=t.Utils.getAudioContext();return c.context=new d,c.file.listen(e.model.mediaEvents.LOADED_DATA,c.oninit.bind(c)),c.file.listen(e.model.mediaEvents.PROGRESS,c.onloadprogress.bind(c)),c.file.listen(e.model.mediaEvents.LOADED,c.onload.bind(c)),c.file.listen(e.model.mediaEvents.CAN_PLAY,c.oncanplay.bind(c)),c.file.state=e.model.MediaState.INIT,t.Context.isIos()&&(c.aVolume=0),c.iosReady=!t.Context.getIosVersion(),c}return i(r,o),r.decodeAudioData=function(t,e,n,i){t.decodeAudioData(e.slice(0,e.byteLength),n,i)},r.prototype.authorizeAudio=function(e){if(void 0===e&&(e=function(){}),!this.iosReady){var n=t.Utils.getAudioContext(),i=this.context.createBuffer(1,1,44100),o=this.context.createBufferSource();o.buffer=i,o.connect(this.context.destination),o.start(0),o.disconnect(),this.context.close&&this.context.close(),this.context=new n,this.iosReady=!0,e()}},r.prototype.play=function(t){var n=this;if(void 0===t&&(t=0),this.file.state!==e.model.MediaState.PLAYING&&this.volume&&this.iosReady){if(!this.buffer)return void setTimeout(function(){return n.play(t+.05)},50);this.resetAudio(),this.noteOnAt&&!t?(this.source.start(0,this.noteOnAt/1e3),this.noteOnAt=Date.now()-this.noteOnAt):(this.noteOnAt=Date.now()-1e3*t,this.source.start(0,t)),this.file.state=e.model.MediaState.PLAYING}},r.prototype.pause=function(){this.file.state!==e.model.MediaState.PAUSED&&this.source&&(this.noteOnAt=Date.now()-this.noteOnAt,this.source.stop(0),this.file.state!==e.model.MediaState.STALLED&&(this.file.state=e.model.MediaState.PAUSED))},r.prototype.canplay=function(){return this.file.canplay()},r.prototype.playing=function(){return this.file.state===e.model.MediaState.PLAYING},r.prototype.release=function(){var t=this;this.context.close&&this.context.close().then(function(){t.buffer=null,t.gainNode&&t.gainNode.disconnect&&(t.gainNode.disconnect(),t.gainNode=null),t.source&&t.source.disconnect&&(t.source.disconnect(),t.source=null)}),this.file.state=e.model.MediaState.ENDED},Object.defineProperty(r.prototype,"duration",{get:function(){return this.estimatedDuration},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"currentTime",{get:function(){return(this.file.state===e.model.MediaState.PLAYING?Date.now()-this.noteOnAt:this.noteOnAt)/1e3},set:function(t){this.file.state===e.model.MediaState.PLAYING&&(this.pause(),this.noteOnAt=1e3*t,this.play())},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"volume",{get:function(){return this.aVolume},set:function(t){this.aVolume=t,this.gainNode&&(this.gainNode.gain.value=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"authorized",{get:function(){return this.iosReady},enumerable:!0,configurable:!0}),r.prototype.oninit=function(t){var e=this;this.data=t,r.decodeAudioData(this.context,t,function(t){var n=Math.ceil(e.meta.infos.audio_size/e.meta.infos.chunk_size)*t.length;e.estimatedDuration=n/t.sampleRate,e.buffer=e.context.createBuffer(t.numberOfChannels,n,t.sampleRate),e.setToMainBuffer(t)},this.logger.error.bind(this.logger))},r.prototype.onloadprogress=function(t){t&&(this.appendFileToData(t),this.decodeData())},r.prototype.onload=function(){var t=this;this.source?this.estimatedDuration=this.source.buffer.duration:setTimeout(function(){return t.onload()},50)},r.prototype.appendFileToData=function(t){var e=new Uint8Array(this.data.byteLength+t.byteLength);e.set(new Uint8Array(this.data),0),e.set(new Uint8Array(t),this.data.byteLength),this.data=e.buffer.slice(0,e.buffer.byteLength)},r.prototype.decodeData=function(){var t=this;r.decodeAudioData(this.context,this.data,function(e){t.setToMainBuffer(e)},this.logger.error.bind(this.logger))},r.prototype.setToMainBuffer=function(t){for(var e=0;e<t.numberOfChannels;e++){this.buffer.getChannelData(e).set(t.getChannelData(e),0)}},r.prototype.oncanplay=function(){this.file.state=e.model.MediaState.CAN_PLAY,this.dispatch(e.model.mediaEvents.CAN_PLAY)},r.prototype.resetAudio=function(){if(this.source)try{this.source.stop(0)}catch(t){this.logger.debug("Error when resetting audio",t)}this.gainNode=this.context.createGain(),this.source=this.context.createBufferSource(),this.source.buffer=this.buffer,this.source.connect(this.gainNode),this.gainNode.connect(this.context.destination),this.volume=this.aVolume},r}(n.EventDispatcher);n.WebAudioApi=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(22),n(20),n(15),n(2);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(n){function o(e,i,o){var r=n.call(this)||this;return r.baseUrl=e,r.chunkUrls=i,r.streamType=o,r.chunkLoaded=0,r.chunkLength=0,r.loggerF=new t.Logger("canvas.player.components.File"),r.chunkNumStart=1,r.chunkNumCanPlay=3,r.chunkLength=r.chunkUrls.length,r.streamLoad(),r}return i(o,n),o.prototype.canplay=function(){return this.state===e.model.MediaState.CAN_PLAY||this.state===e.model.MediaState.PLAYING||this.state===e.model.MediaState.PAUSED||this.state===e.model.MediaState.LOADED||this.state===e.model.MediaState.ENDED},o.prototype.streamLoad=function(){var n=this,i=window.location.protocol.match(/http|https/gi)?"":"http:",o=i+this.baseUrl+"/"+this.chunkUrls.shift(),r=t.Request.createXmlHttpRequest();r.open("GET",o,!0),r.responseType="arraybuffer",r.addEventListener("load",function(t){n.chunkLoaded++,n.chunkLoaded===n.chunkNumStart?n.dispatch(e.model.mediaEvents.LOADED_DATA,r.response):n.dispatch(e.model.mediaEvents.PROGRESS,r.response),(n.chunkLoaded===n.chunkNumCanPlay||n.chunkLength<n.chunkNumCanPlay)&&n.dispatch(e.model.mediaEvents.CAN_PLAY),n.chunkLoaded===n.chunkLength&&n.dispatch(e.model.mediaEvents.LOADED),n.chunkUrls.length&&n.streamLoad()}),r.addEventListener("error",this.loggerF.error.bind(this.loggerF)),r.send()},o}(n.EventDispatcher);n.File=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(21),n(22);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){!function(n){var o=function(n){function o(i,o,r){void 0===r&&(r=0);var a=n.call(this)||this;return a.baseUrl=i,a.meta=o,a.fakeVolume=r,a.touchOk=!1,a.node=document.createElement("audio"),a.node.src=a.baseUrl+"/"+a.meta.audio[0].replace(/\.mp3\.\w\w\w/gi,".mp3"),a.node.preload="auto",a.dispatch(e.model.mediaEvents.CAN_PLAY),t.Context.isIos()&&(a.fakeVolume=0),a}return i(o,n),o.prototype.authorizeAudio=function(t){void 0===t&&(t=function(){}),(!this.touchOk||this.node.readyState<=2)&&(this.touchOk=!0,this.node.play(),this.node.pause(),t())},o.prototype.play=function(t){var n=this;0!==this.fakeVolume&&this.state!==e.model.MediaState.PLAYING&&(this.node.readyState<=2?setTimeout(function(){return n.play(t+.1)},100):(t&&(this.currentTime=t),this.node.play(),this.state=e.model.MediaState.PLAYING))},o.prototype.pause=function(){this.node.pause(),this.state=e.model.MediaState.PAUSED},Object.defineProperty(o.prototype,"duration",{get:function(){return this.node.duration},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"currentTime",{get:function(){return this.node.currentTime},set:function(t){this.node.currentTime=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"volume",{get:function(){return this.fakeVolume},set:function(t){0===t&&this.pause(),this.fakeVolume=t,this.node.volume=t},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"authorized",{get:function(){return this.touchOk&&this.node.readyState>=3},enumerable:!0,configurable:!0}),o.prototype.canplay=function(){return!0},o.prototype.playing=function(){return this.state===e.model.MediaState.PLAYING},o.prototype.release=function(){},o}(n.EventDispatcher);n.HtmlAudioElement=o}(e.components||(e.components={}))}(e.player||(e.player={}))}(t.canvas||(t.canvas={}))}(o||(o={}))},function(t,e,n){n(24);var i=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(e){var i=function(){function e(e){var n=this;this.player=e,this.initBufferDiv(),this.player.video.listen(t.model.mediaEvents.STALLED,function(){return n.show()}),this.player.video.listen(t.model.mediaEvents.RESUME_AFTER_STALLED,function(){return n.hide()}),this.player.video.listen(t.model.mediaEvents.TIME_UPDATE,function(){return n.hide()}),this.player.listen(t.model.mediaEvents.RESIZE,function(t){return n.resize(t)})}return e.prototype.show=function(){this.player.container.insertBefore(this.container,this.player.html5video||this.player.canvas||null)},e.prototype.hide=function(){this.container.parentNode&&this.player.container.removeChild(this.container)},e.prototype.resize=function(t){this.container.style.top=t.height/2-this.container.offsetHeight+"px",this.container.style.left=t.width/2-this.container.offsetWidth/2+"px"},e.prototype.initBufferDiv=function(){var t=document.createElement("div");t.innerHTML=e.TEMPLATE,this.container=t.firstChild},e.TEMPLATE=n(68),e}();e.Buffering=i}(t.components||(t.components={}))}(t.player||(t.player={}))}(t.canvas||(t.canvas={}))}(i||(i={}))},function(t,e){t.exports="<div class=\"loader\"> <style> .loader:before, .loader:after, .loader { border-radius: 50%; width: 1.5em; height: 1.5em; -webkit-animation-fill-mode: both; animation-fill-mode: both; -webkit-animation: load7 1.8s infinite ease-in-out; animation: load7 1.8s infinite ease-in-out; } .loader { font-size: 8px; margin-left: -8px; position: absolute; left: 50%; top: 30%; z-index: 10; text-indent: -9999em; -webkit-transform: translateZ(0); -ms-transform: translateZ(0); transform: translateZ(0); -webkit-animation-delay: -0.16s; animation-delay: -0.16s; } .loader:before { left: -2em; -webkit-animation-delay: -0.32s; animation-delay: -0.32s; } .loader:after { left: 2em; } .loader:before, .loader:after { content: ''; position: absolute; top: 0; } @-webkit-keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } @keyframes load7 { 0%, 80%, 100% { box-shadow: 0 2.5em 0 -1.3em #ffffff; } 40% { box-shadow: 0 2.5em 0 0 #ffffff; } } </style> loading...</div> "},function(t,e){},function(t,e,n){n(8),n(14);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.prototype.getVPAID=function(){return this.vpaid},t.prototype.initAd=function(t,e,n,i,o,r){this.vpaidguard("initAd",[t,e,n,i,o,r])},t.prototype.skipAd=function(){this.vpaidguard("skipAd")},t.prototype.resizeAd=function(t,e,n){void 0===n&&(n="normal"),this.vpaidguard("resizeAd",[t,e,n])},t.prototype.handshakeVersion=function(t){return this.vpaidguard("handshakeVersion",[t])},t.prototype.startAd=function(){this.vpaidguard("startAd",[])},t.prototype.stopAd=function(){this.vpaidguard("stopAd",[])},t.prototype.pauseAd=function(){this.vpaidguard("pauseAd",[])},t.prototype.resumeAd=function(){this.vpaidguard("resumeAd",[])},t.prototype.expandAd=function(){this.vpaidguard("expandAd",[])},t.prototype.collapseAd=function(){this.vpaidguard("collapseAd",[])},t.prototype.getAdLinear=function(){return this.vpaidguard("getAdLinear",[])},t.prototype.getAdWidth=function(){return this.vpaidguard("getAdWidth",[])},t.prototype.getAdHeight=function(){return this.vpaidguard("getAdHeight",[])},t.prototype.getAdExpanded=function(){return this.vpaidguard("getAdExpanded",[])},t.prototype.getAdSkippableState=function(){return this.vpaidguard("getAdSkippableState",[])},t.prototype.getAdRemainingTime=function(){return this.vpaidguard("getAdRemainingTime",[])},t.prototype.getAdDuration=function(){return this.vpaidguard("getAdDuration",[])},t.prototype.getAdVolume=function(){return this.vpaidguard("getAdVolume",[])},t.prototype.getAdCompanions=function(){return this.vpaidguard("getAdCompanions",[])},t.prototype.getAdIcons=function(){return this.vpaidguard("getAdIcons",[])},t.prototype.setAdVolume=function(t){return this.vpaidguard("setAdVolume",[t])},t.prototype.subscribe=function(t,e,n){this.vpaidguard("subscribe",[t,e,n])},t.prototype.unsubscribe=function(t,e){this.vpaidguard("unsubscribe",[t,e])},t.prototype.setVPAID=function(t){this.vpaid=t},t.prototype.vpaidguard=function(t,e){void 0===e&&(e=[]);try{return this.callVPAIDMethod(t,e)}catch(t){}},t.prototype.callVPAIDMethod=function(t,e){return void 0===e&&(e=[]),this.vpaid[t].apply(this.vpaid,e)},t}();t.VPAIDJSGuard=e}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e,n){n(3);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.hasFlash=function(){if(t.Context.isMobile()||t.Context.isTablet())return!1;var n=e.getFlashVersion().map(function(t){return parseInt(t,10)});return n[0]>=e.requiredVersion[0]&&n[1]>=e.requiredVersion[1]},e.hasFlashVersion=function(t){return t>=parseInt(e.getFlashVersion()[0],10)},e.getFlashVersion=function(){try{var t=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash.6");try{t.AllowScriptAccess="always"}catch(t){return["6","0","0"]}return new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version").replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){try{if(navigator.mimeTypes["application/x-shockwave-flash"].enabledPlugin)return(navigator.plugins["Shockwave Flash 2.0"]||navigator.plugins["Shockwave Flash"]).description.replace(/\D+/g,",").match(/^,?(.+),?$/)[1].split(",")}catch(t){}}return["0","0","0"]},e.requiredVersion=[10,0],e}();t.FlashHelper=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(t,e,n,i,o,r){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===i&&(i=!1),void 0===o&&(o=!0),void 0===r&&(r=[]),this.name=t,this.before=e,this.after=n,this.multiple=i,this.metadata=o,this.resources=r,this.tracked=[],this.eventIsTracked=!1,"progress"===t&&(this.multiple=!0)}return e.prototype.getName=function(){return this.name},e.prototype.getBefore=function(){return this.before},e.prototype.getAfter=function(){return this.after},e.prototype.isMultiple=function(){return this.multiple},e.prototype.isMetadata=function(){return this.metadata},e.prototype.getResources=function(e){return t.ArrayHelper.filter(this.resources,function(t){return!(t.offset>0)||e>=0&&t.offset>=0&&e>=t.offset&&!t.fired})},e.prototype.getAllResources=function(){return this.resources},e.prototype.removeResources=function(){this.resources=[]},e.prototype.hasResources=function(){return this.resources.length>0},e.prototype.addResource=function(t,e){this.resources.push({url:t,offset:e})},e.prototype.setTracked=function(){this.eventIsTracked=!0},e.prototype.isTracked=function(){return this.eventIsTracked},e.prototype.addTracked=function(t,e){this.tracked.push({time:e,url:t})},e.prototype.getTracked=function(){return this.tracked},e.prototype.isTrackable=function(){return!this.eventIsTracked||this.isMultiple()},e}();e.Tracking=n}(t.tracker||(t.tracker={}))}(n||(n={}))},function(t,e,n){n(85),n(90),n(88)},function(t,e,n){n(50),n(47);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){var i=null!==n&&n.apply(this,arguments)||this;return i.status=e.constant.MediaProxyStatus.UNSTARTED,i.sumologic=new t.Sumologic,i}return i(o,n),o.getFileExtension=function(e){return t.URIHelper.parse(e).pathname.split(".").pop()},o.prototype.getStatus=function(){return this.status},o.prototype.getVideoUrl=function(){return this.videoUrl},o.prototype.load=function(n,i){var r=this;if(this.sumologic.isInitialized()||this.sumologic.init(t.Sumologic.CONFIGS.PLAYER,t.Option.empty()),t.ArrayHelper.indexOf(o.alreadyEncoded,o.getFileExtension(n))>-1)return this.videoUrl=n,this.status=e.constant.MediaProxyStatus.READY,void this.dispatch(e.constant.MediaProxyEvent.READY,{errorCode:200});this.status=e.constant.MediaProxyStatus.WAITING,this.dispatch(e.constant.MediaProxyEvent.WAITING);var a=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),s=t.Utils.getProtocol()+"//[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,a?a[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(n)).replace(/\[BITRATE\]/,i.toString()),c=t.Request.createXmlHttpRequest(),d=!1;c.open("GET",s,!0),c.onreadystatechange=function(){if(4===c.readyState&&!d){switch(c.status){case 200:r.videoUrl=c.responseText,r.status=e.constant.MediaProxyStatus.READY,r.dispatch(e.constant.MediaProxyEvent.READY,{errorCode:c.status}),d=!0;break;case 416:case 202:case 201:default:r.status=e.constant.MediaProxyStatus.ERROR,r.dispatch(e.constant.MediaProxyEvent.ERROR,{errorCode:c.status}),d=!0}r.sumologic.sendInfo(["proxy","resp",c.status].join(" "))}},c.send(),this.sumologic.sendInfo("proxy call")},o.alreadyEncoded=["tv","mpg","mpeg"],o}(t.canvas.player.components.EventDispatcher);e.MediaProxy=n}(t.video||(t.video={}))}(o||(o={}))},function(t,e,n){n(6),n(8),n(14),n(78);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function e(){}return e.isVPAID2=function(t){return Number(t.handshakeVersion("2.0"))>=2},e.createVPAIDEventCallback=function(e,n){return function(){for(var i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];var r=i[0];switch(n){case t.VPAIDEvent.AdClickThru:r={url:i[0],id:i[1],playerHandles:i[2]};break;case t.VPAIDEvent.AdError:r={message:i[0],id:i[1]}}e({type:n,data:r})}},e.checkVpaidStatus=function(e,n){switch(e){case"initAd":if(n>=t.VpaidStatus.LOADING)throw"VPAID already initalized, cannot call initAd twice";break;case"startAd":if(n<t.VpaidStatus.LOADED)throw"VPAID not started, use initAd, and wait for AdLoaded event before call startAd method";if(n>=t.VpaidStatus.STARTING)throw"Ad already started, cannot call startAd twice"}},e}();t.VPAIDHelper=e}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e,n){n(8)},function(t,e,n){n(24)},function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(o){var r=function(o){function r(){var t=null!==o&&o.apply(this,arguments)||this;return t.timerClass="countdown-timer",t}return i(r,o),r.prototype.init=function(){if(this.countdown=Number(this.config.countdown),this.countdown<=0||isNaN(this.countdown))return void this.onEnded();var n=e.TemplateHelper.replacePlaceholders(r.TEMPLATE,{"countdown-duration":this.countdown,"countdown-id":"countdown-"+t.StringHelper.rand(10)});this.getElement().innerHTML=n,this.countdownTextElement=this.getElement().querySelector("."+this.timerClass)},r.prototype.initTimer=function(){var t=this,e=function(){t.isPaused()||t.countdown--,t.countdown<=0?(t.hide(),t.onEnded()):t.updateDisplay()};this.timerInterval=setInterval(e,1e3),this.updateDisplay()},r.prototype.stopTimer=function(){clearInterval(this.timerInterval)},r.prototype.setCountdown=function(t){this.countdown=t,this.updateDisplay()},r.prototype.resume=function(){this.paused=!1},r.prototype.pause=function(){this.paused=!0},r.prototype.isPaused=function(){return this.paused},r.prototype.isEnded=function(){return this.ended},r.prototype.setEndedCallback=function(t){this.callback=t},r.prototype.removeEndedCallback=function(){this.callback=null},r.prototype.onEnded=function(){if(clearInterval(this.timerInterval),this.ended=!0,this.hide(),this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("countdown ended callback failled",t)}},r.prototype.updateDisplay=function(){this.countdownTextElement&&this.countdownTextElement.setAttribute&&this.countdownTextElement.setAttribute("data-countdown",String(this.countdown))},r.TEMPLATE=n(141),r}(o.Component);o.Countdown=r}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(147);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.getCurrentTime=function(t){return Number(t.getAdDuration())>0?t.getAdDuration()-t.getAdRemainingTime():0},t.isMuted=function(t){return!(t.getAdVolume()>0)},t}();t.VPAIDHelper=e}(t.ui||(t.ui={}))}(i||(i={}))},function(t,e,n){n(174)},function(t,e){},function(t,e){},function(t,e,n){n(83),n(175),n(176),n(177);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.config={url:"",skippable:!0,skipoffset:0,gradients:!0},t.eventMap={durationchange:"AdDurationChange",resize:"AdSizeChange",volumechange:"AdVolumeChange",ended:"AdVideoComplete",play:"AdPlaying",playing:"AdPlaying",pause:"AdPaused",timeupdate:"AdRemainingTimeChange",error:"AdError"},t}return i(o,n),o.prototype.initAd=function(e,i,o,r,a,s){var c=this;if(this.status!==t.vpaid.VpaidStatus.READY)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"creative is not in ready state, cannot call initAd");try{this.parameters=this.config,n.prototype.initAd.call(this,e,i,o,r,a,s),t.Dom.addEventListener("error",this.video,function(t){c.handleVideoError(t)}),t.Dom.addEventListener("loadedmetadata",this.video,function(e){return c.dispatchVpaidEvent(t.vpaid.CustomVPAIDEvent.AdVideoMetadata,{width:c.video.videoWidth,height:c.video.videoHeight})}),this.beginingTimestamp=Date.now(),this.video.preload="metadata",this.video.src=this.parameters.url,this.appendVideo(),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLoaded)}catch(t){this.handleException(t,"initAd")}},o.prototype.startAd=function(){var i=this;if(this.status>t.vpaid.VpaidStatus.LOADED)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<t.vpaid.VpaidStatus.LOADED)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"Ad is not loaded, use initAd first");try{n.prototype.startAd.call(this),this.parameters.gradients&&this.appendGradients(),this.clickThrough=new e.component.ClickThrough(function(e,n,o){i.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdClickThru,{url:e,id:n,playerHandles:o})},this.parameters.clickThrough),this.clickThrough.append(this.container),this.clickThrough.resize(this.width,this.height),this.setSize(this.width,this.height),this.initListeners(),this.video.play(),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdStarted),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdImpression)}catch(t){this.handleException(t,"startAd")}},o.prototype.skipAd=function(){if(this.status<=t.vpaid.VpaidStatus.SKIPPING)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"Ad is already stopped or is skipping");try{this.skippable?(n.prototype.skipAd.call(this),this.video.pause(),this.video.style.display="none",this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdSkipped)):this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"skipAd() called, but creative is not skippable")}catch(t){this.handleException(t,"skipAd")}},o.prototype.resizeAd=function(e,n,i){try{this.setSize(e,n),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdSizeChange)}catch(t){this.handleException(t,"resizeAd")}},o.prototype.stopAd=function(){if(this.status<=t.vpaid.VpaidStatus.STOPPING)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"Ad is already stopped");try{n.prototype.stopAd.call(this),this.removeVideo(),this.clickThrough.remove(),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdStopped),this.eventHandler.clearListeners()}catch(t){this.handleException(t,"stopAd")}},o.prototype.pauseAd=function(){try{this.video.pause()}catch(t){this.handleException(t,"pauseAd")}},o.prototype.resumeAd=function(){try{this.video.play()}catch(t){this.handleException(t,"resumeAd")}},o.prototype.getAdRemainingTime=function(){return this.video?this.video.duration-this.video.currentTime:0},o.prototype.getAdDuration=function(){return this.video?this.video.duration:0},o.prototype.getAdVolume=function(){return this.video?this.video.muted?0:this.video.volume:0},o.prototype.setAdVolume=function(t){return this.video?(this.video.muted=0===t,this.video.volume=t,this.video.muted?0:this.video.volume):0},o.prototype.appendGradients=function(){var e=this;t.ArrayHelper.forEach(["top","bottom"],function(n){var i=document.createElement("div");i.style.background="transparent url(data:image/png;base64,"+t.video.VPAIDVideo["GRADIENT_"+n.toUpperCase()]+")",i.style.position="absolute",i.style.left="0",i.style[n]="0",i.style.zIndex="2",i.style.height="30px",i.style.width="100%",e.container.appendChild(i)})},o.prototype.appendVideo=function(){this.video.parentNode||(this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"Video slot got no parent node, appending to container"),this.container.appendChild(this.video))},o.prototype.removeVideo=function(){try{this.video.parentNode.removeChild(this.video)}catch(e){this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"teads-vpaid-video, cannot remove video from DOM")}},o.prototype.sendAdVideoStartEvent=function(){this.videoHasStarted||(this.videoHasStarted=!0,this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdVideoStart))},o.prototype.setSize=function(t,e){this.width=t,this.height=e,this.video&&(this.video.width=this.width,this.video.height=this.height),this.clickThrough&&this.clickThrough.resize(t,e),this.container.style.width=t+"px",this.container.style.height=e+"px"},o.prototype.initListeners=function(){var t=this;for(var e in this.eventMap)this.video.addEventListener(e,function(e){t.handleVideoEvent(e)},!1)},o.prototype.handleVideoError=function(n){if("error"===n.type){var i=this.video.error;if(i)switch(i.code){case 1:break;case 2:this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,{message:"video error : A network error caused the ressource to stop being fetched",id:t.VastException.MEDIAFILE_TIMEOUT.id});break;case 3:this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,{message:"video error : A decoding error caused the ressource to stop being fetched",id:t.VastException.MEDIAFILE_DISPLAY.id});break;case 4:var o={message:"video error : The associated ressource has been detected to be not suitable",id:t.VastException.GENERAL_LINEAR.id};this.video.readyState===e.NetworkState.HAVE_NOTHING&&(o.id=t.VastException.FILE_NOT_FOUND.id),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,o)}else this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,{message:"video error : unkown error",id:t.VastException.GENERAL.id})}},o.prototype.handleVideoEvent=function(e){try{var n=this.eventMap[e.type];switch(e.type){case"pause":if(this.video.currentTime===this.video.duration||this.status<=t.vpaid.VpaidStatus.SKIPPING||this.status===t.vpaid.VpaidStatus.COMPLETE)return;break;case"play":case"playing":if(this.status===t.vpaid.VpaidStatus.STARTED)return this.sendAdVideoStartEvent();if(this.status!==t.vpaid.VpaidStatus.PAUSED)return;break;case"timeupdate":this.parameters.skippable&&!this.skippable&&this.video.currentTime>=Number(this.parameters.skipoffset)&&(this.skippable=!0,this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdSkippableStateChange)),(this.status===t.vpaid.VpaidStatus.STARTED||this.video.currentTime>0)&&this.sendAdVideoStartEvent()}this.dispatchVpaidEvent(n)}catch(n){var i='Creative threw an exception when handling "'+e.type+'" HTML5 video event: '+n.toString();this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,i),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,{message:i,id:t.VastException.GENERAL.id})}},o.GRADIENT="iVBORw0KGgoAAAANSUhEUgAAAAEAAAAeCAYAAADtlXTHAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMDY3IDc5LjE1Nzc0NywgMjAxNS8wMy8zMC0yMzo0MDo0MiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUgKE1hY2ludG9zaCkiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6QjM0ODU0RjM1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6QjM0ODU0RjQ1QkFEMTFFNUE5RDI5OTE4QkFCM0I3NzciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDpCMzQ4NTRGMTVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDpCMzQ4NTRGMjVCQUQxMUU1QTlEMjk5MThCQUIzQjc3NyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/",o.GRADIENT_TOP=o.GRADIENT+"Psk0S98AAAAgSURBVHjaYmBgYJBiAhIMIOI/nEDj0oNgYGaAAYAAAwAH4xg8FtOkrgAAAABJRU5ErkJggg==",o.GRADIENT_BOTTOM=o.GRADIENT+"PkIta+gAAAAaSURBVHjaYmBABoxMMIKBCYVLDwLJSoAAAwAWTwBRQ43+sgAAAABJRU5ErkJggg==",o}(e.BaseVPAIDCreative);e.VPAIDVideo=n}(t.video||(t.video={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){t.base64TransparentPixel="data:image/gif;base64,R0lGODlhAQABAAAAACwAAAAAAQABAAA=";!function(t){t.CONTENTPLAYHEAD="[CONTENTPLAYHEAD]",t.CACHEBUSTING="[CACHEBUSTING]",t.ERRORCODE="[ERRORCODE]",t.ASSETURI="[ASSETURI]",t.MEDIAFILETYPE="[MEDIAFILETYPE]",t.VIEWABILITY="[VIEWABILITY]",t.DEVICEID="[DEVICEID]",t.BUNDLEID="[BUNDLEID]",t.LIMIT_TRACKING="[LIMIT_TRACKING]",t.PAGEID="[pageId]",t.PID="[pid]",t.SLOT_TYPE="[slotType]",t.ENV="[env]",t.IMPRESSIONID="[impressionId]",t.HEADER_BIDDING_PROVIDER="[headerBiddingProvider]",t.USERID="[userId]",t.OS="[os]",t.GID="[insertionId]"}(t.TrackingMacro||(t.TrackingMacro={}))}(t.Constant||(t.Constant={}))}(n||(n={}))},function(t,e,n){n(73);var i=window.teads=window.teads||{};!function(t){!function(t){!function(t){t.AD_VERIFICATIONS="AdVerifications",t.MOAT_JS="MoatJs",t.VISIBILITY="Visibility",t.HTML="Html",t.IFRAME="Iframe",t.SCRIPT="Script",t.ALENTY="Alenty",t.TEADS_IAS="teads-IAS"}(t.ExtensionType||(t.ExtensionType={}))}(t.vast||(t.vast={}))}(i||(i={}))},function(t,e,n){n(118);var i=window.teads=window.teads||{};!function(t){!function(t){t.SLIDER_WHITELIST=window.SLIDER_WHITELIST||/^(25030|27511|27935|28418|29824|30767|35627|35655|35781|35782|35878|35883|35892|36851|36886|36909|37252|37270|37431|37432|37440|37450|37513|37648|37652|37655|37656|37664|37666|37676|37678|37703|37704|37790|37791|37811|37812|37814|37921|37925|37926|37928|37932|37955|37958|37959|37967|38033|38037|38038|38039|38043|38044|38049|38050|38051|38052|38053|38054|38055|38056|38057|38059|38219|38221|38297|38299|38309|38310|38328|38329|38331|38343|38424|38686|38908|38983|38984|39456|39457|39955|40236|40237|40239|40249|40250|40427|41206|41207|41259|41391|41660|42628|42712|42811|42812|43215|43260|43323|43701|43702|44019|44020|44223|44328|44329|44330|44333|44334|44495|44496|45036|45037|45040|45041|45058|45119|45125|45572|45573|45575|45681|45872|46012|46053|46056|46058|46066|46274|46374|46407|46426|46435|46514|46819|47135|47136|47160|47161|47165|47443|47535|47575|47576|47577|47578|47579|47580|47587|47588|47589|47590|47591|47592|47593|47594|47595|47596|47597|47598|47600|47924|47925|47926|47930|47931|47932|47956|48034|48408|48409|48431|48820|48822|48824|48826|48830|48967|49069|49677|49678|50244|50245|50487|50797|50800|51583|51936|52085|52186|52288|52289|52290|52432|52433|52437|52866|52867|52894|52897|53252|53325|53892|53948|54108|54125|54561|55060|55061|55062|55097|55160|55229|55231|55233|55235|55819|55973|55975|55992|56493|56664|56665|58062|59565|60075|60294|60298|60612|61013|61018|61180|61334|61335|61409|61502|61503|61522|61524|61525|61561|61570|61762|61797|62102|62143|62242|62245|62267|62341|62385|62391|62586|62587|62619|62622|62650|62730|62749|62909|62910|62948|62963|63068|63069|63080|63081|63083|63093|63201|63203|63204|63205|63206|63207|63208|63209|63210|63280|63289|63572|63574|63757|63784|63786|63788|63790|63792|63794|63796|63798|63800|63802|63804|63859|64010|64018|64224|64339|64469|64481|64482|64534|64650|64836|64837|64999|65000|65034|65043|65046|65257|65464|65599|65765|65840|65853|65865|65978|65988|66226|66337|66338|66339|66371|66537|66538|66706|67325|67335|67713)$/,t.FORCE_EXPAND_ANIMATION_LIST=/^(19503|19593|19742|20405|20406|20993|21076|21077|21918|22041|22268|22313|22560|23278|23388|23861|23862|24283|24642|24666|24857|24858|24991|24992|24993|24997|24998|24999|25000|25001|25058|25088|25129|25897|26007|26071|26072|26073|26074|26075|26076|26077|26078|26079|26248|26318|26403|26512|26547|26631|26632|26942|27348|27593|27696|28019|28222|28320|28321|28361|28419|28588|28589|28626|28627|28647|28687|28854|29017|29018|29019|29020|29399|29401|29402|29404|29715|29757|29758|29929|29930|29931|30964|30967|31752|31753|31760|31761|31762|31777|31778|31779|32105|32106|32107|32281|32282|32283|32284|32329|32330|32557|32601|32674|32675|32676|32677|33032|33033|33110|33366|33508|33521|33522|33523|33524|33525|33526|33538|33703|33704|33705|33706|33707|33708|33870|33896|33897|33898|33899|34364|34441|34574|34575|34709|34710|34711|34712|34713|34714|34804|34805|34806|34807|34894|34895|35173|35326|35327|35365|35636|35637|35982|35983|35985|35986|36125|36136|36184|36185|36186|36187|36188|36189|36190|36191|36192|36461|36462|36463|36464|36465|36466|36467|36468|36469|36470|36471|36472|36473|36476|36477|36478|36479|36480|36481|36482|36483|36484|36742|36743|36744|36745|36746|37071|37072|37073|37280|37950|37951|38197|38198|38199|38388|38762|38763|38764|38765|38766|39893|39969|40075|41033|41034|41035|41036|41043|41044|41045|41303|41493|41494|41910|41911|41912|41913|41914|41915|42084|42270|42271|42272|42273|42274|42275|42510|42511|42512|42513|42710|42711|42780|42781|42838|42839|42931|43102|43103|43104|43105|43106|43107|43112|43113|43356|43654|43658|43763|43765|43862|43863|43993|43994|43995|44005|44006|44322|44323|44404|44405|44588|45253|45254|45255|45256|45257|45258|45259|45260|45261|45262|45263|45264|45265|45266|45267|45268|45269|45270|45271|45272|45273|45274|45275|45277|45278|45279|45280|45281|45282|45283|45284|45285|45286|45287|45288|45289|45290|45291|45292|45293|45294|45295|45296|45297|45298|45299|45300|45351|45352|45353|45354|45355|45356|45357|45358|45359|45360|45361|45362|45363|45364|45365|45366|45367|45368|45369|45370|45371|45372|45373|45374|45375|45376|45377|45378|45379|45380|45381|45382|45383|45384|45385|45386|45387|45388|45389|45424|45425|45426|45427|45428|45429|45430|45431|45432|45481|45482|45483|45519|45520|45521|45522|45641|45642|45643|45735|45879|45892|45897|45949|45950|45951|45952|45954|45955|45961|45963|45964|46136|46137|46138|46244|46245|46246|46351|46379|46380|46383|46384|46385|46386|46447|46609|46610|46611|46612|46613|46614|46615|46616|46617|46618|46619|46620|46621|46622|46623|46624|46625|46626|46627|46628|46629|46630|46631|46632|46633|46634|46635|46636|46637|46638|46639|46640|46641|46642|46643|46644|46695|46696|46697|46698|46699|46700|46701|46703|46704|46705|46722|46723|46724|46726|46727|46728|46729|46730|46731|46732|46733|46734|46736|46737|46738|46739|46740|46741|46765|46766|46767|46768|46769|46770|46999|47000|47001|47002|47003|47004|47027|47028|47029|47074|47075|47076|47077|47078|47166|47167|47168|47169|47170|47171|47172|47173|47226|47261|47262|47263|47264|47440|47525|47526|47527|47620|47621|47677|47678|47679|47680|47681|47682|47683|47684|47685|47697|47698|47737|47738|47739|47740|47741|47742|47743|47744|47745|47746|47747|47748|47751|47752|47753|47754|47755|47756|47814|47815|47831|47841|47842|47946|47947|47948|47949|47950|47951|47952|47953|47979|47988|48088|48089|48091|48134|48135|48136|48137|48138|48139|48140|48141|48142|48143|48144|48145|48234|48235|48368|48379|48403|48404|48405|48466|48467|48468|48470|48510|48511|48512|48525|48552|48555|48558|48559|48596|48597|48598|48599|48600|48601|48602|48612|48667|48671|48673|48674|48675|48676|48677|48678|48679|48680|48681|48682|48683|48684|48685|48686|48687|48688|48689|48690|48691|48692|48693|48694|48695|48696|48895|48896|48897|48898|48906|48965|49101|49195|49247|49257|49260|49262|49264|49302|49303|49316|49317|49318|49319|49333|49334|49335|49359|49405|49431|49792|49798|49799|50062|50081|50167|50286|50287|50382|50392|50395|50396|50397|50467|50468|50469|50560|50561|50563|50564|50752|50753|51020|51073|51074|51123|51124|51286|51295|51296|51300|51308|51388|51651|51978|52057|52058|52059|52060|52061|52067|52098|52165|52169|52211|52240|52245|52248|52253|52538|52676|52677|52679|52680|52691|52708|52709|52711|52797|52801|52802|52829|52928|52979|53055|53056|53057|53058|53059|53060|53061|53062|53063|53064|53065|53066|53067|53257|53323|53324|53456|53457|53458|53814|53815|53816|53817|53818|53819|53820|53821|53906|53911|53939|53941|53942|54004|54005|54029|54034|54042|54147|54148|54149|54150|54151|54303|54304|54305|54310|54311|54422|54425|54426|54428|54429|54433|54548|54580|54581|54594|54639|54653|54654|54655|54656|54657|54658|54659|54660|54661|54728|54729|54834|54908|54970|54971|55034|55109|55165|55180|55184|55338|55339|55340|55414|55415|55416|55417|55419|55505|55506|55507|55508|55513|55514|55652|55653|55654|55655|55656|55657|55956|56182|56183|56184|56241|56242|56244|56444|56532|56536|56537|56538|56560|56561|56562|56563|56564|56565|56568|56570|56571|56572|56573|56574|56576|56579|56587|56593|56594|56596|56675|56676|56677|56678|56679|56680|56681|56682|56683|56684|56685|56688|56689|56690|56691|56692|56693|56694|56695|56696|56697|56698|56699|56700|56701|56702|56703|56704|56705|56781|56782|56783|56927|56928|56940|57247|57248|57249|57370|57461|57463|57611|58148|58149|58150|58151|58153|58154|58211|58305|58321|58322|58371|58389|58440|58473|58483|58933|58982|59013|59014|59019|59241|59284|59290|59378|59379|59579|59580|59956|59957|59958|59959|59961|59962|59965|59967|59999|60139|60140|60141|60142|60143|60144|60145|60146|60147|61067|61068|61069|61070|61199|61200|61205|61206|61363|61364|61381|61508|61779|61780|61781|61782|61783|61784|61785|61786|61787|61788|61789|61790|61819|61855|61856|61857|62302|62303|62354|62355|62356|62357|62358|62359|62362|62363|62364|62654|62656|62658|62659|62881|63215|63299|63300|63303|63304|63306|63307|63366|63367|63381|63382|63385|63386|63538|63539|63554|63829|63830|63831|63835|63969|63970|63972|64061|64062|64063|64064|64065|64066|64068|64069|64155|64156|64157|64158|64159|64247|64248|64249|64250|64251|64349|64350|64351|64352|64353|64354|64355|64356|64427|64433|64434|64548|64549|64550|64551|64552|64561|64562|64563|64564|64737|64738|64825|64826|64828|64829|64830|64971|64972|65222|65223|65226|65227|65228|65229|65230|65369|65370|65373|65374|65375|65376|65611|65612|65613|65614|65663|65808|65875|65876|65877|65878|65879|65880|65881|65882|65884|65885|65886|65887|65888|65889|65890|65891|65893|65895|65896|65897|65898|65900|65901|65902|65903|65904|65905|65906|65907|66078|66079|66080|66081|66082|66083|66084|66085|66086|66087|66088|66089|66382|66383|66384|66385|66386|66387|66662|66663|66666|66667|66668|66719|66975|66976|67222|67223|67224|67225|67281|67282|67404|67405|67406|67407|67410|67411|67412|67413|67543|67544|67545|67546|67547|67548|67549|67550|67551|67635|67636|67649|67650|67744|67745|67746|67747|67748|67749|68000|68001|68004|68005|68029|68031|68032|68033|68211|68214|68254|68255|68256|68257|68258|68259|68260|68261|68262|68263|68264|68265|68266|68267|68268|68269|68270|68271|68272|68414|68415|68416|68417|68419|68436|68437|68438|68440|68592|68593|68594|68595|68596|68597|68598|68599|68601|68602)$/,t.RESPONSIVE={xs:{className:"xs-screen",size:480},sm:{className:"sm-screen",size:640}},t.INREAD_IMPACT_PARALLAX_WIDTH=224,t.INREAD_IMPACT_BASE_WIDTH=640,t.INREAD_IMPACT_BASE_HEIGHT=234,t.FORMAT={inread:"inread",inboard:"inboard"},t.SLOT_TYPE={native:"native",corner:"corner",top:"top"},t.TRACKING={placementCall:"placementCall",fallback:{integration:"passback-integration",noAd:"passback-noAd"},noSlot:{selector:"noSlot-selector",hbSelector:"hbNoSlot-selector",filter:"noSlot-filter",avoid:"noSlot-avoid",size:"noSlot-size",btf:"noSlot-BTF",minimum:"noSlot-minimum",minimumBelow:"noSlot-minimumBelow",content:"noSlot-content",position:"noSlot-position",videoArticle:"noSlot-videoArticle",videoSlot:"noSlot-videoSlot",imageSlot:"noSlot-imageSlot",safeFrame:"noSlot-safeFrame"},incompatibility:{browser:"incompatibility-browser",context:"incompatibility-context",format:"incompatibility-format",video:"incompatibility-video"},placementCapping:"placementCapping",slotAvailable:"slotAvailable",hbSlotAvailable:"hbSlotAvailable",adNotAvailable:{networkError:"adNotAvailable-networkError",serverError:"adNotAvailable-serverError"},adAvailable:{error:{parseTimeout:"adAvailable-error-parseTimeout",badResponse:"adAvailable-error-badResponse",vast:"adAvailable-error-vast-{code}",settings:"adAvailable-error-settings",sameAd:"adAvailable-error-sameAd"},success:"adAvailable-success"},adCall:"adCall",noAd:{serverError:"noAd-serverError",networkError:"noAd-networkError",notFilled:"noAd-notFilled",vastError:"noAd-vastError-{code}",parseTimeout:"noAd-parseTimeout",settingsError:"noAd-settingsError",badResponse:"noAd-badResponse",sameAd:"noAd-sameAd",ivt:{doubleVerify:"noAd-ivt-doubleVerify",tag:"noAd-ivt-tag"},blockedSite:{doubleVerify:"noAd-blockedSite-doubleVerify"}},ad:"ad",impression:"impression",openExpand:"open-expand",open:"open",visible:"visible",click:"click",ivt:{doubleVerify:"IVT DoubleVerify",tag:"IVT Tag"},blockedSite:{doubleVerify:"BlockedSite DoubleVerify"}},t.TRACKING_LOG={placementCall:"f11",noSlot:"f21",incompatibility:"f22",slotAvailable:"f24",adNotAvailable:"f31","adAvailable-error":"f32","adAvailable-success":"f33",adCall:"f41",noAd:"f51",ad:"f52"},t.COMSCORE_URL={V1:{"http:":"http://b.scorecardresearch.com/p?C1=1&C2=17198971&C5=01","https:":"https://sb.scorecardresearch.com/p?C1=1&C2=17198971&C5=01"},V2:{"http:":"http://b.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]","https:":"https://sb.scorecardresearch.com/p?c1=2&c2=17198971&ns_ap_sv=2.1511.10&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]"},V2SDK:"https://sb.scorecardresearch.com/p?c1=19&c2=17198971&c12=[userId]&ns_ap_pn=[os]&ns_ap_device=[device]&ns_ap_sv=2.1602.11&ns_type=hidden&ns_st_it=a&ns_st_sv=4.0.0&ns_st_ad=1&ns_st_sq=1&ns_st_id=[impressionId]&ns_st_ec=1&ns_st_cn=1&ns_st_ev=play&ns_st_ct=va00&ns_st_cl=0&ns_st_pt=0&c3=*null&c4=*null&c6=*null&ns_ts=[CACHEBUSTING]"},t.DEFAULT_VIDEO_SIZE_RATIO=16/9,t.MIN_Z_INDEX_VALUE=0,t.MAX_Z_INDEX_VALUE=2147483647,t.FACEBOOK_IA={exitsViewport:"exits_viewport",entersViewport:"enters_viewport",centerExitsViewport:"center_exits_viewport",centerEntersViewport:"center_enters_viewport"},t.INTERNAL_PASSBACK_NO_PASSBACK="teads_internal_passback_no_passback",t.iasConnectionIds=[44476,47237,53517],t.doubleVerifyConnectionIds=[44477,47236,53518],t.comsScoreConnectionIds=[44481,47234,53519],t.HEADER_BIDDING_PROVIDERS=["prebid","debugFormat"],t.HEADER_BIDDING_DEBUG="debugFormat"}(t.Constant||(t.Constant={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){this.error=[],this.click=[],this.pause=[],this.resume=[],this.skip=[],this.creativeView=[],this.start=[],this.firstQuartile=[],this.midpoint=[],this.thirdQuartile=[],this.complete=[],this.impression=[],this.close=[],this.progress=[],this.mute=[],this.unmute=[],this.rewind=[],this.fullscreen=[],this.exitFullscreen=[],this.expand=[],this.collapse=[],this.acceptInvitationLinear=[],this.acceptInvitation=[],this.closeLinear=[],this.noAd=[],this.noLinearAd=[],this.customClicks=[],this.billable=[],this.otherAdInteraction=[]}return t}();t.TrackingDefinition=e;var n=function(){function t(){}return t.error="error",t.click="click",t.pause="pause",t.resume="resume",t.skip="skip",t.creativeView="creativeView",t.start="start",t.firstQuartile="firstQuartile",t.midpoint="midpoint",t.thirdQuartile="thirdQuartile",t.complete="complete",t.impression="impression",t.close="close",t.progress="progress",t.mute="mute",t.unmute="unmute",t.rewind="rewind",t.fullscreen="fullscreen",t.exitFullscreen="exitFullscreen",t.expand="expand",t.collapse="collapse",t.acceptInvitationLinear="acceptInvitationLinear",t.acceptInvitation="acceptInvitation",t.closeLinear="closeLinear",t.noAd="noAd",t.noLinearAd="noLinearAd",t.customClicks="customClicks",t.billable="billable",t.otherAdInteraction="otherAdInteraction",t}();t.TrackingEvent=n}(t.vast||(t.vast={}))}(n||(n={}))},function(t,e,n){n(73)},function(t,e){},function(t,e,n){n(6),n(8),n(43),n(14),n(70),n(49),n(100),n(48),n(44),n(75),n(35);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.status=e.VpaidStatus.READY,t.type=e.CreativeType.JS,t.timeoutId={},t.dispatchedEvents={},t.wigoi=null,t.eventHandler=new e.EventHandler,t}return i(o,n),o.log=function(e){t.ArrayHelper.indexOf(o.hasLogged,e)<0&&(o.logger.info(e),o.hasLogged.push(e))},o.prototype.initAd=function(t,i,o,r,a,s){void 0===a&&(a="");try{e.VPAIDHelper.checkVpaidStatus("initAd",this.status)}catch(t){return this.dispatchEvent(e.VPAIDEvent.AdLog,t)}this.status=e.VpaidStatus.LOADING,this.environmentVars=s,n.prototype.initAd.call(this,t,i,o,r,a,s)},o.prototype.handleAdCallTimeout=function(n){var i=this,o=e.Timeout.initAd-n,r=function(){i.dispatchedEvents[e.VPAIDEvent.AdLoaded]||i.dispatchEvent(e.VPAIDEvent.AdError,{message:"Creative did not initiated after "+e.Timeout.initAd+"ms (current status "+i.status+")",id:t.VastException.GENERAL.id})};if(!this.timeoutId.initAd&&o>0){try{t.player.playerSumologic.sendInfo("timeout adloaded "+o)}catch(t){}this.timeoutId.initAd=setTimeout(r,o)}else o<0&&r()},o.prototype.startAd=function(){var i=this;try{e.VPAIDHelper.checkVpaidStatus("startAd",this.status)}catch(t){return this.dispatchEvent(e.VPAIDEvent.AdLog,t)}this.status=e.VpaidStatus.STARTING,this.timeoutId.startAd=setTimeout(function(){i.dispatchedEvents[e.VPAIDEvent.AdStarted]||i.dispatchEvent(e.VPAIDEvent.AdError,{message:"Creative did not start after "+e.Timeout.startAd+"ms",id:t.VastException.GENERAL.id})},e.Timeout.startAd),n.prototype.startAd.call(this)},o.prototype.stopAd=function(){var t=this;this.status>e.VpaidStatus.STOPPING&&(this.status=e.VpaidStatus.STOPPING,this.clearAllTimeout(),this.timeoutId.stopAd=setTimeout(function(){t.dispatchedEvents[e.VPAIDEvent.AdStopped]||(t.dispatchEvent(e.VPAIDEvent.AdLog,"Creative did not stop after "+e.Timeout.stopAd+"ms, force stop !"),t.dispatchEvent(e.VPAIDEvent.AdStopped))},e.Timeout.stopAd),this.environmentVars&&this.environmentVars.videoSlot&&(this.environmentVars.videoSlot.volume=0),n.prototype.stopAd.call(this))},o.prototype.skipAd=function(){var t=this;if(this.status>e.VpaidStatus.SKIPPING){this.status=e.VpaidStatus.SKIPPING,this.timeoutId.skipAd=setTimeout(function(){t.status>=e.VpaidStatus.SKIPPING&&(t.dispatchEvent(e.VPAIDEvent.AdLog,"Creative did not skip after "+e.Timeout.skipAd+"ms, force skip !"),t.dispatchEvent(e.VPAIDEvent.AdSkipped),t.stopAd())},e.Timeout.skipAd);try{n.prototype.skipAd.call(this)}catch(t){this.dispatchEvent(e.VPAIDEvent.AdLog,"SkipAd throw an exception "+t)}}},o.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},o.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},o.prototype.getAdWidth=function(){var e=this.vpaid.getAdWidth();return String(e).indexOf("%")>-1&&!t.Option.ofNested(this.environmentVars,"slot.offsetWidth").isEmpty()?e=this.environmentVars.slot.offsetWidth:String(e).indexOf("px")&&(e=parseInt(String(e).replace("px",""),10)),e},o.prototype.getAdHeight=function(){var e=this.vpaid.getAdHeight();return(String(e).indexOf("%")>-1||parseInt(String(e),10)<=0)&&!t.Option.ofNested(this.environmentVars,"slot.offsetHeight").isEmpty()?e=this.environmentVars.slot.offsetHeight:String(e).indexOf("px")&&(e=parseInt(String(e).replace("px",""),10)),e},o.prototype.setWigoi=function(t){this.wigoi=t},o.prototype.getTeadsEnvironmentVars=function(){return this.vpaid.getTeadsEnvironmentVars?this.vpaid.getTeadsEnvironmentVars():this.environmentVars},o.prototype.vpaidguard=function(n,i){void 0===i&&(i=[]);try{if(this.status!==e.VpaidStatus.REMOVED)return this.callVPAIDMethod(n,i)}catch(i){switch(n){case"initAd":case"startAd":this.dispatchEvent(e.VPAIDEvent.AdError,{message:"error call "+n+": "+i,id:t.VastException.GENERAL.id});break;default:this.dispatchEvent(e.VPAIDEvent.AdLog,"error call "+n+": "+i)}o.logger.error("vpaidguard -> vpaid creative threw an error for "+n,i)}},o.prototype.dispatchEvent=function(t,n){return this.handleVpaidEvent(new e.VPAIDEvent(t,n))},o.prototype.handleVpaidEvent=function(n){if(this.status!==e.VpaidStatus.REMOVED){var i=[e.VPAIDEvent.AdLoaded,e.VPAIDEvent.AdStarted,e.VPAIDEvent.AdVideoStart,e.VPAIDEvent.AdVideoComplete,e.VPAIDEvent.AdSkipped,e.VPAIDEvent.AdStopped,e.VPAIDEvent.AdError];if(!(t.ArrayHelper.indexOf(i,n.type)>-1&&this.dispatchedEvents[n.type])){if(this.status>e.VpaidStatus.STOPPED)switch(n.type){case e.VPAIDEvent.AdLoaded:this.status=e.VpaidStatus.LOADED,this.clearTimeout("initAd"),o.log("AdLoaded - Response from initAd"),this.wigoi&&this.wigoi.valid(3,2);break;case e.VPAIDEvent.AdStarted:this.status=this.status<e.VpaidStatus.STARTED?e.VpaidStatus.STARTED:this.status,this.clearTimeout("startAd"),o.log("AdStarted - Response from startAd"),this.wigoi&&this.wigoi.valid(3,3);break;case e.VPAIDEvent.AdVideoStart:case e.VPAIDEvent.AdPlaying:this.status=e.VpaidStatus.PLAYING;break;case e.VPAIDEvent.AdPaused:this.status=e.VpaidStatus.PAUSED;break;case e.VPAIDEvent.AdVideoComplete:this.status=e.VpaidStatus.COMPLETE;break;case e.VPAIDEvent.AdSkipped:this.status=e.VpaidStatus.SKIPPED,this.clearAllTimeout();break;case e.VPAIDEvent.AdStopped:this.status=e.VpaidStatus.STOPPED,this.clearAllTimeout();break;case e.VPAIDEvent.AdError:o.logger.info("AdError - ",n.data),this.wigoi&&this.wigoi.valid(3,4,n.data,t.Wigo.infoType.ERROR)}this.dispatchedEvents[n.type]||(this.dispatchedEvents[n.type]=0),this.dispatchedEvents[n.type]++,this.eventHandler.handleEvent(n),n.type===e.VPAIDEvent.AdError&&this.stopAd()}}},o.prototype.clearTimeout=function(t){this.timeoutId[t]&&clearTimeout(this.timeoutId[t])},o.prototype.clearAllTimeout=function(){for(var t in this.timeoutId)this.timeoutId.hasOwnProperty(this.timeoutId[t])&&this.clearTimeout(this.timeoutId[t])},o.logger=new t.Logger("vpaid.BaseVPAIDJSWrapper"),o.hasLogged=[],o}(e.VPAIDJSGuard);e.BaseVPAIDJSWrapper=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e,n,i){if(void 0===i&&(i=!0),this.key=e,this.value=n,this.multiple=i,this.logger=new t.Logger("tracker.Metadata"),!e)throw new Error("Metadata key is mandatory")}return e.prototype.isMultiple=function(){return this.multiple},e.prototype.getKey=function(){return this.key},e.prototype.getValue=function(){var t=this.value;if("function"==typeof t)try{return String(t()||"")}catch(t){return this.logger.warn("getValue: error while trying to execute value function:",t),""}return String(t||"")},e.prototype.getUrlPiece=function(){return encodeURIComponent(this.getKey())+"="+encodeURIComponent(this.getValue())},e}();e.Metadata=n}(t.tracker||(t.tracker={}))}(n||(n={}))},function(t,e,n){n(72);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.format=[{name:"placementCall"},{name:"passback-integration"},{name:"passback-noAd"},{name:"noSlot-dom"},{name:"noSlot-selector"},{name:"hbNoSlot-selector"},{name:"noSlot-filter"},{name:"noSlot-avoid"},{name:"noSlot-size"},{name:"noSlot-BTF"},{name:"noSlot-minimum"},{name:"noSlot-minimumBelow"},{name:"noSlot-content"},{name:"noSlot-position"},{name:"incompatibility-browser"},{name:"incompatibility-context"},{name:"incompatibility-format"},{name:"incompatibility-video"},{name:"placementCapping"},{name:"slotAvailable"},{name:"hbSlotAvailable"},{name:"adNotAvailable-networkError"},{name:"adNotAvailable-serverError"},{name:"adAvailable-error-parseTimeout"},{name:"adAvailable-error-badResponse"},{name:"adAvailable-error-vast-100"},{name:"adAvailable-error-vast-101"},{name:"adAvailable-error-vast-102"},{name:"adAvailable-error-vast-200"},{name:"adAvailable-error-vast-201"},{name:"adAvailable-error-vast-202"},{name:"adAvailable-error-vast-203"},{name:"adAvailable-error-vast-300"},{name:"adAvailable-error-vast-301"},{name:"adAvailable-error-vast-302"},{name:"adAvailable-error-vast-303"},{name:"adAvailable-error-vast-304"},{name:"adAvailable-error-vast-400"},{name:"adAvailable-error-vast-401"},{name:"adAvailable-error-vast-402"},{name:"adAvailable-error-vast-403"},{name:"adAvailable-error-vast-405"},{name:"adAvailable-error-vast-500"},{name:"adAvailable-error-vast-501"},{name:"adAvailable-error-vast-502"},{name:"adAvailable-error-vast-503"},{name:"adAvailable-error-vast-600"},{name:"adAvailable-error-vast-601"},{name:"adAvailable-error-vast-602"},{name:"adAvailable-error-vast-603"},{name:"adAvailable-error-vast-604"},{name:"adAvailable-error-vast-900"},{name:"adAvailable-error-vast-901"},{name:"adAvailable-error-settings"},{name:"adAvailable-error-emptyArray"},{name:"adAvailable-error-sameAd"},{name:"adAvailable-success"},{name:"adCall"},{name:"noAd-serverError"},{name:"noAd-networkError"},{name:"noAd-notFilled"},{name:"noAd-vastError-100"},{name:"noAd-vastError-101"},{name:"noAd-vastError-102"},{name:"noAd-vastError-200"},{name:"noAd-vastError-201"},{name:"noAd-vastError-202"},{name:"noAd-vastError-203"},{name:"noAd-vastError-300"},{name:"noAd-vastError-301"},{name:"noAd-vastError-302"},{name:"noAd-vastError-303"},{name:"noAd-vastError-304"},{name:"noAd-vastError-400"},{name:"noAd-vastError-401"},{name:"noAd-vastError-402"},{name:"noAd-vastError-403"},{name:"noAd-vastError-405"},{name:"noAd-vastError-500"},{name:"noAd-vastError-501"},{name:"noAd-vastError-502"},{name:"noAd-vastError-503"},{name:"noAd-vastError-600"},{name:"noAd-vastError-601"},{name:"noAd-vastError-602"},{name:"noAd-vastError-603"},{name:"noAd-vastError-604"},{name:"noAd-vastError-900"},{name:"noAd-vastError-901"},{name:"noAd-parseTimeout"},{name:"noAd-settingsError"},{name:"noAd-badResponse"},{name:"noAd-sameAd"},{name:"noAd-ivt-doubleVerify"},{name:"noAd-ivt-tag"},{name:"noAd-blockedSite-doubleVerify"},{name:"ad"},{name:"click-replay"}],t.vast=[{name:"error"},{name:"fullscreen",multiple:!0},{name:"exitFullscreen",multiple:!0},{name:"click",multiple:!0},{name:"creativeView"},{name:"impression"},{name:"start"},{name:"firstQuartile"},{name:"midpoint"},{name:"thirdQuartile"},{name:"complete"},{name:"pause",before:["start"],multiple:!0},{name:"resume",before:["pause"],multiple:!0},{name:"mute",multiple:!0},{name:"unmute",multiple:!0},{name:"expand",multiple:!0},{name:"collapse",multiple:!0},{name:"rewind",multiple:!0},{name:"skip"},{name:"close"},{name:"progress",multiple:!0},{name:"acceptInvitationLinear"},{name:"acceptInvitation"},{name:"closeLinear"},{name:"noAd"},{name:"noLinearAd"},{name:"customClicks",multiple:!0},{name:"billable"},{name:"otherAdInteraction",multiple:!0}],t}();t.Config=e}(t.tracker||(t.tracker={}))}(i||(i={}))},function(t,e,n){n(85),n(90),n(88),n(73);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function e(){this.version=2,this.tracking=new t.TrackingDefinition,this.clickThrough=[],this.mediaFiles=[],this.title="",this.wrappers=[],this.skippable=!1,this.skipDelay=0,this.extensions=[]}return e.prototype.merge=function(t){t.version&&this.version<t.version&&(this.version=t.version),!this.url&&t.url&&(this.url=t.url),!this.title&&t.title&&(this.title=t.title),!this.adSystem&&t.adSystem&&(this.adSystem=t.adSystem),!this.id&&t.id&&(this.id=t.id),!this.creativeId&&t.creativeId&&(this.creativeId=t.creativeId),!this.duration&&t.duration&&(this.duration=t.duration),!this.adParameters&&t.adParameters&&(this.adParameters=t.adParameters),t.adTagUri&&this.wrappers.push(t.adTagUri);var e,n;for(var i in t.tracking)for(e=0,n=t.tracking[i].length;e<n;e++)this.tracking[i].push(t.tracking[i][e]);for(e=0,n=t.mediaFiles.length;e<n;e++)this.mediaFiles.push(t.mediaFiles[e]);for(e=0,n=t.clickThrough.length;e<n;e++)this.clickThrough.push(t.clickThrough[e]);for(e=0,n=t.extensions.length;e<n;e++)this.extensions.push(t.extensions[e]);!this.skippable&&t.skippable&&(this.skippable=!0,this.skipDelay=t.skipDelay)},e}();t.LinearAd=e}(t.vast||(t.vast={}))}(i||(i={}))},function(t,e,n){n(72),n(94),n(95),n(109),n(28),n(13);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(n,i){var o=this;this.logger=new t.Logger("tracker.Tracker"),this.trackings={},this.metadatas=[],this.errors=[],this.errorUrls=[],this.sumoTracker=new t.Sumologic,this.trackedEvents={},this.alreadyBilledAdvertiser={whenAnalyticsOnlyEqualsFalse:!1,whenAnalyticsOnlyEqualsTrue:!1},this.wigoi=null,this.sumoTracker.init(t.Sumologic.CONFIGS.PLAYER,i),n.match({some:function(t){return o.setTrackings(t)},none:function(){return o.setTrackings(e.Config.vast)}}),this.logger.debug("new",this)}return n.prototype.setTrackings=function(e){if(!(e instanceof Array))return void this.logger.error("setTrackings param error, expected array.",e);t.ArrayHelper.forEach(e,function(t){this.setTracking(t)},this)},n.prototype.setTracking=function(t){if(!t.name)return void this.logger.error("Name of tracking is needed",t);this.trackings[t.name]=new e.Tracking(t.name,t.before,t.after,t.multiple,t.metadata,t.resources)},n.prototype.getTracking=function(t){return this.trackings[t]},n.prototype.addResource=function(e,n,i){if(n&&!t.StringHelper.isURL(n)&&this.sumoTracker.sendInfo(["invalid-tracking",n].join(";")),"progress"===e&&!i)return this.logger.error('Adding a "progress" tracking requires an associated offset',n),!1;if(!n||n.trim&&!n.trim())return this.logger.error("Adding a tracking requires an url not empty",n),!1;var o=this.getTracking(e);if(o){var r=o.getAllResources();if(r.length){var a=!1;if(t.ArrayHelper.forEach(r,function(t){a||(a=n===t.url)}),a)return this.logger.warn("URL already exists"),!1}return o.addResource(n,i),!0}return this.logger.error("This event ("+e+") does not exist in config"),!1},n.prototype.isTrackable=function(e){var n=this.getTracking(e);if(!n)return this.trackError(e,"This event ("+e+") does not exist in config"),!1;if(!n.isTrackable())return!1;if(!n.hasResources())return!0;if(n){var i=!0,o=!0,r=n.getBefore(),a=n.getAfter();return r.length&&((i=t.ArrayHelper.some(r,function(t){var e=this.getTracking(t),n=e&&!e.isTrackable();return e&&e.isTracked()||n||!e},this))||this.trackError(e,"Previous event ["+n.getBefore().join(",")+"] was not tracked")),a.length&&((o=t.ArrayHelper.some(a,function(t){var e=this.getTracking(t),n=e&&e.isTrackable();return e&&!e.isTracked()||n||!e},this))||this.trackError(e,"Next event ["+n.getAfter().join(",")+"] are already tracked")),i&&o}},n.prototype.track=function(e,n,i,o){var r=this;void 0===n&&(n={});var a=this.getTracking(e);if(!this.isTrackable(e))return this.logger.warn("This event ("+e+") is not trackable"),!1;if("progress"===e&&(null===i||isNaN(i)))return this.trackError(e,"This event ("+e+") needs the current progress time (in seconds)"),!1;var s=a.getResources(i);return t.ArrayHelper.forEach(s,function(t){var s=t.url;a&&a.isMetadata()&&(s=r.processMetadata(s));for(var c in n)n.hasOwnProperty(c)&&(s=s.replace(c,n[c]));s=r.removeBillableParamsDuplicates(s,n,i,o),r.triggerUrl(s),t.fired=!0,r.logger.debug("track ["+e+(i?"@"+i.toFixed(2)+"s":"")+"]: ",s),a.addTracked(s,i),r.callback(e,!0)},this),a.setTracked(),this.trackedEvents[e]=this.trackedEvents[e]||0,this.trackedEvents[e]++,this.wigoi&&this.wigoi.vastEvent(e,i?i.toFixed(2)||i.toString():"undefined",o?100*Math.floor(i)/Math.floor(o):0,s),!0},n.prototype.triggerUrl=function(t){(new Image).src=t},n.prototype.getTrackedCount=function(t){return this.trackedEvents[t]||0},n.prototype.setMetadata=function(t,n,i){if(void 0===i&&(i=!0),"string"!=typeof t||!t)return this.logger.warn("setMetadata: key is mandatory (string).",t),!1;if("string"!=typeof n&&"function"!=typeof n)return this.logger.warn("setMetadata: value: String or Function expected.",n),!1;if("boolean"!=typeof i)return this.logger.warn("setMetadata: multiple: Boolean expected.",i),!1;var o=new e.Metadata(t,n,i);return!!o&&(this.metadatas.push(o),!0)},n.prototype.processMetadata=function(t){for(var e,n,i=this.metadatas.length-1;i>=0;i--)e=this.metadatas[i],n=e.getKey(),"[STUDIO_CID]"===n&&(t=this.updateUrlForStudio(t,e)),0===n.indexOf("[")?t=t.replace(n,e.getValue()):t+=(t.indexOf("?")>=0?"&":"?")+e.getUrlPiece(),e.isMultiple()||this.metadatas.splice(i,1);return t},n.prototype.getTrackingsInfo=function(){var e,n={};for(var i in this.trackings)if(this.trackings.hasOwnProperty(i)){e=this.trackings[i];var o=e.getTracked();t.ArrayHelper.forEach(o,function(t,i){var o=new Date(t.time);n[e.getName()+"-"+i]={event:e.getName(),url:t.url,time:o.toTimeString().substr(0,8)+"."+o.getMilliseconds()}})}this.logger.table(n),this.logger.table(this.errors)},n.prototype.trackError=function(e,n){this.logger.warn("Track errors:",e,n),this.callback(e,"false");var i=new Date;this.errors.push({event:e,message:n,time:i.getHours()+":"+i.getMinutes()+":"+i.getSeconds()+"."+i.getMilliseconds()}),t.ArrayHelper.forEach(this.errorUrls,function(t){t+="&event="+encodeURIComponent(e),t+="&message="+encodeURIComponent(n),(new Image).src=t})},n.prototype.callback=function(t,e){if("function"==typeof this.handler)try{this.handler(t,e)}catch(e){this.logger.error("Callback error ("+t+"):",e)}},n.prototype.setCallback=function(t){"function"==typeof t&&(this.handler=t)},n.prototype.setWigoi=function(t){this.wigoi=t},n.prototype.updateUrlForStudio=function(t,e){return-1===t.indexOf("studio_cid")&&-1!==t.indexOf("t.teads.tv")&&(t+=(t.indexOf("?")>=0?"&":"?")+"studio_cid="+e.getKey()),t},n.prototype.removeBillableParamsDuplicates=function(e,n,i,o){var r=this;void 0===n&&(n={});var a=t.URIHelper.parse(e);if(t.URIHelper.isInternalUrl(e)&&(e.indexOf("?revenue=")>-1||e.indexOf("&revenue=")>-1)&&(e.indexOf("?gid=")>-1||e.indexOf("&gid=")>-1))if(e.indexOf("analyticsOnly=false")>-1&&this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsFalse||e.indexOf("analyticsOnly=true")>-1&&this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsTrue)try{var s=t.URIHelper.parseQueryString(a.search),c=["revenue","revenue_curr","srevenue","srevenue_curr"];s.cost||c.push("analyticsOnly"),t.ArrayHelper.forEach(c,function(t){if(s.hasOwnProperty(t)){var n=t+"="+s[t];e=e.replace("?"+n+"&","?"),e=e.replace("&"+n,""),e=e.replace("?"+n,"?"),(e.indexOf("?"+t+"=")>-1||e.indexOf("&"+t+"=")>-1)&&r.sumoTracker.sendWarning(["billable not-removed "+t,e].join(";"))}})}catch(t){this.sumoTracker.sendWarning(["billable error-removing-duplicates",e,t].join(";"))}else e.indexOf("analyticsOnly=false")>-1?this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsFalse=!0:e.indexOf("analyticsOnly=true")>-1&&(this.alreadyBilledAdvertiser.whenAnalyticsOnlyEqualsTrue=!0),this.track("billable",n,i,o);return e},n}();e.Tracker=n}(t.tracker||(t.tracker={}))}(i||(i={}))},function(t,e,n){n(108);var i=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.CANVAS=0]="CANVAS",t[t.HTML5=1]="HTML5",t[t.ANY=2]="ANY"}(t.PLAYER_TYPE||(t.PLAYER_TYPE={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e){},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.SWF=1]="SWF",t[t.JS=2]="JS",t[t.POSTMESSAGE=3]="POSTMESSAGE"}(t.CreativeType||(t.CreativeType={}))}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(6),n(70),n(31),n(27);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(t,e,n){void 0===n&&(n="*"),this.currentWindow=t,this.targetWindow=e,this.domain=n}return n.prototype.setClientCallback=function(t){var e=this;this.setCallback(function(n){var i=e.parseEvent(n);t(i)})},n.prototype.setServerCallback=function(t){var e=this;this.setCallback(function(n){t(e.parse(n))})},n.prototype.removeCallback=function(){this.currentWindow.removeEventListener("message",this.callback,!1)},n.prototype.dispatchEvent=function(t,e){this.post(this.targetWindow,this.stringify(t,e))},n.prototype.callMethod=function(t,e){this.post(this.targetWindow,this.stringify(t,e))},n.prototype.parseEvent=function(t){var n=this.parse(t);return new e.VPAIDEvent(n.name,n.data)},n.prototype.post=function(t,e){t.postMessage(e,this.domain)},n.prototype.stringify=function(e,i){return e+n.splitChar+(void 0!==i?t.Base64.encode(t.JSON.stringify(i)):"")},n.prototype.parse=function(e){var i,o=e.data.split(n.splitChar),r=o[0];return o[1]&&(i=t.JSON.parse(t.Base64.decode(o[1]))),{name:r,data:i}},n.prototype.setCallback=function(t){var e=this;this.callback=function(n){n.source===e.targetWindow&&"string"==typeof n.data&&t(n)},this.currentWindow.addEventListener("message",this.callback,!1)},n.splitChar="_",n}();e.PostMessage=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=t.Utils.getProtocol(),n=function(){function n(t){void 0===t&&(t={}),this.basePathUrl=e+"//cdn.teads.tv/media/format/v3",this.assetsUrl=this.basePathUrl+"/assets",this.richAdServerUrl=e+"//a.teads.tv/page/{id}/ad",this.buyingEngineUrl=e+"//be-ss.teads.tv/get",this.trackingUrl=e+"//t.teads.tv/track",this.userSyncUrl=e+"//sync.teads.tv/iframe",this.isSumologicLogsEnabled=!0,this.isRichAdServerRequestEnabled=!0,this.isIasBypassEnabled=!0,this.richAdServerRequestTimeout=5e3,this.timestampMacroNames=["[RANDOM]","[RANDOMNUM]","[TIMESTAMP]","[CACHE_BREAKER]","[CACHEBREAKER]","[CACHEBUSTING]","[CACHE_BUSTING]","[CACHEBUSTER]","[CACHE_BUSTER]"],this.refresh(t)}return n.prototype.refresh=function(e){var n=this;void 0===e&&(e={}),t.Option.of(e.ASSETS_URL).forEach(function(t){n.basePathUrl=t,n.assetsUrl=t+"/assets"}),t.Option.of(e.RAS_URL).forEach(function(t){return n.richAdServerUrl=t}),t.Option.of(e.BE_URL).forEach(function(t){return n.buyingEngineUrl=t}),t.Option.of(e.TRACKING_URL).forEach(function(t){return n.trackingUrl=t}),t.Option.of(e.USER_SYNC_URL).forEach(function(t){return n.userSyncUrl=t}),t.Option.of(e.SUMOLOGIC_ENABLED).forEach(function(t){return n.isSumologicLogsEnabled=t}),t.Option.of(e.WITH_RAS_REQUEST).forEach(function(t){return n.isRichAdServerRequestEnabled=t}),t.Option.of(e.WITH_IAS_BYPASS).forEach(function(t){return n.isIasBypassEnabled=t})},n}();t.Config=n,t.config=new n(window.teads)}(n||(n={}))},function(t,e,n){n(108),n(80),n(104),n(107),n(159),n(121),n(93),n(76);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(i,o,r){var a=n.call(this)||this;if(a.mainContainer=i,a.config=r,a.isFullscreen=!1,a.components=[],a.componentsByName={},a.logger=new t.Logger("ui.VPAIDUI"),a.initAdStartTime=0,a.logger.debug("Init Layout",i,r),a.config.container){a.container=a.config.container;var s=a.mainContainer.firstElementChild;s&&s.id===e.mainComponentsContainerId&&a.mainContainer.removeChild(s)}else a.container=t.HTMLHelper.createIframe(),a.container.style.width="1px",a.container.style.height="1px";return a.container.parentNode||a.mainContainer.appendChild(a.container),a.container.contentWindow.document.write(o),a.container.contentWindow.document.close(),a.mainComponentsContainer=a.container.contentWindow.document.getElementById(e.mainComponentsContainerId),(t.Context.isAmp()||t.Context.isIABSafeFrame())&&(a.mainContainer.appendChild(a.mainComponentsContainer),a.mainContainer.removeChild(a.container)),a.videoComponentsContainer=a.mainComponentsContainer.ownerDocument.getElementById(e.videoComponentsContainerId),a}return i(o,n),o.prototype.initAd=function(e,i,o,r,a,s){return void 0===a&&(a=""),void 0===s&&(s={}),this.vpaid?(this.resize(e,i,o),this.config.vpaidUrl&&Math.random()<.1&&(t.vpaid.Timeout.initAd=12e4,this.initAdStartTime=Date.now()),this.logger.debug("initAd"),n.prototype.initAd.call(this,e,i,o,r,a,s)):void this.logger.error("You must register vpaid creative to be wrapped using setVPAID() method")},o.prototype.startAd=function(){return this.status<t.vpaid.VpaidStatus.LOADED?void this.dispatchEvent(t.vpaid.VPAIDEvent.AdLog,"VPAID not started, use initAd(), and wait for AdLoaded event before call startAd() method"):this.status>=t.vpaid.VpaidStatus.STARTING?void this.dispatchEvent(t.vpaid.VPAIDEvent.AdLog,"cannot call startAd() twice, already started"):(this.render(this.getVPAID()),this.logger.debug("startAd"),void n.prototype.startAd.call(this))},o.prototype.resizeAd=function(t,e,i){void 0===i&&(i="normal"),t<=0||e<=0||(this.resize(t,e,i),n.prototype.resizeAd.call(this,t,e,i))},o.prototype.stopAd=function(){var e=this,i=function(){t.Timer.setTimeout(function(){e.container.parentNode&&e.container.parentNode.removeChild(e.container)},2e3),e.dispatchedEvents[t.vpaid.VPAIDEvent.AdStopped]||e.dispatchEvent(t.vpaid.VPAIDEvent.AdStopped)};this.isStopped?(this.logger.debug("Wrapped vpaid already stopped, remove UI"),i()):(this.logger.debug("Wrapped vpaid not stopped, try to stop it"),this.vpaid.subscribe(i,t.vpaid.VPAIDEvent.AdStopped),n.prototype.stopAd.call(this))},o.prototype.pauseAd=function(){this.callVPAIDMethod("pauseAd")},o.prototype.resumeAd=function(){this.callVPAIDMethod("resumeAd")},o.prototype.getAdWidth=function(){return this.isRendered&&!this.isStopped&&n.prototype.getAdWidth.call(this)?n.prototype.getAdWidth.call(this):t.Dom.getBoundingClientRect(this.getMainComponentsContainer()).width},o.prototype.getAdHeight=function(){return this.isRendered&&!this.isStopped&&n.prototype.getAdHeight.call(this)?n.prototype.getAdHeight.call(this):t.Dom.getBoundingClientRect(this.getMainComponentsContainer()).height},o.prototype.setAdVolume=function(t){return isNaN(t)?(this.logger.warn("setAdVolume: volume argument is NaN"),this.getAdVolume()):n.prototype.setAdVolume.call(this,t)},o.prototype.getAdExpanded=function(){return this.isFullscreen},o.prototype.setVPAID=function(i){var o=this;if(this.vpaid)return void this.logger.warn("setVPAID() : vpaid ad already register, can't use twice");this.logger.debug("setVPAID() : Register vpaid ad"),n.prototype.setVPAID.call(this,i),i.subscribe(function(){o.isStopped=!0},t.vpaid.VPAIDEvent.AdStopped);var r=function(t){0===e.ComponentHelper.getOverridenEventComponents(o.components,t.type).length&&o.handleVpaidEvent(t)};for(var a in t.vpaid.VPAIDEvent)if(t.vpaid.VPAIDEvent.hasOwnProperty(a)){var s=t.vpaid.VPAIDEvent[a];i.subscribe(t.vpaid.VPAIDHelper.createVPAIDEventCallback(r,s),s)}for(var a in t.vpaid.CustomVPAIDEvent)if(t.vpaid.CustomVPAIDEvent.hasOwnProperty(a)){var s=t.vpaid.CustomVPAIDEvent[a];i.subscribe(t.vpaid.VPAIDHelper.createVPAIDEventCallback(r,s),s)}},o.prototype.getVPAID=function(){return this.vpaid},o.prototype.getVPAIDContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(e.vpaidContainerId)},o.prototype.getMainContainer=function(){return this.mainContainer},o.prototype.getMainComponentsContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(e.mainComponentsContainerId)},o.prototype.getCreativeContainer=function(){return this.getVPAID().container.getCreativeContainer()},o.prototype.getVideoComponentsContainer=function(){return this.mainComponentsContainer.ownerDocument.getElementById(e.videoComponentsContainerId)},o.prototype.getComponent=function(t){return this.componentsByName[t]},o.prototype.getConfig=function(){return this.config},o.prototype.getContainer=function(){return this.container},o.prototype.getContentWindow=function(){return this.getContainer().contentWindow},o.prototype.render=function(n){var i=this;if(!this.isRendered){this.isRendered=!0,this.show(),this.resize(n.getAdWidth(),n.getAdHeight());var o=function(t){i.handleVpaidEvent(t)};this.logger.debug("init components:",this.config.components);for(var r in e.components)if(e.components.hasOwnProperty(r)&&e.components[r])for(var a=e.componentBaseClassName+r,s=t.Dom.getElementsByClassName(a,this.getMainComponentsContainer(),this.getContentWindow()),c=0,d=s.length;c<d;c++)if(this.config.components&&this.config.components[r]&&this.config.components[r].disable||this.config.disableAllComponents&&!1!==this.config.components[r].disable){var l=s[c];l&&l.parentNode.removeChild(l),this.logger.debug("disable component "+r)}else{var p=new e.components[r](this,s[c],n,this.config.components&&this.config.components[r]?this.config.components[r]:{},o);this.components.push(p),this.componentsByName[r]=p;try{p.init(),this.logger.debug("init component "+r,this.config.components&&this.config.components[r]?this.config.components[r]:null)}catch(t){this.logger.error('error init component "'+r+'"',t.toString())}}}},o.prototype.showAllComponents=function(){e.ComponentHelper.showHideAllComponents(this.components,!0)},o.prototype.hideAllComponents=function(){e.ComponentHelper.showHideAllComponents(this.components,!1)},o.prototype.showComponent=function(t){e.ComponentHelper.showHideComponent(this.componentsByName,t,!0)},o.prototype.hideComponent=function(t){e.ComponentHelper.showHideComponent(this.componentsByName,t,!1)},o.prototype.dispatchCustomEvent=function(t,e){this.dispatchEvent(t,e)},o.prototype.getProperties=function(){return{adLinear:this.getAdLinear(),adWidth:this.getAdWidth(),adHeight:this.getAdHeight(),adExpanded:this.getAdExpanded(),adSkippableState:this.getAdSkippableState(),adRemainingTime:this.getAdRemainingTime(),adDuration:this.getAdDuration(),adVolume:this.getAdVolume()}},o.prototype.toJSON=function(){return t.JSON.stringify(this.getProperties())},o.prototype.handleVpaidEvent=function(e){switch(e.type){case t.vpaid.VPAIDEvent.AdSizeChange:this.getAdWidth()&&this.getAdHeight()&&this.isStopped&&(this.logger.debug("resize with AdSizeChange event"),this.resize(this.getAdWidth(),this.getAdHeight(),this.isFullscreen?"fullscreen":"normal"));break;case t.vpaid.VPAIDEvent.AdLoaded:if(this.initAdStartTime>0)try{var i=t.URIHelper.parse(this.config.vpaidUrl).hostname,o=Date.now()-this.initAdStartTime,r=t.Timing.getTimingByRegex(/t.teads.tv\/track\?action=adCall/),a=0;r&&(a=Math.round(r.startTime)),this.logger.info("initAd response time",o,i,a)}catch(t){}}n.prototype.handleVpaidEvent.call(this,e)},o.prototype.callVPAIDMethod=function(i,o){void 0===o&&(o=[]),t.ArrayHelper.forEach(this.components,function(t){t.onMethod(i,o)});var r=e.ComponentHelper.getOverridenMethodComponents(this.components,i);if(0===r.length)return n.prototype.callVPAIDMethod.call(this,i,o);var a;return r.forEach(function(t){a=t.onOverridenMethod(i,o)}),a},o.prototype.resize=function(e,n,i){var o=this;if(void 0===i&&(i="normal"),!(e<=0||n<=0)){var r=e+"px",a=n+"px";this.getVideoComponentsContainer().style.width===r&&this.getVideoComponentsContainer().style.height===a&&this.container.style.width===r&&this.container.style.height===a||(this.getVideoComponentsContainer().style.width=r,this.getVideoComponentsContainer().style.height=a,this.container.style.setProperty("width",r,"important"),this.container.style.setProperty("height",a,"important"),this.container.style.setProperty("max-height",a,"important"),this.logger.debug("vpaidui resize",e,n,i),!this.isFullscreen&&"fullscreen"===i||this.isFullscreen&&"normal"===i?(this.isFullscreen="fullscreen"===i,this.dispatchEvent(t.vpaid.VPAIDEvent.AdExpandedChange)):this.logger.debug("no fullscreen exit or enter"));var s=this.getVPAIDContainer();s.style.width=r,s.style.height=a;var c="l-screen";e<=480?c="xs-screen":e<=640&&(c="sm-screen"),t.ArrayHelper.forEach(["l-screen","xs-screen","sm-screen"],function(e){e!==c&&t.HTMLHelper.removeClass(o.mainComponentsContainer,e)}),t.HTMLHelper.addClass(this.mainComponentsContainer,c)}},o.prototype.show=function(){this.container.style.display="block"},o.prototype.hide=function(){this.container.style.display="none"},o}(t.vpaid.BaseVPAIDJSWrapper);e.VPAIDUI=n}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(139),n(142),n(143),n(144),n(145),n(146),n(148),n(149),n(150),n(106),n(152),n(153),n(154),n(105),n(155),n(157),n(81),n(158);var i=window.teads=window.teads||{};!function(t){!function(t){t.components={fullscreenbutton:t.component.FullscreenButton,mutebutton:t.component.MuteButton,progressbar:t.component.ProgressBar,playpausebutton:t.component.PlayPauseButton,progresstext:t.component.ProgressText,skipbutton:t.component.SkipButton,closebutton:t.component.CloseButton,uibutton:t.component.UIButton,textfield:t.component.TextField,clicktoplay:t.component.ClickToPlay,clickbutton:t.component.ClickButton,soundbutton:t.component.SoundButton,label:t.component.Label,credits:t.component.Credits,endscreen:t.component.EndScreen,brandlogo:t.component.BrandLogo,countdown:t.component.Countdown,startscreen:t.component.StartScreen},t.componentBaseClassName="teads-ui-component-",t.vpaidContainerId="vpaid-container",t.mainComponentsContainerId="main-container",t.videoComponentsContainerId="layout-video-component"}(t.ui||(t.ui={}))}(i||(i={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(n){var o=function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.lastVolume=1,t}return i(o,n),o.prototype.init=function(){var i=this;this.isMuted=e.VPAIDHelper.isMuted(this.vpaid),this.eventName=t.vpaid.ui.VPAIDUIEvent.SoundToggleRequest,this.vpaid.subscribe(function(){i.isMuted=e.VPAIDHelper.isMuted(i.vpaid),i.onMuteChange()},t.vpaid.VPAIDEvent.AdStarted),this.vpaid.subscribe(function(){i.isMuted=e.VPAIDHelper.isMuted(i.vpaid)},t.vpaid.VPAIDEvent.AdVideoStart),this.vpaid.subscribe(function(){i.hide()},t.vpaid.VPAIDEvent.AdStopped),this.ui.subscribe(function(){i.hide()},t.vpaid.ui.VPAIDUIEvent.EndscreenInit),this.vpaid.subscribe(function(){(!i.isMuted&&e.VPAIDHelper.isMuted(i.vpaid)||i.isMuted&&!e.VPAIDHelper.isMuted(i.vpaid))&&(i.lastVolume=e.VPAIDHelper.isMuted(i.vpaid)?i.lastVolume:i.vpaid.getAdVolume(),i.isMuted=e.VPAIDHelper.isMuted(i.vpaid),i.onMuteChange())},t.vpaid.VPAIDEvent.AdVolumeChange),this.onMuteChange(),n.prototype.init.call(this)},o.prototype.onMuteChange=function(){t.HTMLHelper[e.VPAIDHelper.isMuted(this.vpaid)?"addClass":"removeClass"](this.getElement(),"muted")},o.prototype.setAdVolume=function(){this.vpaid.setAdVolume(this.isMuted?this.lastVolume:0)},o.prototype.onClick=function(t){n.prototype.onClick.call(this,t),this.setAdVolume(),this.isMuted=!this.isMuted,this.onMuteChange()},o}(n.Component);n.MuteButton=o}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9),n(82),n(107),n(151),n(79);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(n){var o=function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.placeholders=["currentTime","totalTime","remainingTime","countdown"],t}return i(o,n),o.prototype.init=function(){this.setText(this.config.text)},o.prototype.setText=function(e){var n=this;this.renderText(e),this.havePlaceholder(e)&&!this.haveProgressCallback&&(this.haveProgressCallback=!0,this.vpaid.subscribe(function(){n.renderText(e)},t.vpaid.VPAIDEvent.AdRemainingTimeChange))},o.prototype.renderText=function(t){this.textNode&&this.getElement().removeChild(this.textNode),this.textNode=document.createElement("span"),this.textNode.innerHTML=this.havePlaceholder(t)?this.replacePlaceholders(t):t,this.getElement().appendChild(this.textNode)},o.prototype.replacePlaceholders=function(t){var n=this,i={};return this.placeholders.forEach(function(t){i[t]=n.getPlaceholderValue(t)}),e.TemplateHelper.replacePlaceholders(t,i)},o.prototype.havePlaceholder=function(t){var e=new RegExp("({{"+this.placeholders.join("}}|{{")+"}})","g");return!!t.match(e)},o.prototype.getPlaceholderValue=function(t){var n=e.VPAIDHelper.getCurrentTime(this.vpaid);n=n<0||isNaN(n)?0:Math.floor(n);var i=Math.floor(this.vpaid.getAdRemainingTime());switch(t){case"currentTime":return e.StringHelper.secondToTimecode(n);case"totalTime":return e.StringHelper.secondToTimecode(Math.floor(this.vpaid.getAdDuration()));case"remainingTime":return e.StringHelper.secondToTimecode(i);case"countdown":return String(this.config.countdown-n)}},o}(n.Component);n.TextField=o}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.replacePlaceholders=function(t,e){if(e)for(var n in e)t=t.replace(new RegExp(this.placeholderStartSymbol+n+this.placeholderEndSymbol,"g"),e[n]);return t},e.getPlaceholders=function(e){var n=/\{\{([^\}]*)\}\}/g,i=/\{\{|\}\}/g,o=e.match(n);if(o){var r=t.ArrayHelper.map(o,function(t){return t.replace(i,"")});return t.ArrayHelper.unique(r)}return[]},e.placeholderStartSymbol="{{",e.placeholderEndSymbol="}}",e}();e.TemplateHelper=n}(t.ui||(t.ui={}))}(n||(n={}))},function(t,e,n){n(79)},function(t,e,n){n(72),n(94),n(95)},function(t,e,n){n(166),n(169),n(170),n(171),n(172),n(47),n(50),n(173),n(74),n(111);var i=window.teads=window.teads||{};!function(t){!function(e){function n(){var n=this;this.logger=new t.Logger("HTMLVideoCanvas"),this._mainContainer=document.createElement("div"),this._mainContainer.style.backgroundColor="black",this._mainContainer.style.position="relative",this._mainContainer.style.width="100%",this._mainContainer.style.height="100%",this._mainContainer.style.zIndex=1,this.appendChild(this._mainContainer),this._videoContainer=document.createElement("div"),this._videoContainer.style.position="absolute",this._videoContainer.style.top=0,this._videoContainer.style.left=0,this._videoContainer.style.zIndex=2,this._videoContainer.style.width="100%",this._videoContainer.style.height="100%",this._mainContainer.appendChild(this._videoContainer),this.canvasPlayer=new t.canvas.player.CanvasPlayer(this._videoContainer,1,1,{type:"CANVAS"}),this.mediaProxy=new e.MediaProxy,this.mediaProxy.listen(e.constant.MediaProxyEvent.READY,function(){n.logger.debug("MediaProxy return video url",n.mediaProxy.getVideoUrl()),n.canvasPlayer.src=n.mediaProxy.getVideoUrl(),n.autoplay&&n.canvasPlayer.play(),n.volume=n._volume}),this.mediaProxy.listen(e.constant.MediaProxyEvent.ERROR,function(){n.logger.debug("MediaProxy didn't return video url"),n._error={code:e.constant.MediaError.MEDIA_ERR_NETWORK},n.canvasPlayer.dispatch(e.dom.MediaEvent.error)}),this.canvasPlayer.canvas.style.position="absolute",this.canvasPlayer.canvas.style.maxHeight="none",this.canvasPlayer.canvas.style.maxWidth="none",this.canvasPlayer.canvas.style.top="0",this.canvasPlayer.canvas.style.left="0",e.dom.VideoWrapper.call(this,this.canvasPlayer),this.listeners={};var i=function(t){if(n.listeners[t.type]&&n.listeners[t.type].length){for(var e=0,o=n.listeners[t.type].length;e<o;e++)try{n.listeners[t.type][e].call(n,t)}catch(t){}"loadedmetadata"===t.type&&i(new CustomEvent("durationchange")),"playing"!==t.type||n.attachedCallbackCalled||n.attachedCallback()}};for(var o in e.dom.MediaEvent){var r=e.dom.MediaEvent[o];this.canvasPlayer.addEventListener(r,function(t){return function(t){i(t)}}())}this.canvasPlayer.addEventListener(e.dom.MediaEvent.loadedmetadata,function(t){n._handleResize()}),this.canvasPlayer.addEventListener(e.dom.MediaEvent.durationchange,function(t){void 0!==n._volume&&(n.canvasPlayer.volume=n._volume)}),this.canvasPlayer.addEventListener(e.dom.MediaEvent.playing,function(t){var e=function(){n._width&&n._height||(n.logger.debug("component got no width/height, try to adapt to container"),n._width=n._mainContainer.offsetWidth,n._height=n._mainContainer.offsetHeight),n._width&&n._height?(n.logger.debug("component have dimensions, force resize",n._width,n._height),n._handleResize()):setTimeout(e,100)};e(),i(new CustomEvent("timeupdate"))}),this._ended=!1,this.canvasPlayer.addEventListener(e.dom.MediaEvent.ended,function(t){n._ended=!0,n._paused=!0,i(new CustomEvent("timeupdate")),i(new CustomEvent("ended")),n.loop&&(n.currentTime=0,n.play())}),this._paused=!0,this.canvasPlayer.addEventListener(e.dom.MediaEvent.pause,function(t){n._paused=!0}),this.canvasPlayer.addEventListener(e.dom.MediaEvent.timeupdate,function(t){n._paused=!1}),this._seeking=!1,this.canvasPlayer.addEventListener(e.dom.MediaEvent.seeking,function(t){n._seeking=!0}),this.canvasPlayer.addEventListener(e.dom.MediaEvent.seeked,function(t){n._seeking=!1}),this.canvasPlayer.addEventListener(e.dom.MediaEvent.error,function(t){n._error=t.error})}n.prototype=Object.create(e.dom.VideoWrapper.prototype),e.helper.ObjectHelper.defineProperty(n.prototype,"src",function(){return this._src},function(n){var i=this;if(this.logger.debug("set src",n),(this.src||n)&&n!==this.src&&""!==n){var o=t.ArrayHelper.indexOf(e.MediaProxy.alreadyEncoded,e.MediaProxy.getFileExtension(n))>-1;if("mp4"!==e.MediaProxy.getFileExtension(n)&&!o&&(this.error=4,this.logger.error("only mp4,"+e.MediaProxy.alreadyEncoded.join(",")+" files are supported, try to set "+n+" as src"),this.listeners.error))return void t.ArrayHelper.forEach(this.listeners.error,function(t){return t()});this._src=n,this.setAttribute("src",n),o?this.mediaProxy.load(n,512):e.helper.NetworkHelper.ping(n,function(t,e){i.mediaProxy.load(n,e)})}}),t.ArrayHelper.forEach(["width","height"],function(t){e.helper.ObjectHelper.defineProperty(n.prototype,t,function(){return this["_"+t]||0},function(e){if(this.logger.debug("set property "+t,e),isNaN(e)||this["_"+t]===e)return void this._handleResize();this["_"+t]=e,"width"===t&&!this.height&&this.videoWidth&&this.videoHeight?this._height=e*(this.videoHeight/this.videoWidth):"height"===t&&!this.width&&this.videoWidth&&this.videoHeight&&(this._width=e*(this.videoWidth/this.videoHeight)),this._handleResize()})}),e.helper.ObjectHelper.defineProperty(n.prototype,"volume",function(){return void 0!==this._volume?this._volume:0},function(t){var e=this;this._volume=t,this.canvasPlayer.audio&&this.canvasPlayer.audio.authorizeAudio(function(){e.canvasPlayer.volume=e._volume}),this.canvasPlayer.volume=this._volume}),e.helper.ObjectHelper.defineProperty(n.prototype,"currentTime",function(){return this._ended?this.canvasPlayer.duration:isNaN(this.canvasPlayer.currentTime)?0:this.canvasPlayer.currentTime},function(t){this.canvasPlayer.currentTime=t}),e.helper.ObjectHelper.defineProperty(n.prototype,"seekable",function(){return!0}),e.helper.ObjectHelper.defineProperty(n.prototype,"readyState",function(){return 4}),e.helper.ObjectHelper.defineProperty(n.prototype,"networkState",function(){return 1}),e.helper.ObjectHelper.defineProperty(n.prototype,"autoplay",function(){return void 0!==this._autoplay&&this._autoplay},function(t){this._autoplay=t}),e.helper.ObjectHelper.defineProperty(n.prototype,"videoWidth",function(){return this.canvasPlayer.videoWidth||0}),e.helper.ObjectHelper.defineProperty(n.prototype,"videoHeight",function(){return this.canvasPlayer.videoHeight||0}),e.helper.ObjectHelper.defineProperty(n.prototype,"preload",function(){return!0},function(t){}),e.helper.ObjectHelper.defineProperty(n.prototype,"seeking",function(){return this._seeking}),e.helper.ObjectHelper.defineProperty(n.prototype,"muted",function(){return 0===this._volume}),e.helper.ObjectHelper.defineProperty(n.prototype,"ended",function(){return this._ended}),e.helper.ObjectHelper.defineProperty(n.prototype,"error",function(){return this._error}),e.helper.ObjectHelper.defineProperty(n.prototype,"paused",function(){return this._paused}),e.helper.ObjectHelper.defineProperty(n.prototype,"currentSrc",function(){return this._src}),e.helper.ObjectHelper.defineProperty(n.prototype,"played",function(){var t=new e.dom.TimeRanges;return t.addRange(0,this.currentTime),t}),e.helper.ObjectHelper.defineProperty(n.prototype,"buffered",function(){var t=new e.dom.TimeRanges;return t.addRange(0,this.currentTime),t}),e.helper.ObjectHelper.defineProperty(n.prototype,"loop",function(){return void 0!==this._loop&&this._loop},function(t){this._loop=t,this.setAttribute("loop",String(t))}),e.helper.ObjectHelper.defineProperty(n.prototype,"controls",function(){return!1},function(t){}),n.prototype.load=function(){},n.prototype.canPlayType=function(t){return"video/mp4"===t?"probably":""},n.prototype.addEventListener=function(n,i,o){void 0===o&&(o=!1),e.dom.MediaEvent[n]&&t.Utils.isObject(this.listeners)?(this.listeners[n]=this.listeners[n]||[],this.listeners[n].push(i)):HTMLElement.prototype.addEventListener.call(this,n,i,o)},n.prototype.removeEventListener=function(t,n,i){if(e.dom.MediaEvent[t]){var o=this.listeners[t].indexOf(n);o>=0&&(this.listeners[t][o]=function(){})}else HTMLElement.prototype.removeEventListener.call(this,t,n,i)},n.prototype._handleResize=function(){this.canvasPlayer.width=this.width,this.canvasPlayer.height=this.height,this.style.backgroundColor="black"},n.prototype.createdCallback=function(){n.call(this)},n.prototype.attributeChangedCallback=function(t,n,i){this.logger.debug("attributeChangedCallback",t,n,i),e.helper.CustomElementHelper.updateAttribute(this,t)},n.prototype.detachedCallback=function(){this.logger.debug("detached callback called"),this.canvasPlayer.pause()},n.prototype.attachedCallback=function(){var e=this;this.logger.debug("attachedCallback called"),this.attachedCallbackCalled=!0;try{this.style.display="block",this.style.overflow="hidden",this.style.objectFit="contain";var n=["width","height","position","top","left"],i=window.originalCreateElement?window.originalCreateElement.call(this.ownerDocument,"video"):this.ownerDocument.createElement("video");this.parentNode.appendChild(i),t.HTMLHelper.copyCSSRules(i,this,n),i.parentNode.removeChild(i),this.style.width&&"auto"!==this.style.width||(this.style.width="100%"),this.style.height&&"auto"!==this.style.height||(this.style.height="100%"),this._handleResize(),this._iframeResizer=document.createElement("iframe"),this._iframeResizer.style.zIndex=0,this._iframeResizer.style.width="100%",this._iframeResizer.style.height="100%",this._iframeResizer.style.border="none",this._iframeResizer.style.margin="0",this._iframeResizer.style.padding="0",this._mainContainer.appendChild(this._iframeResizer),this._iframeResizer.contentWindow.document.write("<html><body></body></html>"),this._iframeResizer.contentWindow.document.close();var o=function(){e._width=e._iframeResizer.contentWindow.innerWidth,e._height=e._iframeResizer.contentWindow.innerHeight,e.logger.debug("component resized",e.width,e.height),e._handleResize()};this._iframeResizer.contentWindow.addEventListener("resize",o,!1),this._handleResize(),this.style.backgroundColor="black"}catch(t){this.logger.debug("attachedCallback throw an exception",t)}},e.HTMLVideoCanvas=function(){if(!t.Context.isDesktop())try{var e=window.teads.video.HTMLVideoCanvas;return new e,e}catch(t){return document.registerElement("video-canvas",{prototype:n.prototype})}}(),e.HTMLVideoCanvas&&e.HTMLVideoCanvas.prototype&&(e.HTMLVideoCanvas.prototype.addEventListener=n.prototype.addEventListener)}(t.video||(t.video={}))}(i||(i={}))},function(t,e){/*! (C) WebReflection Mit Style License */
!function(t,e,n,i){"use strict";function o(t,e){for(var n=0,i=t.length;n<i;n++)m(t[n],e)}function r(t){for(var e,n=0,i=t.length;n<i;n++)e=t[n],S(e,H[s(e)])}function a(t){return function(e){it(e)&&(m(e,t),o(e.querySelectorAll(U),t))}}function s(t){var e=t.getAttribute("is"),n=t.nodeName.toUpperCase(),i=W.call(F,e?R+e.toUpperCase():k+n);return e&&-1<i&&!c(n,e)?-1:i}function c(t,e){return-1<U.indexOf(t+'[is="'+e+'"]')}function d(t){var e=t.currentTarget,n=t.attrChange,i=t.attrName,o=t.target;gt&&(!o||o===e)&&e.attributeChangedCallback&&"style"!==i&&t.prevValue!==t.newValue&&e.attributeChangedCallback(i,n===t[P]?null:t.prevValue,n===t[O]?null:t.newValue)}function l(t){var e=a(t);return function(t){v.push(e,t.target)}}function p(t){ft&&(ft=!1,t.currentTarget.removeEventListener(D,p)),o((t.target||e).querySelectorAll(U),t.detail===I?I:T),nt&&f()}function u(t,e){var n=this;at.call(n,t,e),y.call(n,{target:n})}function h(t,e){$(t,e),w?w.observe(t,dt):(ht&&(t.setAttribute=u,t[C]=E(t),t.addEventListener(L,y)),t.addEventListener(x,d)),t.createdCallback&&gt&&(t.created=!0,t.createdCallback(),t.created=!1)}function f(){for(var t,e=0,n=ot.length;e<n;e++)t=ot[e],B.contains(t)||(n--,ot.splice(e--,1),m(t,I))}function g(t){throw new Error("A "+t+" type is already registered")}function m(t,e){var n,i=s(t);-1<i&&(b(t,H[i]),i=0,e!==T||t[T]?e===I&&!t[I]&&(t[T]=!1,t[I]=!0,i=1):(t[I]=!1,t[T]=!0,i=1,nt&&W.call(ot,t)<0&&ot.push(t)),i&&(n=t[e+"Callback"])&&n.call(t))}if(!(i in e)){var v,y,A,E,w,b,S,C="__"+i+(1e5*Math.random()>>0),T="attached",I="detached",V="extends",P="ADDITION",_="MODIFICATION",O="REMOVAL",x="DOMAttrModified",D="DOMContentLoaded",L="DOMSubtreeModified",k="<",R="=",M=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,N=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],F=[],H=[],U="",B=e.documentElement,W=F.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},G=n.prototype,z=G.hasOwnProperty,j=G.isPrototypeOf,Y=n.defineProperty,q=n.getOwnPropertyDescriptor,X=n.getOwnPropertyNames,K=n.getPrototypeOf,J=n.setPrototypeOf,Z=!!n.__proto__,Q=n.create||function t(e){return e?(t.prototype=e,new t):this},$=J||(Z?function(t,e){return t.__proto__=e,t}:X&&q?function(){function t(t,e){for(var n,i=X(e),o=0,r=i.length;o<r;o++)n=i[o],z.call(t,n)||Y(t,n,q(e,n))}return function(e,n){do{t(e,n)}while((n=K(n))&&!j.call(n,e));return e}}():function(t,e){for(var n in e)t[n]=e[n];return t}),tt=t.MutationObserver||t.WebKitMutationObserver,et=(t.HTMLElement||t.Element||t.Node).prototype,nt=!j.call(et,B),it=nt?function(t){return 1===t.nodeType}:function(t){return j.call(et,t)},ot=nt&&[],rt=et.cloneNode,at=et.setAttribute,st=et.removeAttribute,ct=e.createElement,dt=tt&&{attributes:!0,characterData:!0,attributeOldValue:!0},lt=tt||function(t){ht=!1,B.removeEventListener(x,lt)},pt=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.msRequestAnimationFrame||function(t){setTimeout(t,10)},ut=!1,ht=!0,ft=!0,gt=!0;J||Z?(b=function(t,e){j.call(e,t)||h(t,e)},S=h):(b=function(t,e){t[C]||(t[C]=n(!0),h(t,e))},S=b),nt?(ht=!1,function(){var t=q(et,"addEventListener"),e=t.value,n=function(t){var e=new CustomEvent(x,{bubbles:!0});e.attrName=t,e.prevValue=this.getAttribute(t),e.newValue=null,e[O]=e.attrChange=2,st.call(this,t),this.dispatchEvent(e)},i=function(t,e){var n=this.hasAttribute(t),i=n&&this.getAttribute(t),o=new CustomEvent(x,{bubbles:!0});at.call(this,t,e),o.attrName=t,o.prevValue=n?i:null,o.newValue=e,n?o[_]=o.attrChange=1:o[P]=o.attrChange=0,this.dispatchEvent(o)},o=function(t){var e,n=t.currentTarget,i=n[C],o=t.propertyName;i.hasOwnProperty(o)&&(i=i[o],e=new CustomEvent(x,{bubbles:!0}),e.attrName=i.name,e.prevValue=i.value||null,e.newValue=i.value=n[o]||null,null==e.prevValue?e[P]=e.attrChange=0:e[_]=e.attrChange=1,n.dispatchEvent(e))};t.value=function(t,r,a){t===x&&this.attributeChangedCallback&&this.setAttribute!==i&&(this[C]={className:{name:"class",value:this.className}},this.setAttribute=i,this.removeAttribute=n,e.call(this,"propertychange",o)),e.call(this,t,r,a)},Y(et,"addEventListener",t)}()):tt||(B.addEventListener(x,lt),B.setAttribute(C,1),B.removeAttribute(C),ht&&(y=function(t){var e,n,i,o=this;if(o===t.target){e=o[C],o[C]=n=E(o);for(i in n){if(!(i in e))return A(0,o,i,e[i],n[i],P);if(n[i]!==e[i])return A(1,o,i,e[i],n[i],_)}for(i in e)if(!(i in n))return A(2,o,i,e[i],n[i],O)}},A=function(t,e,n,i,o,r){var a={attrChange:t,currentTarget:e,attrName:n,prevValue:i,newValue:o};a[r]=t,d(a)},E=function(t){for(var e,n,i={},o=t.attributes,r=0,a=o.length;r<a;r++)e=o[r],"setAttribute"!==(n=e.name)&&(i[n]=e.value);return i})),e[i]=function(t,n){if(i=t.toUpperCase(),ut||(ut=!0,tt?(w=function(t,e){function n(t,e){for(var n=0,i=t.length;n<i;e(t[n++]));}return new tt(function(i){for(var o,r,a,s=0,c=i.length;s<c;s++)o=i[s],"childList"===o.type?(n(o.addedNodes,t),n(o.removedNodes,e)):(r=o.target,gt&&r.attributeChangedCallback&&"style"!==o.attributeName&&(a=r.getAttribute(o.attributeName))!==o.oldValue&&r.attributeChangedCallback(o.attributeName,o.oldValue,a))})}(a(T),a(I)),w.observe(e,{childList:!0,subtree:!0})):(v=[],pt(function t(){for(;v.length;)v.shift().call(null,v.shift());pt(t)}),e.addEventListener("DOMNodeInserted",l(T)),e.addEventListener("DOMNodeRemoved",l(I))),e.addEventListener(D,p),e.addEventListener("readystatechange",p),e.createElement=function(t,n){var i=ct.apply(e,arguments),o=""+t,r=W.call(F,(n?R:k)+(n||o).toUpperCase()),a=-1<r;return n&&(i.setAttribute("is",n=n.toLowerCase()),a&&(a=c(o.toUpperCase(),n))),gt=!e.createElement.innerHTMLHelper,a&&S(i,H[r]),i},et.cloneNode=function(t){var e=rt.call(this,!!t),n=s(e);return-1<n&&S(e,H[n]),t&&r(e.querySelectorAll(U)),e}),-2<W.call(F,R+i)+W.call(F,k+i)&&g(t),!M.test(i)||-1<W.call(N,i))throw new Error("The type "+t+" is invalid");var i,d,u=function(){return f?e.createElement(m,i):e.createElement(m)},h=n||G,f=z.call(h,V),m=f?n[V].toUpperCase():i;return f&&-1<W.call(F,k+m)&&g(m),d=F.push((f?R:k)+i)-1,U=U.concat(U.length?",":"",f?m+'[is="'+t.toLowerCase()+'"]':m),u.prototype=H[d]=z.call(h,"prototype")?h.prototype:Q(et),o(e.querySelectorAll(U),T),u}}}(window,document,Object,"registerElement")},function(t,e,n){n(83),n(86);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.initAd=function(n,i,o,r,a,s){var c=this;s.videoSlot&&s.videoSlot.parentNode&&s.videoSlot.parentNode.removeChild(s.videoSlot),this.createContainer(s.slot),t.AdParameterHelper.decode(a).match({success:function(a){s.videoSlot=new t.canvas.player.CanvasPlayer(c.container,n,i,a),s.videoSlot.addEventListener(t.canvas.player.model.mediaEvents.ERROR,function(t){return c.dispatchVpaidEvent(c.eventMap[t.type])}),e.prototype.initAd.call(c,n,i,o,r,a,s)},failure:function(t){return c.handleException(t,"initAd")}})},n.prototype.startAd=function(){if(this.status>t.vpaid.VpaidStatus.LOADED)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"try to call startAd but ad is starting or is already started");if(this.status<t.vpaid.VpaidStatus.LOADED)return void this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,"Ad is not loaded, use initAd first");try{e.prototype.startAd.call(this),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdDurationChange)}catch(t){this.handleException(t,"startAd")}},n.prototype.appendVideo=function(){},n.prototype.removeVideo=function(){this.video.pause(),this.container.removeChild(this.video.html5video||this.video.canvas)},n}(e.VPAIDVideo);e.VPAIDCanvas=n}(t.video||(t.video={}))}(o||(o={}))},function(t,e,n){n(178),n(135),n(204),n(180),n(51),n(119),n(206),n(216),n(109)},function(t,e){},function(t,e,n){n(0),n(18),n(16);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){var e=function(){function e(e){void 0===e&&(e="EventListenerManager"),this.listeners={},this.logger=new t.Logger(e)}return e.prototype.add=function(e,n,i){var o=this;t.Utils.isString(e)||this.logger.warn("First argument of EventListenerManager.add must be a string",e),this.logger.debug("Add listener to event",e),t.Option.of(this.listeners[e]).orElse(function(){return t.Option.of([])}).map(function(t){return t.concat([{context:n,callback:i}])}).forEach(function(t){o.listeners[e]=t}),this.addEventListener(e,n,i)},e.prototype.addMultiple=function(e,n,i){var o=this;t.Utils.isArray(e)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",e),t.ArrayHelper.forEach(e,function(t){return o.add(t,n,i)})},e.prototype.remove=function(e){var n=this;t.Utils.isString(e)||this.logger.warn("First argument of EventListenerManager.add must be a string",e),this.logger.debug("Remove listener from event",e),t.ArrayHelper.forEach(this.listeners[e],function(t){return n.removeEventListener(e,t.context,t.callback)}),this.listeners[e]=[]},e.prototype.removeMultiple=function(e){var n=this;t.Utils.isArray(e)||this.logger.warn("First argument of EventListenerManager.addMultiple must be an array of strings",e),t.ArrayHelper.forEach(e,function(t){return n.remove(t)})},e.prototype.removeAll=function(){var e=this;for(var n in this.listeners)!function(n){e.listeners.hasOwnProperty(n)&&t.ArrayHelper.forEach(e.listeners[n],function(e){return t.Dom.removeEventListener(n,e.context,e.callback)})}(n)},e}();t.EventListenerManager=e;var n=function(e){function n(){return e.call(this,"DOMEventListenerManager")||this}return i(n,e),n.prototype.addEventListener=function(e,n,i){t.Dom.addEventListener(e,n,i)},n.prototype.removeEventListener=function(e,n,i){t.Dom.removeEventListener(e,n,i)},n}(e);t.DOMEventListenerManager=n}(o||(o={}))},function(t,e,n){n(35);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.INCOMPLETE_OBJECT={id:1,message:"Ad configuration is missing settings or placement"},e.OPTION_CHECKVALUE_MISSING={id:2,message:"checkValue function is missing"},e.OPTION_THRESHOLD_MISSING={id:3,message:"Option threshold is required"},e.OPTION_PARENTWINDOW_INVALID={id:4,message:"Option parentWindow is required"},e.OPTION_VAST_INVALID={id:5,message:"Option vast has to contain type and content"},e.MULTIPLE_PAGE_PROCESS={id:6,message:"Cannot process more than 1 page"},e.OPTION_PID_INVALID={id:7,message:"Option Pid must be a positive number"},e.OPTION_FORMAT_INVALID={id:8,message:"Option Format must be a known string"},e.LOADING_MEDIAFILE={id:9,message:"Error when loading mediafile"},e.RAS_REQUEST={id:10,message:"RAS request error"},e.RAS_TIMEOUT={id:11,message:"RAS request timeout"},e.RAS_CUSTOM_TIMEOUT={id:12,message:"RAS request custom timeout"},e.RAS_RESPONSE={id:13,message:"RAS response error"},e.RAS_RESPONSE_ADS_NOT_ARRAY={id:14,message:"RAS response ads is not an array"},e.EVENT_CALLBACK={id:15,message:"Callback threw an error"},e.FILTER_FUNCTION={id:16,message:"The filter function threw an error"},e.OPTION_NAME_REQUIRED={id:17,message:"Name must be a valid string"},e}(t.Exception);t.FormatException=e}(o||(o={}))},function(t,e){},function(t,e,n){n(113),n(51),n(207)},function(t,e,n){n(29),n(84),n(205),n(136),n(73),n(138),n(103);var i=window.teads=window.teads||{};!function(t){!function(t){t[t.Error=0]="Error",t[t.AdError=1]="AdError",t[t.ResizeAmpError=2]="ResizeAmpError",t[t.ReplayError=3]="ReplayError",t[t.AdSuccess=4]="AdSuccess",t[t.NoAdSuccess=5]="NoAdSuccess",t[t.MoatNotVisibleAdSuccess=6]="MoatNotVisibleAdSuccess"}(t.EXIT_STATUS||(t.EXIT_STATUS={}))}(i||(i={}))},function(t,e){},function(t,e,n){n(104);var i=window.teads=window.teads||{};!function(t){!function(t){!function(e){var i=n(160);e.inread=function(e){var n=[];return n.length>0&&(e=e.replace('id="'+t.mainComponentsContainerId+'"','id="'+t.mainComponentsContainerId+'" class="'+n.join(" ")+'"')),e}(i)}(t.template||(t.template={}))}(t.ui||(t.ui={}))}(i||(i={}))},function(t,e,n){n(1),n(4),n(26),n(35),n(13),n(28),n(25),n(71),n(97),n(123),n(181),n(182),n(96),n(91),n(192);var i=window.teads=window.teads||{};!function(t){!function(e){e.vastSumologic=new t.Sumologic;var n=function(){function n(e){this.config=e,this.logger=new t.Logger("vast.VASTLib"),this.logger.debug("new",this),this.wrappersLimit=this.config.wrappersLimit||n.WRAPPERS_LIMIT}return n.prototype.load=function(t,e,n){this.processVast(!0,t,e,n)},n.prototype.parse=function(t,e,n){this.processVast(!1,t,e,n)},n.prototype.processVast=function(n,i,o,r){var a=Date.now(),s=function(e){var n=Date.now()-a;try{t.player.playerSumologic.sendInfo("parse "+e.wrappers.length+" "+n)}catch(t){}o(e)},c=function(t,e){r(t,e)};n?this.loadXml(new e.LinearAd,i,s,c):this.parseXml(new e.LinearAd,i,s,c)},n.prototype.loadXml=function(t,n,i,o){var r=this;if(t.url||(t.url=n),this.config.replaceIASVPAID&&e.IAS.iasRegexp.test(n)&&e.IAS.isIASVASTUrl(n)){var a=e.IAS.bypassVastUrl(n);if(a)return t.mediaFiles=[],t.adParameters=null,this.parseXml(t,a.newVast,i,o)}e.VASTLoader.load(n,this.config,function(e){r.parseXml(t,e,i,o)},o)},n.prototype.parseXml=function(n,i,o,r){var a=this;e.VASTParser.parse(i,function(i){if(n.merge(i),i.adTagUri)n.wrappers.length>a.wrappersLimit?r(new t.VastException(t.VastException.WRAPPER_LIMIT),n):(a.logger.info("load wrapper",i.adTagUri),a.loadXml(n,i.adTagUri,o,function(t,e){r(t,n)}));else if(a.config.replaceIASVPAID&&e.IAS.iasRegexp.test(n.adParameters)&&e.IAS.isIASVASTUrl(n.adParameters)&&e.IAS.bypassAdParameters(n),0===n.mediaFiles.length){var s=t.Exception.get(t.VastException.WRAPPER.id,"empty mediafiles in VAST definition");a.logger.error(s.getFullMessage()),r(s,n)}else o(n)},function(t,e){n.merge(e),r(t,n)})},n.TIMEOUT=7e3,n.WRAPPERS_LIMIT=10,n}();e.VASTLib=n}(t.vast||(t.vast={}))}(i||(i={}))},function(t,e){},function(t,e,n){n(125),n(41),n(112);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.loadVpaid=function(t,e,i){t===o.CANVAS?this.loadBundled(o.CANVAS,e,i):t===o.VIDEO?this.loadBundled(o.VIDEO,e,i):n.prototype.loadVpaid.call(this,t,e,i)},o.prototype.loadBundled=function(n,i,r){this.mainContainer=document.createElement("div"),this.mainContainer.style.setProperty("position","relative"),this.container.appendChild(this.mainContainer),this.creativeContainer=t.HTMLHelper.createIframe(),this.creativeContainer.setAttribute("id","vpaid-"+this.id),this.creativeContainer.setAttribute("class","creative-container"),this.mainContainer.appendChild(this.creativeContainer);var a='<!DOCTYPE html><html><body style="margin:0px;padding:0px;overflow:hidden"><div id="video-container" style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+this.backgroundColor+'"></div><div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div></body></html>';switch(this.creativeContainer.contentWindow.document.write(a),this.creativeContainer.contentWindow.document.close(),this.vpaidContainer=this.creativeContainer.contentWindow.document.getElementById("vpaid-container"),this.videoContainer=this.creativeContainer.contentWindow.document.getElementById("video-container"),this.creativeContainer.contentWindow.teads=t,this.creativeContainer.contentWindow.teads.api=this.config.api,n){case o.VIDEO:this.vpaid=new this.creativeContainer.contentWindow.teads.video.VPAIDVideo;break;case o.CANVAS:this.vpaid=new this.creativeContainer.contentWindow.teads.video.VPAIDCanvas;break;default:return r(e.ErrorCode.BUNDLE_ASSET_NOT_EXISTING)}i(this.vpaid)},o.CANVAS="canvas",o.VIDEO="video",o}(e.VPAIDJSContainer);e.BundledContainer=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(126),n(6),n(8),n(29),n(43),n(31),n(27),n(117),n(78),n(44),n(41),n(110),n(86);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(111);var o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.loadVpaid=function(n,i,o){var r=this;this.url=n,this.mainContainer=document.createElement("div"),this.mainContainer.style.position="relative",this.container.appendChild(this.mainContainer),this.creativeContainer=t.HTMLHelper.createIframe(),this.creativeContainer.id="vpaid-"+this.id,this.mainContainer.appendChild(this.creativeContainer);var a=t.HTMLHelper.getWindow(this.mainContainer),s=!1,c=function(t){a[r.callbackName]=function(){},o(t),r.destroy()};this.callbackName="vpaidjsload_"+this.id,a[this.callbackName]=function(t){if(s=!0,clearTimeout(r.loadTimeoutId),a[r.callbackName]=function(){},t){try{r.vpaid=r.creativeContainer.contentWindow.getVPAIDAd()}catch(t){var n=e.ErrorCode.GETVPAIDAD_EXCEPTION;return n.message+=" "+t,c(n)}r.logger.info("getVPAIDAd - Retrieve ad from creative"),r.creativeContainer.contentWindow.teads=r.creativeContainer.contentWindow.teads||{},r.creativeContainer.contentWindow.teads.api=r.config.api,i(r.vpaid)}else c(e.ErrorCode.LOAD_VPAID_FILE_NOT_FOUND)};var d='\n        <!DOCTYPE html>\n        <html>\n          <body style="margin:0px;padding:0px;overflow:hidden">\n            <script type="text/javascript">\n              var target = window.parent;\n              var script = document.createElement("script");\n              script.onload = function() {\n                target["'+this.callbackName+'"](true)\n              };\n              script.onerror = function() {\n                target["'+this.callbackName+'"](false)\n              };\n              script.async = true;\n              script.src = "'+n+'";\n              document.body.appendChild(script);\n            <\/script>\n            <div id="video-container"\n              style="position:absolute;top:0px;left:0px;z-index:1;background-color:'+this.backgroundColor+'">\n            </div>\n            <div id="vpaid-container" style="position:absolute;top:0px;left:0px;z-index:2"></div>\n          </body>\n        </html>\n      ';this.creativeContainer.contentWindow.document.write(d),this.creativeContainer.contentWindow.document.close(),this.vpaidContainer=this.creativeContainer.contentWindow.document.getElementById("vpaid-container"),this.videoContainer=this.creativeContainer.contentWindow.document.getElementById("video-container"),this.loadTimeoutId=setTimeout(function(){s||c(e.ErrorCode.LOAD_VPAID_TIMEOUT)},e.Timeout.loadVpaid)},o.prototype.getEnvironmentVars=function(e){var n=this;return void 0===e&&(e={}),t.Option.of(this.environmentVars).getOrElse(function(){return n.environmentVars=t.Utils.extendWithoutNull({slot:n.vpaidContainer,videoSlot:n.initVideo(n.creativeContainer.contentWindow,n.config.useCustomVideo&&t.video.HTMLVideoCanvas),videoSlotCanAutoPlay:!0},e)})},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.mainContainer&&this.mainContainer.parentNode&&(this.mainContainer.parentNode.removeChild(this.mainContainer),this.mainContainer=null,this.videoContainer=null)},o.prototype.resize=function(t,e){if(this.currentWidth=t,this.currentHeight=e,this.mainContainer&&(this.mainContainer.style.width=t+"px",this.mainContainer.style.height=e+"px"),this.creativeContainer&&(this.creativeContainer.style.setProperty("width",t+"px","important"),this.creativeContainer.style.setProperty("height",e+"px","important")),this.videoContainer){this.videoContainer.style.width=t+"px",this.videoContainer.style.height=e+"px";var n=this.videoContainer.getElementsByTagName("video")[0];n&&(n.width=t,n.height=e,n.style.width=t+"px",n.style.height=e+"px")}this.vpaidContainer&&(this.vpaidContainer.style.width=t+"px",this.vpaidContainer.style.height=e+"px")},o.prototype.setBackground=function(t){n.prototype.setBackground.call(this,t),this.videoContainer&&(this.videoContainer.style.backgroundColor=this.backgroundColor)},o.prototype.getType=function(){return e.CreativeType.JS},o.prototype.registerVPAIDEventHandler=function(t){this.callback=t;for(var n in e.VPAIDEvent)this.vpaid.subscribe(e.VPAIDHelper.createVPAIDEventCallback(t,n),n,this);for(var n in e.CustomVPAIDEvent)this.vpaid.subscribe(e.VPAIDHelper.createVPAIDEventCallback(t,n),n,this)},o.prototype.overrideCreateElement=function(t){window.originalCreateElement=this.creativeContainer.contentDocument.createElement;var e=this;this.creativeContainer.contentDocument.createElement=function(n){return"video"===n.toLowerCase()?(e.logger.debug("createElement overriden for",n),t):window.originalCreateElement.call(e.creativeContainer.contentDocument,n)}},o.prototype.initVideo=function(e,n){var i=n?this.initCustomVideo(e):this.initClassicVideo(e);return(n||t.Context.isWhiteListedIos10Safari())&&this.overrideCreateElement(i),this.videoContainer.appendChild(i),this.resize(this.currentWidth,this.currentHeight),i},o.prototype.initCustomVideo=function(n){var i=this;n.document.registerElement=n.document.registerElement||document.registerElement,n.teads=n.teads||t,n.teads.video=t.video;var o=new n.teads.video.HTMLVideoCanvas;return o.addEventListener(t.video.dom.MediaEvent.error,function(n){if(i.logger.error("receive video error event",n,o.error),i.callback){i.logger.debug("callback ready to handle video error");var r=o.error&&o.error.code===t.video.constant.MediaError.MEDIA_ERR_NETWORK?"MediaProxy not ready":"unknow video error";i.logger.error(r),i.callback(new e.VPAIDEvent(e.VPAIDEvent.AdError,{message:r,id:t.VastException.UNSUPPORTED_MEDIAFILE.id}))}else i.logger.error("callback not ready to handle video error")},!1),o},o.prototype.initClassicVideo=function(e){var n=e.document.createElement("video");return n.setAttribute("webkit-playsinline","true"),n.setAttribute("playsinline","true"),n.setAttribute("muted","true"),t.Context.isAndroid()&&t.Context.isChromeWebView()&&n.setAttribute("poster",t.Constant.base64TransparentPixel),n},o}(e.BaseVPAIDContainer);e.VPAIDJSContainer=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(6),n(8),n(29),n(14);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e,n){this.container=e,this.config=n,this.logger=new t.Logger("vpaid.BaseVPAIDContainer"),this.backgroundColor="#000000",this.id=n.id||t.StringHelper.rand(20,!1)}return e.prototype.setBackground=function(t){this.backgroundColor=t},e.prototype.destroy=function(){try{!this.isDetroyed&&this.creativeContainer?(this.isDetroyed=!0,this.creativeContainer.parentNode.removeChild(this.creativeContainer),this.creativeContainer=null,this.vpaid=null):this.isDetroyed&&this.logger.error("Cannot call destroy twice !")}catch(t){this.logger.error("unable to remove VPAID creative container: "+t)}},e.prototype.getVPAID=function(){return this.logger.info("getVPAIDAd - Retrieve ad from creative"),this.vpaid},e.prototype.getCreativeContainer=function(){return this.creativeContainer},e}();e.BaseVPAIDContainer=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e,n){n(31),n(27),n(101),n(198),n(199),n(6),n(48),n(44),n(14),n(41);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(n,i){this.config=i,this.vpaidAttribute={},this.logger=new t.Logger("vpaid.PostMessageClient"),this.eventHandler=new e.EventHandler,this.mainContainer=document.createElement("div"),this.mainContainer.style.position="relative",n.appendChild(this.mainContainer),this.iframeContainer=t.HTMLHelper.createIframe(),this.mainContainer.appendChild(this.iframeContainer),this.postMessage=new e.PostMessage(window,this.iframeContainer.contentWindow)}return n.prototype.initAPI=function(t,i,o){var r=this;this.logger.debug("init iframe API on url "+t);var a,s=function(t){t.type===e.PostMessageServer.READY_EVENT?(r.logger.debug("Got ready event from server !"),r.postMessage.callMethod(n.SETCONFIG_METHOD,[r.config])):t.type===e.PostMessageServer.CONFIGREADY_EVENT&&(r.logger.debug("Received configuration ready form server"),r.postMessage.removeCallback(),r.apiReady=!0,clearTimeout(a),i())};this.postMessage.setClientCallback(s),this.iframeContainer.src=t,a=setTimeout(function(){r.apiReady||(r.postMessage.removeCallback(),o(e.ErrorCode.POSTMESSAGE_SERVER_TIMEOUT),r.logger.error("server "+t+" didn't reply after "+e.Timeout.postMessageAPI+"ms"))},e.Timeout.postMessageAPI)},n.prototype.loadVpaid=function(t,i,o){var r=this;this.logger.debug("Request load VPAID "+t);var a;if(!this.apiReady)return this.logger.error("API is not ready, before use loadVpaid, you must init the API with the method initAPI"),o(e.ErrorCode.POSTMESSAGE_API_NOT_READY);var s=function(t){return t.type===e.PostMessageServer.VPAIDLOADED_EVENT?(r.logger.debug("received VPAID loaded from server!"),r.postMessage.removeCallback(),clearTimeout(a),r.onVpaidLoaded(i)):t.type===e.PostMessageServer.VPAIDLOADEDERROR_EVENT?(clearTimeout(a),o(t.data)):void 0};this.postMessage.setClientCallback(s),a=setTimeout(function(){r.postMessage.removeCallback(),o(e.ErrorCode.POSTMESSAGE_LOAD_VPAID_TIMEOUT),r.logger.error("Timeout Error : Unable to load vpaid "+t+", server did not reply after "+e.Timeout.postMessageAPI+"ms")},e.Timeout.postMessageAPI),this.postMessage.callMethod(n.LOADVPAID_METHOD,[t])},n.prototype.getVPAID=function(){return this.vpaid},n.prototype.callVPAIDMethod=function(t,e){return void 0===e&&(e=[]),n.getters.indexOf(t)>=0?this.vpaidAttribute[t]:this.postMessage.callMethod(t,e)},n.prototype.getIframeContainer=function(){return this.iframeContainer},n.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},n.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},n.prototype.onVpaidLoaded=function(t){var n=this;this.vpaid=new e.PostMessageVPAID(this),this.postMessage.setClientCallback(function(t){if(t.type===e.PostMessageServer.ATTRIBUTE_EVENT)return void(n.vpaidAttribute=t.data);n.eventHandler.handleEvent(t)}),t(this.vpaid)},n.GETATTRIBUTESVALUES_METHOD="getAttributesValues",n.LOADVPAID_METHOD="loadVpaid",n.SETCONFIG_METHOD="setConfig",n.getters=["getAdWidth","getAdHeight","getAdDuration","getAdRemainingTime","getAdSkippableState","getAdLinear","getAdExpanded","getAdVolume"],n}();e.PostMessageClient=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e,n){n(6),n(8),n(43),n(76),n(93),n(49),n(44);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(t){var i=n.call(this)||this;return i.lastAdRemainingTime=-1,i.setVPAID(t.getVPAID()),i.type=t.getType(),i.container=t,i.container.registerVPAIDEventHandler(function(t){switch(t.type){case e.VPAIDEvent.AdRemainingTimeChange:case e.VPAIDEvent.AdDurationChange:return}i.handleVpaidEvent(t)}),i}return i(o,n),o.prototype.initAd=function(t,i,o,r,a,s){this.container.resize(t,i),this.type===e.CreativeType.JS&&"string"==typeof a&&(a={AdParameters:a}),n.prototype.initAd.call(this,t,i,o,r,a,this.type===e.CreativeType.JS?this.getEnvironmentVars(s):null)},o.prototype.setAdVolume=function(i){var o=this;if(this.environmentVars&&this.environmentVars.videoSlot){var r=function(n){n.type===t.video.dom.MediaEvent.volumechange&&o.dispatchEvent(e.VPAIDEvent.AdVolumeChange),t.Dom.removeEventListener(t.video.dom.MediaEvent.volumechange,o.environmentVars.videoSlot,r)};t.Dom.addEventListener(t.video.dom.MediaEvent.volumechange,this.environmentVars.videoSlot,r),this.environmentVars.videoSlot.volume=i,this.environmentVars.videoSlot.muted=!i}return n.prototype.setAdVolume.call(this,i),this.dispatchEvent(e.VPAIDEvent.AdVolumeChange),i},o.prototype.getAdVolume=function(){return this.environmentVars&&this.environmentVars.videoSlot&&void 0!==this.environmentVars.videoSlot.volume?this.environmentVars.videoSlot.muted?0:this.environmentVars.videoSlot.volume:n.prototype.getAdVolume.call(this)},o.prototype.resizeAd=function(t,e,i){this.isResizing=!0,this.container.resize(t,e),n.prototype.resizeAd.call(this,t,e,i)},o.prototype.getEnvironmentVars=function(t){return this.container.getEnvironmentVars(t)},o.prototype.handleVpaidEvent=function(t){var i=this;switch(t.type){case e.VPAIDEvent.AdSizeChange:this.isResizing||this.container.resize(this.getAdWidth(),this.getAdHeight()),this.isResizing=!1;break;case e.VPAIDEvent.AdStarted:this.startTimer();break;case e.VPAIDEvent.AdStopped:this.stopTimer()}n.prototype.handleVpaidEvent.call(this,t),this.status===e.VpaidStatus.STOPPED&&(this.status=e.VpaidStatus.REMOVING,setTimeout(function(){i.status=e.VpaidStatus.REMOVED,i.container.destroy()},e.Timeout.destroy))},o.prototype.startTimer=function(){var t=this;this.timerId||(this.timerId=setInterval(function(){var n=t.getAdRemainingTime();t.status<e.VpaidStatus.COMPLETE&&n>=0&&t.lastAdRemainingTime!==n&&(t.lastAdRemainingTime=n,t.dispatchEvent(e.VPAIDEvent.AdRemainingTimeChange),t.dispatchEvent(e.VPAIDEvent.AdDurationChange))},250))},o.prototype.stopTimer=function(){this.timerId&&clearInterval(this.timerId)},o}(e.BaseVPAIDJSWrapper);e.VPAIDWrapper=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(6),n(128);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){var e=function(e){function n(n){var i=e.call(this,n)||this;return i.adDuration=-2,i.isVpaid2=t.VPAIDHelper.isVPAID2(i.vpaid),i}return i(n,e),n.prototype.handshakeVersion=function(t){return"2.0"},n.prototype.initAd=function(n,i,o,r,a,s){this.adWidth=n,this.adHeight=i,this.dispatchEvent(t.VPAIDEvent.AdLog,"VPAID 1.0 creative"),e.prototype.initAd.call(this,n,i,o,r,a,s),this.isVpaid2=t.VPAIDHelper.isVPAID2(this.vpaid)},n.prototype.resizeAd=function(n,i,o){if(this.adWidth=n,this.adHeight=i,this.isVpaid2)return e.prototype.resizeAd.call(this,n,i,o);e.prototype.resizeAd.call(this,n,i),this.dispatchEvent(t.VPAIDEvent.AdSizeChange)},n.prototype.getAdWidth=function(){return this.adWidth},n.prototype.getAdHeight=function(){return this.adHeight},n.prototype.skipAd=function(){this.isVpaid2?e.prototype.skipAd.call(this):(this.dispatchEvent(t.VPAIDEvent.AdSkipped),this.stopAd())},n.prototype.getAdSkippableState=function(){return!!this.isVpaid2&&e.prototype.getAdSkippableState.call(this)},n.prototype.getAdIcons=function(){return!!this.isVpaid2&&e.prototype.getAdIcons.call(this)},n.prototype.getAdCompanions=function(){return this.isVpaid2?e.prototype.getAdCompanions.call(this):""},n.prototype.getAdDuration=function(){return this.isVpaid2?e.prototype.getAdDuration.call(this):this.adDuration},n.prototype.handleVpaidEvent=function(n){if(!this.isVpaid2)switch(n.type){case t.VPAIDEvent.AdRemainingTimeChange:this.getAdRemainingTime()>0&&(this.adDuration<=0||this.getAdRemainingTime()>this.adDuration)&&(this.adDuration=this.getAdRemainingTime())}e.prototype.handleVpaidEvent.call(this,n)},n}(t.VPAIDWrapper);t.VPAID2Over1=e}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(0),n(17),n(18),n(3),n(4),n(115),n(32);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(n,i,o){var r=this;if(this.win=n,this.onVisible=i,this.onHidden=o,this.prefixes=["","webkit","ms","moz"],this.props=["VisibilityState","visibilitychange","Hidden"],this.isInitialState=!0,this.enabled=!0,this.isAmpVisible=!0,this.eventTimeout=null,this.intervalIABSafeFrame=null,this.intervalFocus=null,this.windows=[],e.logger.debug("init"),this.eventListenerManager=new t.DOMEventListenerManager,t.Context.isAmp()){e.logger.debug("Init AMP visibility plugin");var a=function(t){window.context.hidden&&r.isAmpVisible?(e.logger.debug("AMP visibility, window is hidden, call hidden callback"),r.isAmpVisible=!1,r.onHiddenCallback()):window.context.hidden||r.isAmpVisible||(e.logger.debug("AMP visibility, window is visible, call visibile callback"),r.isAmpVisible=!0,r.onVisibleCallback())};return void this.eventListenerManager.add("amp:visibilitychange",window,a)}if(t.Context.isIABSafeFrame()){var s,c=!0;return void(this.intervalIABSafeFrame=setInterval(function(){s=r.isVisible(),s&&!c?(c=!0,r.onVisibleCallback()):!s&&c&&(c=!1,r.onHiddenCallback())},500))}this.prefix=this.getPrefix(),this.addWindow(this.win),this.visibleWindow=this.win}return e.listenWindow=function(t,n,i){return new e(t,n,i)},e.prototype.destroy=function(){var n=this;try{if(t.Context.isAmp())return void this.eventListenerManager.remove("amp:visibilitychange");t.Context.isIABSafeFrame()&&clearInterval(this.intervalIABSafeFrame),clearInterval(this.intervalFocus),this.eventListenerManager.removeAll(),t.ArrayHelper.forEach(this.windows,function(t){t.focus(),n.removeWindow(t,!1)}),e.logger.debug("destroy")}catch(t){e.logger.error("Visibility could not be fully destroyed.",t)}finally{this.disable(),this.windows=[]}},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.isEnabled=function(){return this.enabled},e.prototype.isVisible=function(){return t.Context.isAmp()?this.isAmpVisible:t.Context.isIABSafeFrame()?window.$sf.ext.winHasFocus?window.$sf.ext.winHasFocus():!document.hidden:!!this.visibleWindow},e.prototype.addWindow=function(e){var n=this;-1===t.ArrayHelper.indexOf(this.windows,e)&&(this.windows.push(e),this.addListener(e,function(){return n.setWindowVisible(e)},function(){return n.setWindowHidden(e)}))},e.prototype.removeWindow=function(e,n,i){if(void 0===n&&(n=!0),void 0===i&&(i=!0),t.ArrayHelper.indexOf(this.windows,e)>-1){var o=this.isVisible();i&&this.windows.splice(t.ArrayHelper.indexOf(this.windows,e),1),n&&o&&!this.isVisible()&&this.onHiddenCallback()}},e.prototype.getWindows=function(){return this.windows},e.prototype.addListener=function(n,i,o){var r=this;try{var a=n.document;if(this.prefixesSupported(a)){var s=function(){a[r.getPrefixedMethodName(r.props[2])]?o():i()};this.eventListenerManager.add(this.getPrefixedMethodName(this.props[1]),a,s)}else if(a.hasFocus)e.logger.debug("Add listener on hasFocus method with an interval of 100ms"),clearInterval(this.intervalFocus),this.intervalFocus=setInterval(function(){a.hasFocus()?i():o()},100);else{var c=t.HTMLHelper.findParentWindows(this.win.document.body).concat(t.HTMLHelper.findChildWindows(this.win.document.body,!0));t.ArrayHelper.forEach(c,function(t){r.addWindow(t)}),e.logger.debug("Add listener on focus and blur events");var d=function(t){e.logger.debug("Exec callback visible"),i()},l=function(t){e.logger.debug("Exec callback hidden"),n===t.target&&o()};n.tt_visibility_visible=d,n.tt_visibility_hidden=l,n.hasOwnProperty("onpageshow")&&(this.eventListenerManager.add("pageshow",n,function(t){e.logger.debug("pageshow event received"),d()}),this.eventListenerManager.add("pagehide",n,function(t){e.logger.debug("pagehide event received"),l(t)})),this.eventListenerManager.add("focus",n,function(t){e.logger.debug("focus event received"),clearTimeout(r.eventTimeout),d()}),this.eventListenerManager.add("blur",n,function(t){e.logger.debug("blur event received"),r.eventTimeout=setTimeout(function(){l(t)},10)})}}catch(t){}},e.prototype.setWindowVisible=function(t){this.isInitialState||this.isVisible()||(this.visibleWindow=t,e.logger.debug("onVisible callback exec"),this.onVisibleCallback())},e.prototype.setWindowHidden=function(n){this.isInitialState=!1,t.Context.isIABSafeFrame()&&this.isVisible()||this.isVisible()&&(this.visibleWindow=null,e.logger.debug("onHidden callback exec"),this.onHiddenCallback())},e.prototype.onVisibleCallback=function(){this.enabled&&this.onVisible()},e.prototype.onHiddenCallback=function(){this.enabled&&this.onHidden()},e.prototype.getPrefixedMethodName=function(e,n){var i=this;return t.Option.of(n).orElse(function(){return t.Option.of(i.prefix)}).match({some:function(t){return t+e},none:function(){return e.toLowerCase()}})},e.prototype.getPrefix=function(t){t||(t=window.document);for(var e=0,n=this.prefixes.length;e<n;e++){var i=this.getPrefixedMethodName(this.props[2],this.prefixes[e]);if(null!==t[i]&&void 0!==t[i])return this.prefixes[e]}},e.prototype.prefixesSupported=function(e){var n=this;if(t.Context.isDesktop())return!1;var i=!1;return t.ArrayHelper.forEach(this.props,function(t){i=i||n.getPrefixedMethodName(t,n.prefix)in e}),i},e.logger=new t.Logger("Visibility"),e}();t.Visibility=e}(i||(i={}))},function(t,e,n){n(98)},function(t,e,n){n(6),n(8),n(69),n(31),n(27),n(193),n(100),n(43),n(194),n(125),n(195),n(197),n(75),n(76),n(200),n(128),n(202),n(129),n(124),n(41);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(t,n){this.container=t,this.config=n,this.status=e.LoaderStatus.READY,this.wigoi=null}return n.prototype.load=function(i,o,r){var a=this;if(!(this.status>e.LoaderStatus.READY)){var s,c;this.config.sandbox?(this.creativeType=e.CreativeType.POSTMESSAGE,c=e.PostMessageContainer):(c=this.findContainerConstructor(i),this.creativeType=c===e.VPAIDSWFContainer?e.CreativeType.SWF:e.CreativeType.JS),this.container.innerHTML="",this.status=e.LoaderStatus.LOADING;var d=function(c){a.status=e.VpaidStatus.LOADED,a.wrapperClass||(a.wrapperClass=a.creativeType!==e.CreativeType.SWF||e.VPAIDHelper.isVPAID2(c)?e.VPAIDWrapper:e.VPAID2Over1,e.AdManagerHelper.isAdManager(i)&&(a.wrapperClass=e.AdManagerWrapper));var d=new a.wrapperClass(s);try{o(d)}catch(t){var l=e.ErrorCode.SUCCESS_CALLBACK_ERROR;l.message+=t,r(l)}var p=e.VPAIDHelper.isVPAID2(c)?"2.0":"1.0";n.logger.info("handshakeVersion - Creative vpaid version "+p),a.wigoi&&a.wigoi.valid(3,1,p,t.Wigo.infoType.STRING)};s=new c(this.container,this.config),this.config.background&&s.setBackground(this.config.background),s.loadVpaid(i,d,r)}},n.prototype.findContainerConstructor=function(n){return n===e.BundledContainer.VIDEO||n===e.BundledContainer.CANVAS?e.BundledContainer:".swf"===t.URIHelper.parse(n).pathname.substr(-4)?e.VPAIDSWFContainer:e.VPAIDJSContainer},n.prototype.setWigoi=function(t){this.wigoi=t},n.logger=new t.Logger("vpaid.VPAIDLoader"),n}();e.VPAIDLoader=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(){}return t.prototype.fill=function(t){for(var e in t)void 0!==this[e]&&null!==this[e]||(this[e]=t[e])},t.prototype.isSDKBrowser=function(){return"SDK"===this.browser},t}();t.UserDevice=e}(n||(n={}))},function(t,e,n){n(133);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){this.userDevice=new t.UserDevice}return e}();t.UserStore=e}(i||(i={}))},function(t,e,n){n(203),n(179)},function(t,e,n){n(186),n(187),n(131),n(120),n(137)},function(t,e){},function(t,e,n){n(91),n(92),n(188),n(98)},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(9),n(81);var o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.init=function(){var n=this,i=this.config.countdown>=0||this.ui.getConfig().isSkippableAtMidPoint?this.config.countdown:this.ui.getConfig().skipoffset;if(this.eventName=t.vpaid.ui.VPAIDUIEvent.CollapseRequest,this.vpaid.subscribe(function(){n.videoEnded=!0},t.vpaid.VPAIDEvent.AdVideoComplete),this.config.listenSkippableState)this.vpaid.subscribe(function(){n.vpaid.getAdSkippableState()?n.show():n.hide()},t.vpaid.VPAIDEvent.AdSkippableStateChange);else if(i>0){var o=this.insertCountDownElement();this.countdown=new e.Countdown(this.ui,o,this.vpaid,{countdown:i}),this.countdown.setEndedCallback(function(){return n.onCountdownEnded()})}else 0!==i||this.ui.getConfig().isSkippableAtMidPoint?(this.showOnVideoStart=!1,this.countdownEnded=!0):(this.countdownEnded=!0,this.show())},o.prototype.onMethod=function(e,n){var i=this;this.countdown&&this.countdownInitiated&&!this.countdownEnded&&t.Option.of({pauseAd:function(){return i.countdown.pause()},resumeAd:function(){return i.countdown.resume()}}[e]).forEach(function(t){return t()})},o.prototype.show=function(){n.prototype.show.call(this);var e=this.getElement().getElementsByClassName("close-button icon-close")[0];this.countdownEnded&&t.HTMLHelper.removeClass(e,"hide")},o.prototype.onVideoStart=function(){this.countdownInitiated||this.config.listenSkippableState||(n.prototype.onVideoStart.call(this),this.countdown.init(),this.countdown.show(),this.countdownInitiated=!0,this.countdown.initTimer())},o.prototype.onClick=function(e){this.countdownEnded&&(this.videoEnded?n.prototype.onClick.call(this,e):(this.dispatchUiEvent(t.vpaid.ui.VPAIDUIEvent.CollapseRequest),this.vpaid.skipAd()))},o.prototype.insertCountDownElement=function(){var t=document.createElement("div");return t.className="countdown",this.getElement().appendChild(t),t},o.prototype.onCountdownEnded=function(){this.countdown.hide(),this.countdownEnded=!0,this.show()},o}(e.Component);e.CloseButton=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=window.teads=window.teads||{};!function(t){!function(t){!function(e){var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.FullscreenRequest="FullscreenRequest",e.PlayPauseRequest="PlayPauseRequest",e.SkipRequest="SkipRequest",e.UIButtonRequest="UIButtonRequest",e.ClickToPlayRequest="ClickToPlayRequest",e.ClickRequest="ClickRequest",e.CallRequest="CallRequest",e.SoundToggleRequest="SoundToggleRequest",e.ReplayRequest="ReplayRequest",e.EndscreenInit="EndscreenInit",e.CollapseRequest="CollapseRequest",e}(t.VPAIDEvent);e.VPAIDUIEvent=i}(t.ui||(t.ui={}))}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e){t.exports='<style> #{{countdown-id}} svg:nth-child(2) path { -webkit-animation: load {{countdown-duration}}s linear; -moz-animation: load {{countdown-duration}}s linear; -o-animation: load {{countdown-duration}}s linear; animation: load {{countdown-duration}}s linear; } </style> \x3c!-- Container --\x3e <ul class="countdown-circle" id="{{countdown-id}}"> \x3c!-- Item --\x3e <li data-countdown="{{countdown-duration}}" class="countdown-timer"> <svg viewBox="-10 -10 220 220"> <g fill="none" stroke-width="20" transform="translate(100,100)"> <path d="M 0,-100 A 100,100 0 0,1 86.6,-50" stroke="url(#cl1)"/> <path d="M 86.6,-50 A 100,100 0 0,1 86.6,50" stroke="url(#cl1)"/> <path d="M 86.6,50 A 100,100 0 0,1 0,100" stroke="url(#cl1)"/> <path d="M 0,100 A 100,100 0 0,1 -86.6,50" stroke="url(#cl1)"/> <path d="M -86.6,50 A 100,100 0 0,1 -86.6,-50" stroke="url(#cl1)"/> <path d="M -86.6,-50 A 100,100 0 0,1 0,-100" stroke="url(#cl1)"/> </g> </svg> <svg viewBox="-10 -10 220 220"> <path d="M200,100 C200,44.771525 155.228475,0 100,0 C44.771525,0 0,44.771525 0,100 C0,155.228475 44.771525,200 100,200 C155.228475,200 200,155.228475 200,100 Z" stroke-dashoffset="629"></path> </svg> </li> </ul> \x3c!-- Defining Angle Gradient Colors --\x3e <svg width="0" height="0"> <defs> <linearGradient id="cl1" gradientUnits="objectBoundingBox" x1="0" y1="0" x2="1" y2="1"> <stop stop-color="#FFFFFF"/> <stop offset="100%" stop-color="#FFFFFF"/> </linearGradient> </defs> </svg> '},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultLink={inRead:"http://inread-experience.teads.tv",inBoard:"http://teads.tv/en/teads-media/"},e}return i(e,t),e.prototype.init=function(){var t=/\[([^\]]*)\]/g;if(!this.config.text){var e="inRead";"inboard"===this.config.formatName&&(e="inBoard"),this.config.text="["+e+"] invented by Teads"}var n=this.config.text.replace(t,'<span class="teads-ui-component-credits-blue">$1</span>'),i=this.config.url||this.defaultLink[e]||"http://teads.tv/en";this.getElement().innerHTML='<a href="'+i+'" target="_blank">'+n+"</a>",this.show()},e}(t.Component);t.Credits=e}(t.component||(t.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){this.eventName=t.vpaid.ui.VPAIDUIEvent.FullscreenRequest,this.showOnVideoStart=!1,e.prototype.init.call(this),this.show()},n.prototype.bindClick=function(){var e=this;t.Dom.addEventListener("mousedown",this.getElement(),function(t){e.onClick(t)})},n}(e.Component);e.FullscreenButton=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultText="Advertising",e}return i(e,t),e.prototype.init=function(){var t=this.config.html&&""!==this.config.html?this.config.html:this.config.text||this.defaultText;this.getElement().innerHTML=t,this.getElement().setAttribute("style",this.config.style||""),this.show()},e}(t.Component);t.Label=e}(t.component||(t.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var n=this;this.eventName=t.vpaid.ui.VPAIDUIEvent.PlayPauseRequest,this.vpaid.subscribe(function(){n.onPause()},t.vpaid.VPAIDEvent.AdPaused),this.vpaid.subscribe(function(){n.onPause()},t.vpaid.VPAIDEvent.AdVideoComplete),this.vpaid.subscribe(function(){n.onPlay()},t.vpaid.VPAIDEvent.AdPlaying),this.vpaid.subscribe(function(){n.onPlay()},t.vpaid.VPAIDEvent.AdVideoStart),e.prototype.init.call(this)},n.prototype.onClick=function(t){e.prototype.onClick.call(this,t),this.isPlaying?this.vpaid.pauseAd():this.vpaid.resumeAd()},n.prototype.onPlay=function(){this.isPlaying=!0,t.HTMLHelper.addClass(this.getElement(),"playing")},n.prototype.onPause=function(){this.isPlaying=!1,t.HTMLHelper.removeClass(this.getElement(),"playing")},n}(e.Component);e.PlayPauseButton=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9),n(82);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(n){var o=function(n){function o(){var t=null!==n&&n.apply(this,arguments)||this;return t.showOnVideoProgress=!0,t}return i(o,n),o.prototype.init=function(){var e=this;if(this.progressbar=t.Dom.getElementsByClassName("progress",this.getElement(),this.ui.getContentWindow())[0],!this.progressbar)return this.hide();this.vpaid.subscribe(function(){e.onProgress()},t.vpaid.VPAIDEvent.AdRemainingTimeChange),this.vpaid.subscribe(function(){e.hide()},t.vpaid.VPAIDEvent.AdVideoComplete),n.prototype.init.call(this)},o.prototype.setShowOnVideoProgress=function(t){this.showOnVideoProgress=t},o.prototype.getShowOnVideoProgress=function(){return this.showOnVideoProgress},o.prototype.onProgress=function(){var t=e.VPAIDHelper.getCurrentTime(this.vpaid);this.vpaid.getAdDuration()>0&&t>0?(!this.isVisible()&&this.showOnVideoProgress&&this.show(),this.progressbar.style.width=t/this.vpaid.getAdDuration()*100+"%"):this.hide()},o}(n.Component);n.ProgressBar=o}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e){},function(t,e,n){n(9),n(82);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this;this.vpaid.subscribe(function(){var t=e.vpaid.getAdRemainingTime();isNaN(t)&&(t=e.vpaid.getAdDuration()),e.getElement().innerHTML="Your video in "+Math.ceil(t)+" sec"},t.vpaid.VPAIDEvent.AdRemainingTimeChange)},n}(e.Component);e.ProgressText=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(n){var o=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.init=function(){var i=this,o=this.ui.getConfig();if(this.eventName=t.vpaid.ui.VPAIDUIEvent.SkipRequest,this.config.listenSkippableState)return void this.hide();var r=setInterval(function(){if(!i.vpaid.getAdSkippableState()&&o.skipoffset>0){var t=Math.floor(o.skipoffset-e.VPAIDHelper.getCurrentTime(i.vpaid));i.getElement().innerHTML="Skip in "+(isNaN(t)?o.skipoffset:t<0?0:t)+" sec",i.show()}else i.vpaid.getAdSkippableState()&&(clearInterval(r),i.getElement().style.cursor="pointer",i.getElement().innerHTML="Skip Ad >>",i.show())},1e3);n.prototype.init.call(this)},o.prototype.onClick=function(t){n.prototype.onClick.call(this,t),this.vpaid.getAdSkippableState()&&this.vpaid.skipAd()},o}(n.Component);n.SkipButton=o}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(105);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(){function t(){}return t.EQUALIZER="equalizer",t.MUTE="mute",t}(),o=function(){function t(){}return t.OFF="icon-muteoff",t.ON="icon-muteon",t}(),r=function(e){function r(){var t=null!==e&&e.apply(this,arguments)||this;return t.paused=!1,t}return i(r,e),r.prototype.init=function(){var i=this;if(e.prototype.init.call(this),this.eventName=t.vpaid.ui.VPAIDUIEvent.SoundToggleRequest,this.config.type===n.EQUALIZER)this.initEqualizer();else{var r=document.createElement("div");r.className=o.OFF,this.getElement().appendChild(r);var a=function(){t.HTMLHelper.replaceClass(r,i.vpaid.getAdVolume()>0?o.OFF:o.ON,i.vpaid.getAdVolume()>0?o.ON:o.OFF)};this.vpaid.subscribe(a,t.vpaid.VPAIDEvent.AdVolumeChange),this.vpaid.subscribe(a,t.vpaid.VPAIDEvent.AdStarted)}},r.prototype.setAdVolume=function(){},r.prototype.onClick=function(t){this.config.type!==n.EQUALIZER&&e.prototype.onClick.call(this,t)},r.prototype.initEqualizer=function(){var e=this,n=document.createElement("div");n.className="equalizer",this.getElement().appendChild(n);for(var i=0;i<4;i++){var o=document.createElement("div");o.className="equalizer-bar equalizer-bar-"+i,o.style.left=String(3*i+i),n.appendChild(o)}var r=function(){if(!e.isPaused()){var i=t.Dom.getElementsByClassName("equalizer-bar",n,e.ui.getContentWindow());for(var o in i){var r=i[o];r&&r.style&&"none"!==r.style.display&&Math.random()>.5&&(r.style.height=Math.max(3,Math.floor(15*Math.random()+1))+"px")}}};r(),setInterval(r,200),this.vpaid.subscribe(function(){e.pause()},t.vpaid.VPAIDEvent.AdPaused),this.vpaid.subscribe(function(){e.resume()},t.vpaid.VPAIDEvent.AdPlaying)},r.prototype.resume=function(){this.paused=!1},r.prototype.pause=function(){this.paused=!0},r.prototype.isPaused=function(){return this.paused},r}(e.MuteButton);e.SoundButton=r}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.secondToTimecode=function(t){var e="00";if(t>60){e=Math.floor(t/60)<10?"0":""}return e+=":"+(t<10?"0":"")+t},t}();t.StringHelper=e}(t.ui||(t.ui={}))}(n||(n={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){this.showOnVideoStart=!1,this.eventName=t.vpaid.ui.VPAIDUIEvent.ClickToPlayRequest},n.prototype.onMethod=function(e,n){void 0===n&&(n=[]),"startAd"===e&&(this.show(),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdStarted))},n.prototype.getOverridenEvents=function(){return[t.vpaid.VPAIDEvent.AdStarted]},n.prototype.getOverridenMethods=function(){return["startAd"]},n.prototype.onClick=function(n){var i=this;e.prototype.onClick.call(this,n),t.HTMLHelper.addClass(this.getElement(),"loading"),this.vpaid.subscribe(function(){i.remove()},t.vpaid.VPAIDEvent.AdStarted),this.remove(),this.vpaid.startAd()},n}(e.Component);e.ClickToPlay=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this,n=!0;this.eventName=t.vpaid.ui.VPAIDUIEvent.UIButtonRequest,t.Dom.addEventListener("click",this.getElement(),function(i){e.onClick(i),n?e.ui.hideAllComponents():e.ui.showAllComponents(),e.ui.showComponent("uibutton"),n=!n,t.HTMLHelper.toggleClass(e.getElement(),"ui-invisible")})},n}(e.Component);e.UIButton=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(106);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this;if(this.clickthrough=this.ui.getConfig().clickthrough,this.eventName=t.vpaid.ui.VPAIDUIEvent.ClickRequest,this.config.text&&this.clickthrough){var n=document.createElement("div");n.className="text",n.innerHTML=this.config.text,this.getElement().appendChild(n)}else this.hide();this.vpaid.subscribe(function(){e.hide()},t.vpaid.VPAIDEvent.AdVideoComplete)},n.prototype.onVideoStart=function(){this.showOnVideoStart&&this.config.text&&this.clickthrough&&this.show()},n.prototype.onClick=function(n){e.prototype.onClick.call(this,n),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdClickThru,{url:this.clickthrough,id:this.config.id,playerHandles:!0})},n}(e.TextField);e.ClickButton=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(9),n(81);var o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var o=function(o){function r(){return null!==o&&o.apply(this,arguments)||this}return i(r,o),r.prototype.init=function(){var e=this;this.logger.debug("init endscreen"),this.showOnVideoStart=!1;var n=this.element.getAttribute("style");this.element.setAttribute("style",(n?n+";":"")+" opacity: 0.8!important; background-color: #ffffff;"),this.getElement().innerHTML=r.TEMPLATE,this.vpaid.subscribe(function(){if(e.logger.debug("video complete"),e.videoComplete=!0,e.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdVideoComplete),e.ui.getConfig().noAutoStop){e.show(),e.initLayout();var n=e.ui.getVPAIDContainer();n.style.filter="blur(3px)",n.style.webkitFilter="blur(3px)",e.dispatchVpaidEvent(t.vpaid.ui.VPAIDUIEvent.EndscreenInit)}},t.vpaid.VPAIDEvent.AdVideoComplete),this.vpaid.subscribe(function(){e.videoComplete&&!e.ui.getConfig().noAutoStop&&(e.show(),e.initLayout(),e.dispatchVpaidEvent(t.vpaid.ui.VPAIDUIEvent.EndscreenInit))},t.vpaid.VPAIDEvent.AdStopped),this.hide()},r.prototype.getOverridenEvents=function(){return this.videoComplete?[t.vpaid.VPAIDEvent.AdStopped]:[t.vpaid.VPAIDEvent.AdVideoComplete]},r.prototype.getOverridenMethods=function(){return this.isVisible()?["pauseAd","resumeAd"]:[]},r.prototype.onOverridenMethod=function(t,e){this.countdown&&("pauseAd"===t?this.countdown.pause():"resumeAd"===t&&this.countdown.resume())},r.prototype.onMethod=function(e,n){void 0===n&&(n=[]),"resizeAd"===e&&this.videoComplete&&(this.logger.debug("resizeAd from endscreen",n),this.resize(n[0],n[1]),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdSizeChange))},r.prototype.initLayout=function(){var n=this;if(this.replayButton=t.Dom.getElementsByClassName("replay-button",this.getElement(),this.ui.getContentWindow())[0],this.replayButton){t.Dom.addEventListener("click",this.replayButton,function(){n.onReplayClick()});try{t.Dom.getElementsByClassName("text",this.replayButton,this.ui.getContentWindow())[0].innerHTML=this.config.replayButton.text}catch(t){this.logger.error("No text on replay button")}t.Context.isEdgeTouchScreen()&&(this.replayButton.className="button edge-touch-screen replay-button")}else this.logger.debug("No replayButton on endscreen !");if(this.callButton=t.Dom.getElementsByClassName("call-button",this.getElement(),this.ui.getContentWindow())[0],this.callButton&&this.config.callButton&&this.ui.getConfig().clickthrough){if(t.Dom.addEventListener("click",this.callButton,function(){n.dispatchUiEvent(t.vpaid.ui.VPAIDUIEvent.ClickRequest),n.onActionClick()}),this.config.callButton.text){var i=this.callButton.querySelector(".icon span");if(i){var o=r.CSSClassMapping[this.config.callButton.type]||function(){for(var t in r.CSSClassMapping)return r.CSSClassMapping[t]}();t.HTMLHelper.addClass(i,o)}try{t.Dom.getElementsByClassName("text",this.callButton,this.ui.getContentWindow())[0].innerHTML=this.config.callButton.text}catch(t){this.logger.error("No text on callButton")}t.Context.isEdgeTouchScreen()&&(this.callButton.className="button edge-touch-screen call-button")}}else this.callButton&&this.callButton.parentNode&&this.callButton.parentNode.removeChild(this.callButton),this.logger.debug("No callButton on endscreen !");this.closeButton=t.Dom.getElementsByClassName("close-button",this.getElement(),this.ui.getContentWindow())[0],this.closeButton?this.config.closeButton.disable||this.config.closeButton.listenSkippableState&&!this.vpaid.getAdSkippableState()?(t.HTMLHelper.removeClass(this.closeButton,"show"),t.HTMLHelper.addClass(this.closeButton,"hide")):t.Dom.addEventListener("click",this.closeButton,function(){n.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdUserClose),n.closeAd()}):this.logger.debug("No closeButton on endscreen !");var a=t.Dom.getElementsByClassName("countdown",this.getElement(),this.ui.getContentWindow())[0];a?(this.countdown=new e.Countdown(this.ui,a,this.vpaid,{countdown:this.config.countdown}),this.config.autoClose&&this.countdown.setEndedCallback(function(){n.logger.debug("Countdown ended and autoClose on, close ad"),n.closeAd()}),this.countdown.init(),this.countdown.initTimer(),this.countdown.show()):this.logger.debug("No countdown on endscreen"),this.resize(this.ui.getAdWidth(),this.ui.getAdHeight())},r.prototype.resize=function(e,n){if(!(e<=0||n<=0)){var i=t.Dom.getElementsByClassName("button-container",this.getElement())[0];if(i){i.style.top="0px",i.style.left="0px";var o=t.Dom.getBoundingClientRect(i),r=(n-o.height)/2,a=(e-o.width)/2;i.style.top=r+"px",i.style.left=a+"px"}}},r.prototype.onClick=function(t){},r.prototype.onReplayClick=function(){this.clearCloseInterval(),this.ui.getConfig().noAutoStop&&this.vpaid.stopAd(),this.videoComplete=!1,this.dispatchUiEvent(t.vpaid.ui.VPAIDUIEvent.ReplayRequest)},r.prototype.onActionClick=function(){var e=this.ui.getConfig().clickthrough||null;this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdClickThru,{url:e,id:null,playerHandles:!0})},r.prototype.clearCloseInterval=function(){this.countdown&&(this.countdown.removeEndedCallback(),this.countdown.stopTimer())},r.prototype.closeAd=function(){this.clearCloseInterval(),this.ui.stopAd()},r.CSSClassMapping={learnMore:"icon-learnmore",shopNow:"icon-shop",contactUs:"icon-contact",signUp:"icon-signup"},r.TEMPLATE=n(156),r}(e.Component);e.EndScreen=o}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e){t.exports='<div class="button-container"> <div class="button replay-button"> <div class="icon"><span class="icon-replay"></span></div> <div class="text"></div> </div> <div class="button call-button"> <div class="icon"><span></span></div> <div class="text"></div> </div> </div> <div class="close-button"><div class="icon-closeendscreen"></div></div> <div class="countdown"></div> '},function(t,e){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=window.teads=window.teads||{};!function(t){!function(e){!function(e){var i=function(e){function i(){return null!==e&&e.apply(this,arguments)||this}return n(i,e),i.prototype.init=function(){var e=this;this.clickthrough=this.ui.getConfig().clickthrough,this.eventName=t.vpaid.ui.VPAIDUIEvent.ClickRequest;var n=function(){e.getElement().style.setProperty("background-image","url("+e.config.url+")")};this.load(n)},i.prototype.load=function(t){var e=this,n=new Image;n.onload=function(){return t()},n.onerror=function(t){return e.hide()},n.src=this.config.url},i.prototype.onVideoStart=function(){this.showOnVideoStart&&this.show()},i.prototype.onClick=function(n){e.prototype.onClick.call(this,n),this.clickthrough&&this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdClickThru,{url:this.clickthrough,id:this.config.id,playerHandles:!0})},i}(e.Component);e.BrandLogo=i}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(i||(i={}))},function(t,e,n){n(9);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.init=function(){var e=this;this.showOnVideoStart=!1,this.element.style.zIndex="2",this.show(),this.vpaid.subscribe(function(){return e.hide()},t.vpaid.VPAIDEvent.AdStarted)},n}(e.Component);e.StartScreen=n}(e.component||(e.component={}))}(t.ui||(t.ui={}))}(o||(o={}))},function(t,e,n){n(80);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.getOverridenEvents=function(e){var n=[];return t.ArrayHelper.map(e,function(e){t.ArrayHelper.map(e.getOverridenEvents(),function(i){e.isEnabled()&&-1===t.ArrayHelper.indexOf(n,i)&&n.push(i)})}),n},e.getOverridenEventComponents=function(e,n){return t.ArrayHelper.filter(e,function(e){return e.isEnabled()&&-1!==t.ArrayHelper.indexOf(e.getOverridenEvents(),n)})},e.getOverridenMethodComponents=function(e,n){return t.ArrayHelper.filter(e,function(e){return e.isEnabled()&&-1!==t.ArrayHelper.indexOf(e.getOverridenMethods(),n)})},e.showHideComponent=function(t,e,n){void 0===n&&(n=!0);var i=t[e];i&&i.isEnabled()&&(n?i.show():i.hide())},e.showHideAllComponents=function(e,n){void 0===n&&(n=!0),t.ArrayHelper.forEach(e,function(t){t.isEnabled()&&(n?t.show():t.hide())})},e}();e.ComponentHelper=n}(t.ui||(t.ui={}))}(i||(i={}))},function(t,e,n){t.exports='<!doctype html> <html> <head></head> <body> <div id="main-container"> <style> '+n(161)+' </style> <div id="layout-video-component"> <div class="teads-ui-component-startscreen"></div> <div id="vpaid-container"></div> <div class="teads-ui-component-fullscreenbutton"> <div class="icon-collapse"></div> </div> <div class="teads-ui-component-progressbar"> <div class="progress"></div> </div> <div class="teads-ui-component-soundbutton"></div> <div class="teads-ui-component-closebutton"> <div class="close-button icon-close hide"></div> </div> <div class="teads-ui-component-clickbutton"></div> <div class="teads-ui-component-brandlogo"></div> <div class="teads-ui-component-clicktoplay gradient"> <div class="icon-watchmore"></div> </div> <div class="teads-ui-component-endscreen"></div> </div> </div> </body> </html> '},function(t,e,n){t.exports="/** include component first, to get the fonts loaded **/ "+n(162)+" "+n(163)+" /** Simulate the PlayerClick component from AdServer */ .teads-ui-component-fullscreenbutton { position: absolute; top: 0; right: 0; width: 100%; height: 100%; background: none; } /** Will be over the closeButton on fullscreen, to simulate closeButton click */ .fullscreen .teads-ui-component-fullscreenbutton, .fullscreen .teads-ui-component-fullscreenbutton .show { width: 45px; height: 45px; z-index: 10 !important; } /** Display icon-collapse on fullscreen **/ .teads-ui-component-fullscreenbutton .icon-collapse { display: none; margin-top: 10px; margin-left: 20px; } .fullscreen .teads-ui-component-fullscreenbutton .icon-collapse { display: block; } /** Hide close button when fullscreen, because collapse button is displayed **/ .fullscreen .teads-ui-component-closebutton .icon-close { display: none; } "},function(t,e){t.exports="body { margin: 0px; padding: 0px; border: none; -webkit-touch-callout: none; -webkit-user-select: none; -khtml-user-select: none; -moz-user-select: none; -ms-user-select: none; user-select: none; font-family: 'Helvetica', Arial, sans-serif !important; font-weight: 300; } #layout-video-component { width: 100%; height: 100%; position: relative; } #vpaid-container { z-index: 1; background-color: #000000; /* To prevent white endScreen in case of VPAID JS */ position: relative; } .teads-ui-component-progressbar { position: absolute; bottom: 0px; left: 0px; width: 100%; } .teads-ui-component-progressbar .progress { height: 3px; width: 0%; background-color: #86C3F7; transition: all .4s linear; } .teads-ui-component-playpausebutton { position: absolute; bottom : 10px; left: 10px; width: 20px; height: 20px; background-image: url(\"{{assetsPath}}/default/img/play.png\"); background-position: top left; background-repeat: no-repeat; background-size: contain; cursor: pointer; } .teads-ui-component-playpausebutton.playing { background-image: url(\"{{assetsPath}}/default/img/pause.png\"); } .teads-ui-component-fullscreenbutton { position: absolute; bottom : 5px; right: 30px; width: 16px; height: 16px; background-image: url(\"{{assetsPath}}/default/img/fullscreen.png\"); background-position: top left; background-repeat: no-repeat; background-size: contain; cursor: pointer; } .teads-ui-component-progresstext { height: 30px; margin: 0px 40px 0px 60px; text-align: center; padding: 4px; } .teads-ui-component-skipbutton { position: absolute; bottom: 40px; right: 4px; width: 100px; height: 20px; font-family: 'Helvetica', Arial, sans-serif !important; background-color: #CCCCCC; text-align: center; padding: 4px; border: 1px solid #000000; } /****************************************************************************** * Label component *****************************************************************************/ .teads-ui-component-label { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 12px; color: #999; text-align: center; padding: 3px 0; text-transform: uppercase; height: 21px; line-height: 21px; display: none; } .sm-screen .teads-ui-component-label, .xs-screen .teads-ui-component-label { font-size: 10px; } .fullscreen .teads-ui-component-label, .fullscreen .teads-ui-component-label.show { display: none !important; } /****************************************************************************** * Credit component *****************************************************************************/ .teads-ui-component-credits { font-size: 12px; color: #999; text-align: right; padding: 3px 0; height: 26px; line-height: 26px; display: none; } .fullscreen .teads-ui-component-credits, .fullscreen .teads-ui-component-credits.show { display: none !important; } .sm-screen .teads-ui-component-label, .xs-screen .teads-ui-component-label{ font-size: 10px; } .teads-ui-component-credits a { color: #999; text-decoration: none; } .teads-ui-component-credits-blue { color: #79BBE9; } /****************************************************************************** * Start soundbutton styles *****************************************************************************/ .teads-ui-component-soundbutton { position: absolute; bottom : 0; right: 0; padding: 13px 18px 18px 6px; cursor: pointer; display: none; opacity: 0; transition: opacity 175ms linear; } .teads-ui-component-soundbutton.show { display: block; opacity: .8; } .teads-ui-component-soundbutton:hover { opacity: 1; } .teads-ui-component-soundbutton .equalizer { position: absolute; bottom: 7px; right: 5px; cursor: default; } .teads-ui-component-soundbutton.show .equalizer { display: none; } .teads-ui-component-soundbutton.show.muted .equalizer { display: block; } /****************************************************************************** * Start closebutton and countdownclosebutton styles *****************************************************************************/ .teads-ui-component-closebutton { position: absolute; top: 0; right: 0; padding: 15px; cursor: pointer; display: none; transition: opacity 175ms linear; } /** disable SVG animation on closebutton countdown */ .teads-ui-component-closebutton svg { display: none; } .teads-ui-component-closebutton .countdown { display: none; position: absolute; left: 2px; bottom: 20px; } /** White countdown */ .teads-ui-component-closebutton .countdown .countdown-circle>li { color: #FFFFFF; } .teads-ui-component-closebutton .countdown.show { display: block; } .fullscreen .teads-ui-component-closebutton .countdown.show { display: none!important; } .teads-ui-component-closebutton.show { display: block; } .teads-ui-component-closebutton.show .close-button { opacity: .8; } .teads-ui-component-closebutton.show:hover .close-button.show { opacity: 1; } .sm-screen .teads-ui-component-closebutton .closebutton, .xs-screen .teads-ui-component-closebutton .closebutton { padding: 10px 10px 15px 15px; } /****************************************************************************** * Start clickthroughbutton styles *****************************************************************************/ .teads-ui-component-clickbutton { display: none; position: absolute; top: 0px; left: 0px; cursor: pointer; -webkit-transition: background-color .250s; /* Safari */ transition: background-color .250s; } .teads-ui-component-clickbutton .text { font-size: 12px; white-space: nowrap; max-height: 30px; text-align: center; background-color: rgba(0,0,0,0.10); border: 1px solid #FFFFFF; color: white; margin: 10px; padding: 6px 10px; } .teads-ui-component-clickbutton .text:hover { background-color: rgba(0,0,0,0.25); } .sm-screen .teads-ui-component-clickbutton .text, .xs-screen .teads-ui-component-clickbutton .text { margin: 5px; padding: 5px; } /****************************************************************************** * Start clicktoplay styles *****************************************************************************/ .teads-ui-component-clicktoplay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background-color: #000000; cursor: pointer; display: none; z-index: 10 !important; } .teads-ui-component-clicktoplay .icon-watchmore { position: absolute; top: 50%; left: 50%; margin-left: -8px; margin-right: -10px; opacity: .8; transition: opacity 175ms linear; } .sm-screen .teads-ui-component-clicktoplay .icon-watchmore, .xs-screen .teads-ui-component-clicktoplay .icon-watchmore { margin-left: -5px; margin-right: -7px; } .teads-ui-component-clicktoplay:hover .icon-watchmore { opacity: 1; } /****************************************************************************** * Start endScreen styles *****************************************************************************/ .teads-ui-component-endscreen { position: absolute; width: 100%; height: 100%; top: 0; left: 0; z-index: 10 !important; background-color: #000000; text-align: center; word-spacing: nowrap; opacity: 0; display: none; transition: opacity 175ms ease; } .teads-ui-component-endscreen.show { display: block !important; opacity: 1 !important; } /* hide svg animation on endscreen */ .teads-ui-component-endscreen .countdown .countdown-timer svg { opacity: 0; } .teads-ui-component-endscreen .countdown { position: absolute; bottom: 18px; left: 18px; color: white; } .sm-screen .teads-ui-component-endscreen .countdown, .xs-screen .teads-ui-component-endscreen .countdown { bottom: 5px; left: 5px; } .teads-ui-component-endscreen .close-button { position: absolute; top: 0; right: 0; padding: 15px; cursor: pointer; } .teads-ui-component-endscreen .button-container { position: absolute; } .teads-ui-component-endscreen .button { display: block; width: 100%; height: 70px; margin-bottom: 40px; cursor: pointer; transition: opacity 175ms ease; } .sm-screen .teads-ui-component-endscreen .button { margin-bottom: 15px !important; height: 40px; } .xs-screen .teads-ui-component-endscreen .button { margin-bottom: 15px !important; height: 32px; } .xs-screen .teads-ui-component-endscreen .button.replay-button { margin-bottom: 15px !important; } .teads-ui-component-endscreen .button:last-child { margin-bottom: 0 !important; } .teads-ui-component-endscreen.show .button { opacity: 0.8!important; } .teads-ui-component-endscreen.show .button:hover { opacity: 1!important; } .teads-ui-component-endscreen.show .button.edge-touch-screen { opacity: 0.8!important; } .teads-ui-component-endscreen.show .button.edge-touch-screen:hover { opacity: 0.8!important; } .teads-ui-component-endscreen .button .icon { float: left; border-radius: 35px; border: 2px solid white; border-color: #294355; height: 66px; /* 70 - border * 2 */ width: 66px; } .sm-screen .teads-ui-component-endscreen .button .icon { height: 36px; /* 70 - border * 2 */ width: 36px; } .xs-screen .teads-ui-component-endscreen .button .icon { border-width: 1px; height: 30px; /* 70 - border * 2 */ width: 30px; } .teads-ui-component-endscreen .button .icon span { display:block; margin: 18px 22px; height: 30px; width: 30px; } .sm-screen .teads-ui-component-endscreen .button .icon span { margin: 7px 10px; height: 20px; width: 16px; } .xs-screen .teads-ui-component-endscreen .button .icon span { margin: 4px 6px; height: 20px; width: 16px; } .teads-ui-component-endscreen .button .text { float: left; line-height: 70px; height: 70px; font-size: 23px; color: #294355; padding-left: 25px; } .sm-screen .teads-ui-component-endscreen .button .text { line-height: 40px; height: 40px; padding-left: 20px; font-size: 17px; } .xs-screen .teads-ui-component-endscreen .button .text { line-height: 30px; height: 30px; font-size: 14px; padding-left: 15px; } .teads-ui-component-endscreen .countdown { display: none; color: #294355; } .teads-ui-component-uibutton.ui-invisible { text-decoration: line-through; } .teads-ui-component-uibutton { position: absolute; bottom: 5px; right: 5px; width: 16px; height: 16px; text-align: center; vertical-align: middle; border: 1px solid #000000; color: #000000; user-select: none; -moz-user-select: none; -webkit-user-select: none; -ms-user-select: none; cursor: pointer; text-decoration: none; background-color: #FFFFFF; font-size: 12px; } /****************************************************************************** * Countdown animation CSS *****************************************************************************/ /* Load animation */ @-webkit-keyframes load{0%{stroke-dashoffset:0}} @keyframes load{0%{stroke-dashoffset:0}} /* Container */ .countdown-circle { position: relative; display: inline-block; padding: 0; margin: 0; text-align: center; } .countdown-circle>li:after { content: attr(data-countdown); position: absolute; width: 100%; top: 0.3rem; left: 0; font-size: 1rem; text-align: center; } /* Item */ .countdown-circle>li { display: inline-block; position: relative; text-align: center; color: #93A2AC; font-family: 'Helvetica', Arial, sans-serif !important; font-weight:100; } .countdown-circle svg { width: 30px; height: 30px; } .countdown-circle svg:nth-child(2) { position: absolute; left: 0; top: 0; transform: rotate(-90deg); -webkit-transform: rotate(-90deg); -moz-transform: rotate(-90deg); -ms-transform: rotate(-90deg); } .countdown-circle svg:nth-child(2) path { fill: none; stroke-width: 20; stroke-dasharray: 629; stroke: #999; opacity:.9; } /****************************************************************************** * Equalizer animation CSS *****************************************************************************/ .equalizer { height: 20px; width: 16px; position: relative; } .equalizer .equalizer-bar { position: absolute; left: 0; bottom: 0; width: 3px; height: 12px; background-color: white; transition: height 1s ease; } .equalizer .equalizer-bar-1 { left:4px; } .equalizer .equalizer-bar-2 { left:8px; } .equalizer .equalizer-bar-3 { left:12px; } /****************************************************************************** * Brand Logo CSS *****************************************************************************/ .teads-ui-component-brandlogo { display: none; opacity: .8; cursor: pointer; /* position */ position: absolute; bottom: 0px; left: 0px; margin-left: 10px; margin-bottom: 18px; webkit-transition: background-color .250s; /* Safari */ transition: background-color .250s; /* size */ width: 20%; height: 10%; max-height: 50px; /* background */ background-repeat: no-repeat; background-position-x: left; background-position-y: bottom; background-size: contain; } .sm-screen .teads-ui-component-brandlogo, .xs-screen .teads-ui-component-brandlogo { margin-left: 5px; width: 30%; height: 15%; } /****************************************************************************** * Start Screen CSS *****************************************************************************/ .teads-ui-component-startscreen { width: 100%; height: 100%; position: absolute; -webkit-box-shadow: inset 0px 0px 85px rgba(0,0,0,0.1); -moz-box-shadow: inset 0px 0px 85px rgba(0,0,0,0.1); box-shadow: inset 0px 0px 85px rgba(0,0,0,0.1); background-color: #FFFFFF; } /****************************************************************************** * Common style : Keep it at the bottom to get CSS rules priority *****************************************************************************/ .show { display: block!important; } .show:hover { opacity: 1!important; } .hide { display: none; opacity: 0; } "},function(t,e){t.exports='.icon-book { width: 26px; height: 29px; background-position: 0 0; } .xs-screen .icon-book, .sm-screen .icon-book { width: 18px; height: 20px; background-position: -35px 0; } .icon-close { width: 15px; height: 15px; background-position: -60px 0; } .xs-screen .icon-close, .sm-screen .icon-close { width: 11px; height: 11px; background-position: -80px 0; } .icon-closeendscreen { width: 15px; height: 15px; background-position: -100px 0; } .xs-screen .icon-closeendscreen, .sm-screen .icon-closeendscreen { width: 11px; height: 11px; background-position: -120px 0; } .icon-collapse { width: 15px; height: 15px; background-position: -140px 0; } .icon-contact { width: 28px; height: 23px; background-position: -160px 0; } .xs-screen .icon-contact, .sm-screen .icon-contact { width: 20px; height: 16px; background-position: -195px 0; } .icon-download { width: 20px; height: 25px; background-position: -220px 0; } .xs-screen .icon-download, .sm-screen .icon-download { width: 14px; height: 17px; background-position: -245px 0; } .icon-equalizer { width: 15px; height: 15px; background-position: -265px 0; } .xs-screen .icon-equalizer, .sm-screen .icon-equalizer { width: 11px; height: 11px; background-position: -285px 0; } .icon-learnmore { width: 23px; height: 28px; background-position: -305px 0; } .xs-screen .icon-learnmore, .sm-screen .icon-learnmore { width: 17px; height: 20px; background-position: -335px 0; } .icon-muteoff { width: 22px; height: 15px; background-position: -360px 0; } .xs-screen .icon-muteoff, .sm-screen .icon-muteoff { width: 16px; height: 11px; background-position: -390px 0; } .icon-muteon { width: 22px; height: 15px; background-position: -415px 0; } .xs-screen .icon-muteon, .sm-screen .icon-muteon { width: 16px; height: 11px; background-position: -445px 0; } .icon-replay { width: 23px; height: 29px; background-position: -470px 0; } .xs-screen .icon-replay, .sm-screen .icon-replay { width: 16px; height: 20px; background-position: -500px 0; } .icon-shop { width: 29px; height: 29px; background-position: -525px 0; } .xs-screen .icon-shop, .sm-screen .icon-shop { width: 20px; height: 20px; background-position: -560px 0; } .icon-signup { width: 26px; height: 31px; background-position: -585px 0; } .xs-screen .icon-signup, .sm-screen .icon-signup { width: 18px; height: 22px; background-position: -620px 0; } .icon-watchmore { width: 16px; height: 20px; background-position: -645px 0; } .xs-screen .icon-watchmore, .sm-screen .icon-watchmore { width: 11px; height: 14px; background-position: -670px 0; } .icon-book, .icon-close, .icon-closeendscreen, .icon-collapse, .icon-contact, .icon-download, .icon-equalizer, .icon-learnmore, .icon-muteoff, .icon-muteon, .icon-replay, .icon-shop, .icon-signup, .icon-watchmore { background-size: 690px 40px; } .no-svg .icon-book, .no-svg .icon-close, .no-svg .icon-closeendscreen, .no-svg .icon-collapse, .no-svg .icon-contact, .no-svg .icon-download, .no-svg .icon-equalizer, .no-svg .icon-learnmore, .no-svg .icon-muteoff, .no-svg .icon-muteon, .no-svg .icon-replay, .no-svg .icon-shop, .no-svg .icon-signup, .no-svg .icon-watchmore { background-image: url("{{assetsPath}}/default/player-sprite.png"); } .icon-book, .icon-close, .icon-closeendscreen, .icon-collapse, .icon-contact, .icon-download, .icon-equalizer, .icon-learnmore, .icon-muteoff, .icon-muteon, .icon-replay, .icon-shop, .icon-signup, .icon-watchmore { background-image: url("{{assetsPath}}/default/player-sprite.svg"); } '},function(t,e,n){n(99);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.get=function(n){var i,o=this;return n&&n.extensions&&n.extensions.length>0&&t.ArrayHelper.forEach(n.extensions,function(t){t.type===o.EXTENSION_TYPE&&(i=e.parse(t.content))}),i},e.isStudioLinearAd=function(t){return!!this.get(t)},e.parse=function(e){try{return t.JSON.parse(e)}catch(e){new t.Logger("TeadsStudioExtension").error(this.EXTENSION_TYPE+" extension throw an exception",e)}},e.EXTENSION_TYPE="teads-studio",e}();e.TeadsStudioExtension=n}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(134),n(28),n(183);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e,n,i){var o=this;this.linearAd=e,this.sessionStore=n,this.sumologic=i,this.logger=new t.Logger("VASTEventTracker"),this.tracker=new t.tracker.Tracker(t.Option.empty(),n.sumologicSessionId),n.wigo.forEach(function(t){return o.tracker.setWigoi(t)});var r=this;for(var a in this.linearAd.tracking)!function(e){t.ArrayHelper.forEach(r.linearAd.tracking[e]||[],function(t,n,i){o.tracker.addResource(e,t.url,t.data)})}(a)}return e.getVastDomain=function(e){return e.wrappers.length>0?t.URIHelper.getMainDomain(t.URIHelper.parse(e.wrappers[e.wrappers.length-1]).hostname):e.url?t.URIHelper.getMainDomain(t.URIHelper.parse(e.url).hostname):"teads"},e.getTrackingMacros=function(e,n,i,o,r,a){var s={};return s[t.Constant.TrackingMacro.CONTENTPLAYHEAD]=e.filter(function(t){return t>=0}).match({some:t.Utils.offset,none:function(){return"0"}}),s[t.Constant.TrackingMacro.CACHEBUSTING]=t.StringHelper.rand(8),s[t.Constant.TrackingMacro.ERRORCODE]=n.map(String).getOrElse(function(){return""}),s[t.Constant.TrackingMacro.ASSETURI]=i.getOrElse(function(){return""}),s[t.Constant.TrackingMacro.MEDIAFILETYPE]=o.getOrElse(function(){return"unknown"}),s[t.Constant.TrackingMacro.VIEWABILITY]=r.map(String).getOrElse(function(){return"0"}),a.forEach(function(e){s[t.Constant.TrackingMacro.BUNDLEID]=e.userDevice.appId,s[t.Constant.TrackingMacro.DEVICEID]=e.userDevice.device,s[t.Constant.TrackingMacro.LIMIT_TRACKING]=String(e.userOptOut)}),s},e.prototype.getTracker=function(){return this.tracker},e.prototype.track=function(n,i,o,r,a,s,c){var d=this;void 0===c&&(c=t.Option.empty());var l=e.getTrackingMacros(o,a.map(function(t){return t.getId()}),i.map(function(t){return t.url.toString()}),i.map(function(e){return t.Utils.getExtensionFromMimeType(e.type)}),s,c);if(this.tracker.track(n,l,o.orNull(),r.orNull()),"error"===n){var p=a.map(function(t){return t.getId()}).getOrElse(function(){return 0}),u=a.map(function(t){return t.getMessage()}).getOrElse(function(){return""});this.logger.error({id:p,msg:u,ua:navigator.userAgent,mediafile:i}),this.sumologic.canSend()&&t.Try.of(function(){i.map(function(e){return{type:t.Option.of(e.type),url:t.Option.of(e.url)}}).match({some:function(e){var n=e.type,i=e.url,o=t.Utils.getExtensionFromMimeType(n.getOrElse(function(){return"-"}));i.match({some:function(e){var n=t.URIHelper.parse(e),i=n.pathname.split(";")[0],r=i.split("/").pop(),a=t.URIHelper.getMainDomain(n.hostname);d.trackErrorOnSumo(d.sumologic,p,u,o,r,a)},none:function(){d.trackErrorOnSumo(d.sumologic,p,u,o,"-","-")}})},none:function(){d.trackErrorOnSumo(d.sumologic,p,u,"-","-","-")}})}).recover(function(t){d.sumologic.sendError("VASTEventTracker "+t),d.logger.error("VASTEventTracker sumologic error tracker throw an exception",t)})}},e.prototype.trackError=function(e,n){this.track("error",e,t.Option.empty(),t.Option.empty(),t.Option.of(n),t.Option.empty())},e.prototype.trackErrorOnSumo=function(n,i,o,r,a,s){var c=t.URIHelper.parse(this.linearAd.url),d=0===c.protocol.indexOf("https:")?1:0,l=e.getVastDomain(this.linearAd),p=this.linearAd.wrappers.length,u=function(e){return t.URIHelper.getMainDomain(t.URIHelper.parse(e).hostname)},h=function(t,e){return e<p-1},f=t.ArrayHelper.filter(t.ArrayHelper.map(this.linearAd.wrappers,u),h).join(",")||"-",g=function(e){return t.Utils.getExtensionFromMimeType(e.type)},m=function(e,n,i){return t.ArrayHelper.indexOf(i,e)===n},v=t.ArrayHelper.filter(t.ArrayHelper.map(this.linearAd.mediaFiles,g),m).join(",")||"-",y="-";t.ArrayHelper.forEach(this.linearAd.extensions,function(t){"MoatJs"===t.type&&t.definition&&t.definition.id&&(y=t.definition.id)});var A=[i,o,l,d,s,a,r,v,f,this.sessionStore.pageId?this.sessionStore.pageId:"-",this.sessionStore.placementId?this.sessionStore.placementId:"-",y].join("|");n.sendError(A)},e}();e.VASTEventTracker=n}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(167),n(168);var i=window.teads=window.teads||{};!function(t){!function(t){!function(e){e.VideoWrapper=function(t){this._wrappedVideo=t},e.VideoWrapper.prototype=Object.create(HTMLElement.prototype);for(var n in e.HTMLVideoProperties)e.HTMLVideoProperties.hasOwnProperty(n)&&function(n,i){t.helper.ObjectHelper.defineProperty(e.VideoWrapper.prototype,n,function(){return this._wrappedVideo[n]},function(t){i&&(this._wrappedVideo[n]=t)})}(n,e.HTMLVideoProperties[n]);e.VideoWrapper.prototype.addEventListener=function(t,e,n){void 0===n&&(n=!1),this._wrappedVideo.addEventListener(t,e,n)},e.VideoWrapper.prototype.canPlayType=function(t){return this._wrappedVideo.canPlayType()},e.VideoWrapper.prototype.load=function(){this._wrappedVideo.load()},e.VideoWrapper.prototype.pause=function(){this._wrappedVideo.pause()},e.VideoWrapper.prototype.play=function(){this._wrappedVideo.play()},e.VideoWrapper.prototype.getVideoPlaybackQuality=function(){return this._wrappedVideo.getVideoPlaybackQuality()},e.VideoWrapper.prototype.webkitEnterFullscreen=function(){return this._wrappedVideo.webkitEnterFullscreen()},e.VideoWrapper.prototype.webkitExitFullscreen=function(){this._wrappedVideo.webkitExitFullscreen()},e.VideoWrapper.prototype.webkitEnterFullScreen=function(){this.webkitEnterFullscreen()},e.VideoWrapper.prototype.webkitExitFullScreen=function(){this.webkitExitFullscreen()}}(t.dom||(t.dom={}))}(t.video||(t.video={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t.HTMLVideoProperties={poster:!0,width:!0,height:!0,videoHeight:!1,videoWidth:!1,buffered:!1,duration:!1,ended:!1,error:!1,networkState:!1,paused:!1,played:!1,readyState:!1,seekable:!1,seeking:!1,currentSrc:!1,autoplay:!0,controls:!0,currentTime:!0,loop:!0,muted:!1,defaultMuted:!0,playbackRate:!1,defaultPlaybackRate:!1,preload:!1,src:!0,volume:!0,audioTracks:!1,textTracks:!1,videoTracks:!1}}(t.dom||(t.dom={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(){}return t.defineProperty=function(t,e,n,i){Object.defineProperty(t,e,function(){var t={enumerable:!0,configurable:!0,get:function(){return n.call(this)},set:function(t){}};return i&&(t.set=function(t){i.call(this,t)}),t}())},t}();t.ObjectHelper=e}(t.helper||(t.helper={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(){}return t.abort="abort",t.canplay="canplay",t.canplaythrough="canplaythrough",t.durationchange="durationchange",t.emptied="emptied",t.encrypted="encrypted",t.ended="ended",t.error="error",t.interruptbegin="interruptbegin",t.interruptend="interruptend",t.loadeddata="loadeddata",t.loadedmetadata="loadedmetadata",t.loadstart="loadstart",t.pause="pause",t.play="play",t.playing="playing",t.progress="progress",t.ratechange="ratechange",t.seeked="seeked",t.seeking="seeking",t.stalled="stalled",t.suspend="suspend",t.timeupdate="timeupdate",t.volumechange="volumechange",t.waiting="waiting",t}();t.MediaEvent=e}(t.dom||(t.dom={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(){this.ranges=[]}return Object.defineProperty(t.prototype,"length",{get:function(){return this.ranges.length},enumerable:!0,configurable:!0}),t.prototype.addRange=function(t,e){this.ranges.push({start:t,end:e})},t.prototype.start=function(t){return this.ranges[t].start},t.prototype.end=function(t){return this.ranges[t].end},t}();t.TimeRanges=e}(t.dom||(t.dom={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(){}return t.isPercentValue=function(t){return String(t).indexOf("%")>-1},t.getPercentValue=function(t){return parseInt(t.replace("%",""),10)/100},t.isPixelValue=function(t){return String(t).indexOf("px")>-1},t.getPixelValue=function(t){return parseInt(t.replace("px",""),10)},t.getBooleanValue=function(t){return"true"===t||"false"!==t&&!!t},t.parseAttributes=function(e){["width","height","src","preload","autoplay","loop"].forEach(function(n){e.hasAttribute(n)&&t.updateAttribute(e,n)})},t.updateAttribute=function(e,n){var i=e.getAttribute(n);switch(n){case"width":case"height":e.style[n]=i+(t.isPercentValue(i)||t.isPixelValue(i)?"":"px");break;case"src":case"preload":e[n]=i;break;case"autoplay":case"loop":e[n]=t.getBooleanValue(i)}},t}();t.CustomElementHelper=e}(t.helper||(t.helper={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(){function e(){}return e.ping=function(e,n){var i,o,r,a=t.Request.createXmlHttpRequest(),s=Date.now(),c=function(e){i||(clearTimeout(r),i=Date.now()-s,o=i<=100?1e3:i<200?700:i<400?500:300,n(i,o),(new t.Sumologic).sendInfo("ping "+[i,e].join(";")))};r=setTimeout(function(){return c("timeout")},500),a.open("HEAD",e+(e.indexOf("?")>-1?"&":"?")+s,!0),a.addEventListener("load",function(){return c("load")}),a.addEventListener("error",function(){return c("error")}),a.send()},e}();e.NetworkHelper=n}(e.helper||(e.helper={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){!function(t){t[t.MEDIA_ERR_ABORTED=1]="MEDIA_ERR_ABORTED",t[t.MEDIA_ERR_NETWORK=2]="MEDIA_ERR_NETWORK",t[t.MEDIA_ERR_DECODE=3]="MEDIA_ERR_DECODE",t[t.MEDIA_ERR_SRC_NOT_SUPPORTED=4]="MEDIA_ERR_SRC_NOT_SUPPORTED"}(t.MediaError||(t.MediaError={}))}(t.constant||(t.constant={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){},function(t,e,n){n(83),n(45),n(87);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){this.status=t.vpaid.VpaidStatus.READY,this.eventHandler=new t.vpaid.EventHandler,this.trackingRaised={AdVideoFirstQuartile:!1,AdVideoMidpoint:!1,AdVideoThirdQuartile:!1},this.parameters={},this.skippable=!1,this.expanded=!1}return n.prototype.getVPAID=function(){return this},n.prototype.handshakeVersion=function(t){return"2.0"},n.prototype.subscribe=function(t,e,n){this.eventHandler.subscribe(t,e,n)},n.prototype.unsubscribe=function(t,e){this.eventHandler.unsubscribe(t,e)},n.prototype.initAd=function(n,i,o,r,a,s){var c=this;this.status=t.vpaid.VpaidStatus.LOADING,this.width=n,this.height=i,this.viewMode=o,t.AdParameterHelper.decode(a).match({success:function(n){for(var i in n)n.hasOwnProperty(i)&&(c.parameters[i]=n[i]);if(c.environmentVars=s,c.environmentVars.videoSlot||(c.environmentVars.videoSlot=e.PLAYER=e.PLAYER||document.createElement("video")),c.environmentVars.videoSlot.setAttribute&&(c.environmentVars.videoSlot.setAttribute("webkit-playsinline","true"),c.environmentVars.videoSlot.setAttribute("playsinline","true"),t.Context.isAndroid()&&t.Context.isChromeWebView()&&null===c.environmentVars.videoSlot.getAttribute("poster")&&c.environmentVars.videoSlot.setAttribute("poster",t.Constant.base64TransparentPixel),null===c.environmentVars.videoSlot.getAttribute("muted")&&c.environmentVars.videoSlot.setAttribute("muted","true")),!c.environmentVars.slot)return void c.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,"no slot provided in environmentVars");c.video=c.environmentVars.videoSlot,c.createContainer(c.environmentVars.slot)},failure:function(e){c.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,"invalid creative data: "+a)}})},n.prototype.startAd=function(){this.status=t.vpaid.VpaidStatus.STARTING},n.prototype.skipAd=function(){this.status=t.vpaid.VpaidStatus.SKIPPING},n.prototype.stopAd=function(){this.status=t.vpaid.VpaidStatus.STOPPING},n.prototype.resizeAd=function(t,e,n){this.width=t,this.height=e,this.viewMode=n},n.prototype.expandAd=function(){return!1},n.prototype.collapseAd=function(){return!1},n.prototype.getAdLinear=function(){return!0},n.prototype.getAdWidth=function(){return this.width},n.prototype.getAdHeight=function(){return this.height},n.prototype.getAdExpanded=function(){return t.HTMLHelper.isFullscreen()||this.expanded},n.prototype.getAdSkippableState=function(){return this.skippable},n.prototype.getAdCompanions=function(){return""},n.prototype.getAdIcons=function(){return!1},n.prototype.getAdDuration=function(){throw"not implemented"},n.prototype.getAdRemainingTime=function(){throw"not implemented"},n.prototype.getStatus=function(){return this.status},n.prototype.createContainer=function(t){this.container||(this.container=document.createElement("div"),this.container.style.position="relative",t.appendChild(this.container))},n.prototype.onAdVideoCompleteDispatched=function(){var t=this;this.parameters.noAutoStop?(this.video.addEventListener("seeked",function(){t.video.pause()},!1),this.video.currentTime=1):this.stopAd()},n.prototype.dispatchVpaidEvent=function(e,n){this.handleVPAIDEvent(new t.vpaid.VPAIDEvent(e,n))},n.prototype.handleVPAIDEvent=function(e){if(!(this.status===t.vpaid.VpaidStatus.SKIPPING&&e.type!==t.vpaid.VPAIDEvent.AdSkipped||this.status===t.vpaid.VpaidStatus.STOPPING&&e.type!==t.vpaid.VPAIDEvent.AdStopped||this.status<=t.vpaid.VpaidStatus.STOPPED||this.status===t.vpaid.VpaidStatus.STOPPING&&e.type!==t.vpaid.VPAIDEvent.AdStopped)){switch(e.type){case t.vpaid.VPAIDEvent.AdLoaded:this.status=t.vpaid.VpaidStatus.LOADED;break;case t.vpaid.VPAIDEvent.AdStarted:this.status=t.vpaid.VpaidStatus.STARTED;break;case t.vpaid.VPAIDEvent.AdVideoStart:case t.vpaid.VPAIDEvent.AdPlaying:this.status=t.vpaid.VpaidStatus.PLAYING;break;case t.vpaid.VPAIDEvent.AdPaused:this.status=t.vpaid.VpaidStatus.PAUSED;break;case t.vpaid.VPAIDEvent.AdVideoComplete:this.status=t.vpaid.VpaidStatus.COMPLETE;break;case t.vpaid.VPAIDEvent.AdSkipped:this.status=t.vpaid.VpaidStatus.SKIPPED;break;case t.vpaid.VPAIDEvent.AdStopped:this.status=t.vpaid.VpaidStatus.STOPPED;break;case t.vpaid.VPAIDEvent.AdDurationChange:case t.vpaid.VPAIDEvent.AdRemainingTimeChange:var n=this.getAdDuration(),i=n-this.getAdRemainingTime();n>0&&i>=.25*n&&!this.trackingRaised.AdVideoFirstQuartile?this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdVideoFirstQuartile):n>0&&i>=.5*n&&!this.trackingRaised.AdVideoMidpoint?this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdVideoMidpoint):n>0&&i>=.75*n&&!this.trackingRaised.AdVideoThirdQuartile&&this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdVideoThirdQuartile);break;case t.vpaid.VPAIDEvent.AdVideoFirstQuartile:case t.vpaid.VPAIDEvent.AdVideoMidpoint:case t.vpaid.VPAIDEvent.AdVideoThirdQuartile:if(this.trackingRaised[e.type])return;this.trackingRaised[e.type]=!0;break;case t.vpaid.VPAIDEvent.AdVideoComplete:this.status=t.vpaid.VpaidStatus.COMPLETE}this.eventHandler.handleEvent(e),this.status===t.vpaid.VpaidStatus.SKIPPED&&this.stopAd(),e.type===t.vpaid.VPAIDEvent.AdVideoComplete&&this.onAdVideoCompleteDispatched()}},n.prototype.handleException=function(e,n){var i='method "'+n+'" threw an exception: '+e.toString();this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdLog,i),this.dispatchVpaidEvent(t.vpaid.VPAIDEvent.AdError,i)},n}();e.BaseVPAIDCreative=n}(t.video||(t.video={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){var e=function(){function t(t,e,n){this.id=n,this.layer=document.createElement("div"),this.layer.className+="vpaid-clickthrough",this.layer.style.cursor="pointer",this.layer.style.opacity="0",this.layer.style.backgroundColor="#FFFFFF",this.layer.style.position="absolute",this.layer.style.zIndex="65000",this.layer.addEventListener("click",function(i){t(e,n,!0)},!1)}return t.prototype.resize=function(t,e){this.layer.style.width=t+"px",this.layer.style.height=e+"px"},t.prototype.remove=function(){this.layer.parentNode&&this.layer.parentNode.removeChild(this.layer)},t.prototype.append=function(t){t.firstChild?t.insertBefore(this.layer,t.firstChild):t.appendChild(this.layer)},t}();t.ClickThrough=e}(t.component||(t.component={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.HAVE_NOTHING=0]="HAVE_NOTHING",t[t.HAVE_METADATA=1]="HAVE_METADATA",t[t.HAVE_CURRENT_DATA=2]="HAVE_CURRENT_DATA",t[t.HAVE_FUTURE_DATA=3]="HAVE_FUTURE_DATA",t[t.HAVE_ENOUGH_DATA=4]="HAVE_ENOUGH_DATA"}(t.NetworkState||(t.NetworkState={}));!function(t){t[t.NETWORK_EMPTY=0]="NETWORK_EMPTY",t[t.NETWORK_IDLE=1]="NETWORK_IDLE",t[t.NETWORK_LOADING=2]="NETWORK_LOADING",t[t.NETWORK_NO_SOURCE=3]="NETWORK_NO_SOURCE"}(t.ReadyState||(t.ReadyState={}))}(t.video||(t.video={}))}(n||(n={}))},function(t,e,n){n(135)},function(t,e){},function(t,e){},function(t,e,n){n(85),n(190),n(96),n(92),n(88),n(91);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){}return n.parse=function(n,i,o){var r=new e.LinearAd;try{var a=e.XMLHelper.getXMLDoc(n),s=a.documentElement;if("VAST"!==s.tagName)return o(new t.VastException(t.VastException.XML_PARSE),r);for(var c=s.getElementsByTagName("Error"),d=0,l=c.length;d<l;d++){var p=e.XMLHelper.getNodeContent(c[d]);p&&r.tracking.error.push({url:p,data:null})}var u=s.getElementsByTagName("Ad")[0];if(!u)return o(new t.VastException(t.VastException.NO_ADS),r);if(r.version=parseInt(e.XMLHelper.getAttributeValue(s,"version"),10),r.version<2)return o(new t.VastException(t.VastException.UNSUPPORTED_VERSION),r);var h=u.getElementsByTagName("Creative")[0];h&&(r.creativeId=e.XMLHelper.getAttributeValue(h,"id")||e.XMLHelper.getAttributeValue(h,"adID"));var f=!!u.getElementsByTagName("Wrapper").length,g=u.getElementsByTagName("Linear")[0];if(!f&&!g)return o(new t.VastException(t.VastException.LINEARITY),r);r.id=e.XMLHelper.getAttributeValue(u,"id"),r.adTagUri=e.XMLHelper.getNodeContent(u.getElementsByTagName("VASTAdTagURI")[0]),r.title=e.XMLHelper.getNodeContent(u.getElementsByTagName("AdTitle")[0]),r.adSystem=e.XMLHelper.getNodeContent(u.getElementsByTagName("AdSystem")[0]);for(var m=u.getElementsByTagName("ClickThrough"),v=0,y=m.length;v<y;v++)r.clickThrough.push(e.XMLHelper.getNodeContent(m[v]));for(var A=u.getElementsByTagName("Impression"),v=0,y=A.length;v<y;v++)r.tracking.impression.push({url:e.XMLHelper.getNodeContent(A[v]),data:null});var E=u.getElementsByTagName("ClickTracking");for(v=0,y=E.length;v<y;v++)r.tracking.click.push({url:e.XMLHelper.getNodeContent(E[v]),data:null});if(g){var w=t.Utils.seconds(e.XMLHelper.getAttributeValue(g,"skipoffset"));r.skippable=!isNaN(w),r.skipDelay=w||0,r.duration=t.Utils.seconds(e.XMLHelper.getNodeContent(g.getElementsByTagName("Duration")[0])),r.adParameters=e.XMLHelper.getNodeContent(g.getElementsByTagName("AdParameters")[0]);var b=g.getElementsByTagName("Tracking");for(v=0,y=b.length;v<y;v++){var S=e.XMLHelper.getAttributeValue(b[v],"event");if(r.tracking.hasOwnProperty(S)){var C=null;if("progress"===S)if(C=e.XMLHelper.getAttributeValue(b[v],"offset"),C.indexOf(":")>0)C=t.Utils.seconds(C);else{var T=t.StringHelper.trim(C).match(/^([0-9\.]+)%$/);if(!T){this.logger.error("Wrong offset for progress tracking: "+C);continue}C=r.duration*parseInt(T[1],10)/100}r.tracking[S].push({url:e.XMLHelper.getNodeContent(b[v]),data:C})}}var I=g.getElementsByTagName("MediaFile");for(v=0,y=I.length;v<y;v++){var V=I[v],P=e.XMLHelper.getAttributeValue(V,"type");r.mediaFiles.push({type:P,url:e.XMLHelper.getNodeContent(V),width:parseInt(e.XMLHelper.getAttributeValue(V,"width"),10),height:parseInt(e.XMLHelper.getAttributeValue(V,"height"),10),delivery:e.XMLHelper.getAttributeValue(V,"delivery"),bitrate:parseInt(e.XMLHelper.getAttributeValue(V,"bitrate"),10),api:e.XMLHelper.getAttributeValue(V,"apiFramework"),scalable:!!e.XMLHelper.getAttributeValue(V,"scalable"),id:e.XMLHelper.getAttributeValue(V,"id"),minBitrate:parseInt(e.XMLHelper.getAttributeValue(V,"minBitrate"),10),maxBitrate:parseInt(e.XMLHelper.getAttributeValue(V,"maxBitrate"),10),maintainAspectRatio:!!e.XMLHelper.getAttributeValue(V,"maintainAspectRatio"),codec:e.XMLHelper.getAttributeValue(V,"codec"),adParameters:/(javascript|flash)/g.test(P)?r.adParameters:null})}}var _=u.getElementsByTagName("Extension"),O=t.JSON.parse(t.JSON.stringify(r));for(v=0,y=_.length;v<y;v++)r.extensions.push({type:e.XMLHelper.getAttributeValue(_[v],"type"),content:e.XMLHelper.getNodeContent(_[v]),xml:_[v],definition:O});i(r)}catch(e){var x=t.Exception.get(t.VastException.UNDEFINED.id,"VASTParser.parse error",e);o(x,r)}},n.logger=new t.Logger("vast.VASTParser"),n}();e.VASTParser=n}(t.vast||(t.vast={}))}(i||(i={}))},function(t,e,n){n(123),n(92),n(191),n(96),n(122),n(71);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){}return n.logXhr=function(e){try{t.player.playerSumologic.sendInfo("xhr "+Number(e))}catch(t){}},n.load=function(i,o,r,a,s){var c=this;void 0===s&&(s=!0),i=n.updateUrlPlaceholder(i),n.logXhr(Number(s));var d=i.match(/\/\/.*/);i=d?t.Utils.getProtocol()+d[0]:i,this.logger.debug("Loading VAST file URL:",i," - credentials:",s);var l,p=!1,u=function(d){if(clearTimeout(l),!p&&s)return c.logger.warn("load file with credentials failed, try without credentials before flash proxy"),void n.load(i,o,r,a,!1);c.logger.warn("load file with javascript failed"),!p&&t.FlashHelper.hasFlash()?n.loadWithFlash(i,o,r,a):(n.logXhr(3),c.logger.warn("Error loading URL",i),a(d,new e.LinearAd))};try{var h=t.Request.createXmlHttpRequest();h.open("GET",i,!0),h.withCredentials=s;var f=function(){if(clearTimeout(l),!p){f=function(){};var e;if("string"==typeof h.responseXML)e=h.responseXML;else if("string"==typeof h.responseText)e=h.responseText;else{if("string"!=typeof h.response)return void u(t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"empty xhr response"));e=h.response}n.logXhr(Number(s)),r(t.StringHelper.trim(e))}};t.Request.isXMLHttpRequest(h)?h.onreadystatechange=function(){if(4===h.readyState){if(h.status<200||h.status>=400){var e=t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"invalid XHR status code "+h.status);return c.logger.warn("server return an invalid status code : "+e.toString()),404===h.status&&(p=!0),u(e)}f()}}:(h.onerror=function(){return u(t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"XHR onerror"))},h.onprogress=function(){},h.onload=function(){return f()}),h.send();var g=o.timeout||e.VASTLib.TIMEOUT;l=setTimeout(function(){p=!0,u(t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"no response after "+g+"ms"))},g)}catch(e){this.logger.warn("Could not load XML file directly",e),p=!0,u(t.Exception.get(t.VastException.UNDEFINED.id,"VASTLoader.load error "+e,e))}},n.loadWithFlash=function(i,o,r,a){var s=this,c="vastloader_"+Date.now()+"_"+Math.round(1e3*Math.random());this.logger.debug("try loading file with flash cors proxy",c);var d,l=o.timeout||e.VASTLib.TIMEOUT,p=!1;window[c]=function(o,l){if(!p){if(clearTimeout(d),o)n.logXhr(2),s.logger.debug("Flash CORS proxy successfully load VAST file",i),r(t.StringHelper.trim(decodeURIComponent(l)));else{s.logger.error("Unable to load VAST file with flash CORS proxy"),n.logXhr(3);var u=t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"flash CORS proxy fail to load XML");a(u,new e.LinearAd)}window[c]=void 0}};var u=o.assetsUrl+"/"+e.asset.corsswf,h=document.createElement("div");h.innerHTML='<object id="'+c+'" name="'+c+'" data="'+u+'" type="application/x-shockwave-flash" width="0" height="0"><param name="allowScriptAccess" value="always"/><param name="movie" value="'+u+'"/><param name="flashvars" value="url='+encodeURIComponent(i)+"&handler="+c+'"/></object>',document.body.appendChild(h),d=setTimeout(function(){p=!0;var n=t.Exception.get(t.VastException.WRAPPER_TIMEOUT.id,"flash cors have no response after "+l+"ms");a(n,new e.LinearAd)},l)},n.updateUrlPlaceholder=function(e){try{var n=t.StringHelper.rand(8);return e.replace(/\[timestamp\]/gi,String(Date.now())).replace(/\[(random|cachebusting|random_number|TTD_CACHEBUSTER)\]/gi,n).replace(/ord=(%n|\{RANDOMNUM\}|%25%25TTD_CACHEBUSTER%25%25)/gi,"ord="+n)}catch(t){this.logger.warn("updateUrlPlaceholder threw an exception: "+t)}return e},n.logger=new t.Logger("vast.VASTLoader"),n}();e.VASTLoader=n}(t.vast||(t.vast={}))}(i||(i={}))},function(t,e,n){n(219),n(211),n(212),n(138),n(220),n(221),n(222),n(223),n(224),n(225),n(226),n(165),n(27),n(41),n(103),n(13),n(124),n(132);var i=window.teads=window.teads||{};!function(t){!function(e){e.playerSumologic=new t.Sumologic;var n=function(){function n(n,i,o){var r=this;this.container=n,this.config=i,this.sessionStore=o,this.logger=new t.Logger("player.VASTPlayer"),this.plugins={},this.logger.info("new VASTPlayer",this.container,this.config),this.vastLib=new t.vast.VASTLib({assetsUrl:this.config.path,replaceIASVPAID:this.config.replaceIASVPAID}),i.disableSumologic||(e.playerSumologic.init(t.Sumologic.CONFIGS.PLAYER,this.sessionStore.sumologicSessionId),e.playerSumologic.sendMetadata("2.18.66;"+t.Context.getContextSummary())),this.sessionStore.wigo.forEach(function(t){t.valid(2,0),t.setPlayerContainer(r.container)})}return n.prototype.loadVast=function(t,e,n){this.vastLib.load(t,this.getOnVastLoadedCallback(e),this.getOnVastErrorCallback(n))},n.prototype.parseVast=function(t,e,n){this.vastLib.parse(t,this.getOnVastLoadedCallback(e),this.getOnVastErrorCallback(n))},n.prototype.setLinearAd=function(n){this.linearAd=n,this.vastTracker=new e.VASTEventTracker(n,this.sessionStore,e.playerSumologic),this.logger.info("setLinearAd",n),this.sessionStore.wigo.forEach(function(e){return e.valid(2,1,n,t.Wigo.infoType.MODAL)})},n.prototype.getLinearAd=function(){return this.linearAd},n.prototype.getMediafile=function(){return this.mediafile},n.prototype.getConfig=function(){return this.config},n.prototype.showCloseButton=function(){this.ui.showComponent("closebutton")},n.prototype.setConfigUI=function(t){this.config.ui=t},n.prototype.getOptimalMediaFile=function(n,i,o){var r=this;return void 0===o&&(o={}),e.MediaFileHelper.getOptimalMediaFile(this.linearAd.mediaFiles,o,function(o,a){if(o)r.sessionStore.wigo.forEach(function(e){return e.valid(2,2,o.url+a,t.Wigo.infoType.STRING)}),n(o);else{var s=t.Exception.get(t.VastException.UNSUPPORTED_MEDIAFILE.id,"VASTPlayer.getOptimalMediaFile didn't find mediafile");r.sessionStore.wigo.forEach(function(e){return e.valid(2,2,a,t.Wigo.infoType.ERROR)}),r.onVastError(i,s,r.linearAd)}e.MediaFileHelper.sendMediasToSumologic(r.linearAd,o?1:0)},this.config)},n.prototype.playOptimalMediaFile=function(t,e,n){var i=this;this.getOptimalMediaFile(function(t){i.playMediaFile(t,e,n)},n,t)},n.prototype.loadOptimalMediaFile=function(t,e){var n=this;this.getOptimalMediaFile(function(i){n.loadMediaFile(i,t,e)},e)},n.prototype.playMediaFile=function(e,n,i){if(!e){var o=t.Exception.get(t.VastException.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.playMediaFile");return this.onVastError(i,o,this.linearAd)}var r=function(e,i){n(e,i),e.subscribe(function(){e.startAd()},t.vpaid.VPAIDEvent.AdLoaded),e.initAd(i.width,i.height,i.mode,i.bitrate,i.parameters)};this.loadMediaFile(e,r,i)},n.prototype.loadMediaFile=function(i,o,r){var a=this,s=function(t){a.onVastError(r,t,a.linearAd)};if(!i)return s(t.Exception.get(t.VastException.UNSUPPORTED_MEDIAFILE.id,"no mediafile provided in VASTPlayer.loadMediaFile"));this.mediafile=i;var c=e.MediaFileHelper.getMediaProvider(i),d=i.url,l=this.config.width?this.config.width:this.container.offsetWidth,p={width:l,height:this.config.height?this.config.height:e.MediaFileHelper.getOptimalHeight(i,l),mode:"normal",bitrate:i.bitrate||512,parameters:this.linearAd.adParameters},u=this.linearAd.clickThrough.length?this.linearAd.clickThrough[0]:null,h=function(e){s(t.Exception.get(t.VastException.UNSUPPORTED_MEDIAFILE.id,e))},f=this.config.useCustomVideo||!1,g=!1,m=!!t.vast.IAS.getExtension(this.linearAd);switch(c){case e.MediaProvider.VPAID:if(u=null,"display"===this.config.adType||"native"===this.config.adType)break;"vpaid"===i.api&&i.type.indexOf("javascript")>-1&&(t.Context.isIos()&&!t.Context.isWhiteListedIos10Safari()?f=!0:this.config.type===e.PLAYER_TYPE.CANVAS&&(f=!0),t.Context.cacheCanvasUsed(f));break;case e.MediaProvider.FLASH:case e.MediaProvider.JS:case e.MediaProvider.CANVAS:d=this.config.path+"/"+e.MediaFileHelper.getAssetFromMediaProvider(c),c===e.MediaProvider.JS?d=t.vpaid.BundledContainer.VIDEO:c===e.MediaProvider.CANVAS&&(d=t.vpaid.BundledContainer.CANVAS,m&&(d=t.vpaid.BundledContainer.VIDEO,f=!0));var v=this.config.path.match("/dist")||0===this.config.path.indexOf("http")?this.config.path.match("/dist")&&0!==this.config.path.indexOf("http")?window.location.protocol+window.location.host+this.config.path:this.config.path:window.location.protocol+this.config.path;g=function(){try{return!a.config.ui.config.components.endscreen.disable}catch(t){return!1}}(),p.parameters={url:i.url,debug:this.config.debug,clickThrough:u,skippable:this.linearAd.skippable,skipoffset:this.linearAd.skipDelay,assetsPath:v,type:e.PLAYER_TYPE[this.config.type],sumologicSessionId:this.sessionStore.sumologicSessionId.getOrElse(function(){return null}),noAutoStop:g,timeout:n.MEDIAFILE_TIMEOUT_DELAY},c===e.MediaProvider.FLASH?p.parameters=t.JSON.stringify(p.parameters):p.parameters={AdParameters:t.JSON.stringify(p.parameters)},t.vpaid.Timeout.initAd=n.MEDIAFILE_TIMEOUT_DELAY+2e3;break;case e.MediaProvider.UNSUPPORTED:default:return h("media not supported "+i.type)}if(c===e.MediaProvider.FLASH&&!t.FlashHelper.hasFlash()||c===e.MediaProvider.VPAID&&!t.FlashHelper.hasFlash()&&i.url.indexOf(".swf")>-1)return h("Flash plugin is required");var y={path:this.config.path,useCustomVideo:f,api:this.config.vpaidApi};t.vpaid.Timeout.loadVpaid=n.MEDIAFILE_TIMEOUT_DELAY,this.config.background&&(y.background=this.config.background);var A=this.container;if(this.config.ui){var E;if(this.config.ui.template)E=this.config.ui.template;else{if(!t.ui.template[this.config.ui.name]){var w=t.Exception.get(t.VastException.UNDEFINED.id,"VASTPlayer: cannot find template for VPAID-UI");return s(w)}E=t.ui.TemplateHelper.replacePlaceholders(t.ui.template[this.config.ui.name],{assetsPath:this.config.path+"/assets"})}this.config.ui.config=this.config.ui.config||{},this.config.ui.config.clickthrough=u,c===e.MediaProvider.VPAID&&(this.config.ui.config.vpaidUrl=i.url),this.config.ui.config.noAutoStop=g,this.ui&&this.ui.getContainer()&&(this.config.ui.config.container=this.ui.getContainer()),this.ui=new t.ui.VPAIDUI(this.container,E,this.config.ui.config),A=this.ui.getVPAIDContainer()}var b=new t.vpaid.VPAIDLoader(A,y);this.sessionStore.wigo.forEach(function(t){return b.setWigoi(t)});var S=function(n){a.sessionStore.wigo.forEach(function(t){return t.valid(3,0)}),a.config.ui?(a.ui.setVPAID(n),a.vpaidAd=a.ui):a.vpaidAd=n,a.sessionStore.wigo.forEach(function(t){return a.vpaidAd.setWigoi(t)});for(var r in e.plugin)try{var d=e.plugin[r];a.plugins[r]&&a.plugins[r].deinit(),a.plugins[r]=new d(a.container,a.config,a.vpaidAd,i,a.linearAd,a.vastTracker),a.plugins[r].init()}catch(t){a.logger.error("Could not initialize plugin "+r,t)}try{o(a.vpaidAd,p)}catch(e){var l=t.Exception.get(t.VastException.UNDEFINED.id,"loadMediaFile success callback failled "+e,e);s(l)}a.logger.info("loadMediaFile",e.MediaProvider[c]),a.sessionStore.wigo.forEach(function(n){return n.valid(2,3,e.MediaProvider[c],t.Wigo.infoType.STRING)})};b.load(d,S,function(e){var n=t.VastException.UNDEFINED.id;switch(e.id){case t.vpaid.ErrorCode.GETVPAIDAD_EXCEPTION.id:case t.vpaid.ErrorCode.FLASH_SECURITY_ERROR.id:case t.vpaid.ErrorCode.FLASH_UNKNOWN_ERROR.id:case t.vpaid.ErrorCode.FLASH_INIT_ERROR.id:n=t.VastException.GENERAL.id;break;case t.vpaid.ErrorCode.LOAD_VPAID_FILE_NOT_FOUND.id:case t.vpaid.ErrorCode.FLASH_IO_ERROR.id:n=t.VastException.FILE_NOT_FOUND.id;break;case t.vpaid.ErrorCode.LOAD_VPAID_TIMEOUT.id:n=t.VastException.MEDIAFILE_TIMEOUT.id;break;case t.vpaid.ErrorCode.FLASH_PLUGIN_MISSING.id:n=t.VastException.UNSUPPORTED_MEDIAFILE.id}var i=e.message||"vpaidloader error";s(t.Exception.get(n,i))})},n.prototype.getPlugin=function(t){return this.plugins[t]},n.prototype.getPlugins=function(){return this.plugins},n.prototype.hasMoatExtension=function(e){return void 0===e&&(e=this.linearAd),!!e&&t.ArrayHelper.filter(e.extensions||[],function(t){return"MoatJs"===t.type}).length>0},n.prototype.getOnVastLoadedCallback=function(t){var e=this;return function(n){e.setLinearAd(n),t(e.linearAd)}},n.prototype.getOnVastErrorCallback=function(t){var e=this;return function(n,i){e.setLinearAd(i),e.onVastError(t,n,i)}},n.prototype.onVastError=function(e,n,i){this.vastTracker.trackError(t.Option.of(this.mediafile),n),e(n,i)},n.MEDIAFILE_TIMEOUT_DELAY=15e3,n}();e.VASTPlayer=n}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(89),n(227);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(e,n){void 0===n&&(n=0),this.isSizeResolved=!1,this.scoreValues={WIDTH:20,HEIGTH:20,LENGTH:20,HIGH_MIN_SLOT:-5,LOW_MIN_SLOT:500,EQUAL_MIN_SLOT:1e3},this.element=e,this.index=n;var i=t.Dom.getSize(e);this.width=i.width,this.height=i.height}return n.prototype.resolveSize=function(){if(!this.isSizeResolved){var e=this.element.style.overflow;this.element.style.overflow="hidden";var n=t.Dom.getSize(this.element);n.height=n.width/t.Constant.DEFAULT_VIDEO_SIZE_RATIO,this.element.style.overflow=e,this.width=n.width,this.height=n.height,this.isSizeResolved=!0}},n.prototype.getElement=function(){return this.element},n.prototype.getElementRect=function(){return this.elementRect?this.elementRect:(this.elementRect=t.Dom.getBoundingClientRect(this.element),this.elementRect)},n.prototype.getWidth=function(){return this.width},n.prototype.getHeight=function(){return this.height},n.prototype.getScore=function(){return this.score},n.prototype.getIndex=function(){return this.index},n.prototype.computeScore=function(n){var i=e.Checker.configScore,o=0,r=n.minimum.get(),a=n.parentWindow.getWindow();this.width>n.minimumWidth.get()+i.WIDTH_MARGIN&&(o+=this.scoreValues.WIDTH),this.height>i.MIN_LONG_HEIGHT+i.HEIGHT_MARGIN&&(o+=this.scoreValues.HEIGTH),this.height>n.minimumTextLength.get()+i.LENGTH_MARGIN&&(o+=this.scoreValues.LENGTH),this.index>r+i.LENGTH_MARGIN?o+=this.scoreValues.EQUAL_MIN_SLOT:this.index>=0&&r?o+=this.scoreValues.HIGH_MIN_SLOT:o+=this.scoreValues.LOW_MIN_SLOT;var s=t.Dom.getBoundingClientRect(this.getElement()),c=a.document.body||a.document.documentElement;o-=(s.top+(a.pageYOffset||c.scrollTop))/20,this.score=o},n}();e.Slot=n}(t.placement||(t.placement={}))}(i||(i={}))},function(t,e,n){n(25);var i=window.teads=window.teads||{};!function(t){var e=function(){function t(t){this.pageId=t.PageId,this.placementId=t.PlacementId,this.wigo=t.Wigo,this.sumologicSessionId=t.SumologicSessionId}return t}();t.SessionStore=e;var n=function(){function n(e,n){this.pageId=e,this.placementId=n,this.wigoOption=t.Option.empty(),this.sumologicSessionIdOption=t.Option.empty()}return Object.defineProperty(n.prototype,"PageId",{get:function(){return this.pageId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"PlacementId",{get:function(){return this.placementId},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"Wigo",{get:function(){return this.wigoOption},enumerable:!0,configurable:!0}),n.prototype.setWigo=function(e){return this.wigoOption=t.Option.of(e),this},Object.defineProperty(n.prototype,"SumologicSessionId",{get:function(){return this.sumologicSessionIdOption},enumerable:!0,configurable:!0}),n.prototype.setSumologicSessionId=function(e){return this.sumologicSessionIdOption=t.Option.of(e),this},n.prototype.build=function(){return new e(this)},n}();t.SessionStoreBuilder=n}(i||(i={}))},function(t,e,n){n(7),n(215),n(28);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,n){var i=e.call(this,"Vast")||this;return i.type=t.type,i.content=t.content,i.pid=n,i.appendPID(),i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){if(!t.Utils.isString(this.type)||!n.VALUES[this.type.toUpperCase()])throw new t.FormatException(t.FormatException.OPTION_VAST_INVALID);if(!t.Utils.isString(this.content))throw new t.FormatException(t.FormatException.OPTION_VAST_INVALID)},n.prototype.isVastUrl=function(){return this.type===n.VALUES.VASTURL},n.prototype.isVastXml=function(){return this.type===n.VALUES.VASTXML},n.prototype.isDisplayUrl=function(){return this.type===n.VALUES.DISPLAYURL},n.prototype.isDisplayXml=function(){return this.type===n.VALUES.DISPLAYXML},n.prototype.getContent=function(){return this.content},n.prototype.extractInsertionId=function(){var t,e="";return this.isVastUrl()&&(t=this.content.match(/get\/(\d+)/),t?e=t[1]:(t=this.content.match(/[&|\?]gid=(\d+)/))&&(e=t[1])),e},n.prototype.appendPID=function(){var e=t.URIHelper.parse(this.content);this.isVastUrl()&&"a.teads.tv"===e.hostname&&this.pid&&(this.content+=-1===this.content.indexOf("?")?"?":"&",this.content+="pid="+this.pid)},n.VALUES={VASTURL:"VastUrl",VASTXML:"VastXml",DISPLAYURL:"DisplayUrl",DISPLAYXML:"DisplayXml"},n}(e.AbstractOption);e.Vast=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(84)},function(t,e,n){n(8),n(189)},function(t,e){},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){}return n.getXMLDoc=function(i){var o;if(n.supportActiveX){try{o=new ActiveXObject("Msxml2.DOMDocument.6.0"),e.VASTParser.logger.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.6.0")}catch(t){try{o=new ActiveXObject("Msxml2.DOMDocument.3.0"),e.VASTParser.logger.debug("XML Parser - ActiveXObject - Msxml2.DOMDocument.3.0")}catch(t){o=new ActiveXObject("Microsoft.XMLDOM"),e.VASTParser.logger.debug("XML Parser - ActiveXObject - Microsoft.XMLDOM")}}o.async=!1,o.loadXML(i)}else if(window.DOMParser){var r=new DOMParser;o=r.parseFromString(i,"text/xml")}else try{t.player.playerSumologic.sendError("VAST PARSER - NO XML PARSER FOUND")}catch(t){}return o},n.getNodeContent=function(t){if(t)try{var e=n.getFirstChild(t);return e?n.getNodeTextContent(e):""}catch(t){}},n.getAttributeValue=function(t,e){try{if(t.attributes[e])return String(t.attributes[e].value);for(var n=0;n<t.attributes.length;n++)if(t.attributes[n].name===e)return String(t.attributes[n].value)}catch(t){}},n.isAllWhitespace=function(t){return!/[^\t\n\r ]/.test(t.textContent?t.textContent:t.text)},n.isIgnorable=function(t){return 8===t.nodeType||3===t.nodeType&&n.isAllWhitespace(t)},n.getFirstChild=function(t){for(var e=t.firstChild;e;){if(!n.isIgnorable(e))return e;e=e.nextSibling}return null},n.getNodeTextContent=function(t){var e=t.textContent?t.textContent:t.text,n=e.replace(/[\t\n\r ]+/g," ");return" "===n.charAt(0)&&(n=n.substring(1,n.length))," "===n.charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n},n.supportActiveX=Object&&Object.getOwnPropertyDescriptor&&Object.getOwnPropertyDescriptor(window,"ActiveXObject")||"ActiveXObject"in window||!!window.ActiveXObject,n}();e.XMLHelper=n}(t.vast||(t.vast={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){t.asset={corsswf:"cors.swf"}}(t.vast||(t.vast={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){e.IAS_FIREWALL="fw",e.IAS_CAMPAIGN_MONITORING="cm";var n=function(){function n(){}return n.getExtension=function(e){return t.ArrayHelper.filter(e.extensions,function(t){return t.type===n.extensionType})[0]},n.getIASConfig=function(i){var o=n.getExtension(i);if(o){var r;try{r=t.JSON.parse(o.content)}catch(t){}if(r.type===e.IAS_FIREWALL&&r.data.partner&&r.data.advEntityId&&r.data.pubEntityId||r.type===e.IAS_CAMPAIGN_MONITORING&&r.data.partner&&r.data.anId)return r}},n.isIASVASTUrl=function(t){return n.isIASVASTFirewallUrl(t)||n.isIASVASTCampaignMonitoringUrl(t)},n.bypassVastUrl=function(i){n.logger.debug("bypass from vast url: "+i);var o=n.getIASData(i);return o&&o.originalVast&&(o.newVast='<?xml version="1.0" encoding="UTF-8"?>\n        <VAST version="3.0">\n          <Ad id="teads-ias-custom-wrapper">\n          <Wrapper>\n            <AdSystem>Teads - IAS</AdSystem>\n            <VASTAdTagURI><![CDATA['+o.originalVast+']]></VASTAdTagURI>\n            <Extensions>\n              <Extension type="teads-IAS"><![CDATA['+t.JSON.stringify(o.config)+"]]></Extension>\n            </Extensions>\n          </Wrapper>\n          </Ad>\n        </VAST>",e.vastSumologic.sendInfo("ias-bypass in vast url done")),o},n.bypassAdParameters=function(i){n.logger.debug("bypass from AdParameters");var o=t.Dom.htmlDecode(i.adParameters);e.VASTParser.parse(o,function(o){var r=n.getIASData(o.adTagUri);r&&r.originalVast&&(i.extensions.push({type:e.ExtensionType.TEADS_IAS,content:t.JSON.stringify(r.config),definition:i,xml:null}),i.adParameters=i.adParameters.replace(t.Dom.htmlEncode(r.iasUrl),t.Dom.htmlEncode(r.originalVast)),e.vastSumologic.sendInfo("ias-bypass in adParams done"))},function(t,i){n.logger.error("AdParamaters parsing failed: "+t),e.vastSumologic.sendError("ias-bypass adParams parsing failed")})},n.isIASVASTFirewallUrl=function(t){return n.vastFirewallRegexp.test(t)},n.isIASVASTCampaignMonitoringUrl=function(t){return n.vastCampaignMonitoringRegexp.test(t)},n.getIASData=function(t){return n.isIASVASTFirewallUrl(t)?n.getFirewallData(t):n.isIASVASTCampaignMonitoringUrl(t)?n.getCampaignMonitoringData(t):void 0},n.getFirewallData=function(t){var i,o=n.vastFirewallRegexp.exec(t);return o&&(i={config:{type:e.IAS_FIREWALL,data:{partner:n.partnerCode,advEntityId:o[1],pubEntityId:o[2]}},originalVast:/^((http|https)\:){0,1}\/\//.test(o[3])?o[3]:decodeURIComponent(o[3]),iasUrl:o[0],newVast:null},e.vastSumologic.sendInfo("ias-bypass fw"+i.config.data.advEntityId+"|"+i.config.data.pubEntityId+"|"+i.originalVast)),i.originalVast=this.sanitizeOriginalVast(i.originalVast),i},n.getCampaignMonitoringData=function(i){var o,r=n.vastCampaignMonitoringRegexp.exec(i);if(r){var a=t.StringHelper.match(r[0],/anId=(.*?)&/),s=a[1],c=void 0===s?null:s,d=t.StringHelper.match(r[0],/advId=(.*?)&/),l=d[1],p=void 0===l?null:l,u=t.StringHelper.match(r[0],/campId=(.*?)&/),h=u[1],f=void 0===h?null:h,g=t.StringHelper.match(r[0],/pubId=(.*?)&/),m=g[1],v=void 0===m?null:m,y=t.StringHelper.match(r[0],/placementId=(.*?)&/),A=y[1],E=void 0===A?null:A,w=t.StringHelper.match(r[0],/chanId=(.*?)&/),b=w[1],S=void 0===b?null:b;o={config:{type:e.IAS_CAMPAIGN_MONITORING,data:{partner:n.partnerCode,anId:c,advId:p,campId:f,pubId:v,placementId:E,chanId:S}},originalVast:/^((http|https)\:){0,1}\/\//.test(r[1])?r[1]:decodeURIComponent(r[1]),iasUrl:r[0],newVast:null},e.vastSumologic.sendInfo("ias-bypass cm"+o.config.data.anId+"|"+o.originalVast)}return o.originalVast=this.sanitizeOriginalVast(o.originalVast),o},n.sanitizeOriginalVast=function(t){return n.adserverRegexp.test(t)?t.split("&")[0]:t},n.extensionType="teads-IAS",n.partnerCode="teads",n.iasRegexp=/((http|https)\:)?\/\/([^\/]+)\.adsafeprotected\.com\/.*/,n.adserverRegexp=/(?:(?:http|https)\:)?\/\/adserver\.adtech\.de\/(.*)/,n.vastFirewallRegexp=/(?:(?:http|https)\:)?\/\/fw\.adsafeprotected\.com\/vast\/fwjsvid\/st\/(\d+)\/(\d+)\/skeleton\.js.*originalVast=(.*)/,n.vastCampaignMonitoringRegexp=/(?:(?:http|https)\:)?\/\/pixel\.adsafeprotected\.com\/vast.*anId=\d+.*originalVast=(.*)/,n.logger=new t.Logger("vast.IAS"),n}();e.IAS=n}(t.vast||(t.vast={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.UNLOADED=-1]="UNLOADED",t[t.READY=0]="READY",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED"}(t.LoaderStatus||(t.LoaderStatus={}))}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(69),n(31),n(27)},function(t,e,n){n(126),n(8),n(14),n(43),n(196),n(44),n(41);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.loadVpaid=function(n,i,o){var r=this;if(!t.FlashHelper.hasFlash())return o(e.ErrorCode.FLASH_PLUGIN_MISSING);var a=!1,s=!1,c=function(e){if(!s)try{t.player.playerSumologic.sendInfo("wrapper ko",{},!0)}catch(t){}o(e),r.destroy()};this.callbackName="handleVPAIDEvent"+this.id,this.window=t.HTMLHelper.getWindow(this.container),this.window[this.callbackName]=function(t){return"wrapper"===t.type?void(s=!0):(a=!0,clearTimeout(r.loadTimeoutId),r.window[r.callbackName]=function(){},"ready"===t.type?(r.vpaid=r.creativeContainer,i(r.vpaid),void r.logger.info("getVPAIDAd - Retrieve ad from creative")):void("error"===t.type&&c(t.data)))};var d="vpaid-"+this.id,l=this.config.path+"/"+e.asset.vpaidswfwrapper;this.container.innerHTML='<object data="'+l+'" type="application/x-shockwave-flash" name="'+d+'" id="'+d+'" style="border:0px;width:100%;height:1px;margin:0px;padding:0px" width="100%" height="100%"><param name="id" value="'+d+'" /><param name="name" value="'+d+'" /><param name="movie" value="'+l+'" /><param name="bgcolor" value="#000000" /><param name="quality" value="high" /><param name="allowFullScreen" value="true" /><param name="allowScriptAccess" value="always" /><param name="wmode" value="transparent" /><param name="flashvars" value="debug='+this.config.debug+"&eventHandler="+this.callbackName+"&url="+encodeURIComponent(n)+'" /></object>',this.creativeContainer=this.window.document.getElementById(d),this.loadTimeoutId=setTimeout(function(){a||c(e.ErrorCode.LOAD_VPAID_TIMEOUT)},e.Timeout.loadVpaid)},o.prototype.setBackground=function(t){if(n.prototype.setBackground.call(this,t),this.creativeContainer)for(var e=this.creativeContainer.getElementsByTagName("param"),i=0;i<e.length;i++)"bgcolor"===e[i].name&&(e[i].value=this.backgroundColor)},o.prototype.destroy=function(){n.prototype.destroy.call(this),this.window[this.callbackName]=function(){}},o.prototype.registerVPAIDEventHandler=function(t){this.window[this.callbackName]=t},o.prototype.resize=function(){},o.prototype.getEnvironmentVars=function(t){return{slot:this.creativeContainer,videoSlot:null,videoSlotCanAutoPlay:!0}},o.prototype.getType=function(){return e.CreativeType.SWF},o}(e.BaseVPAIDContainer);e.VPAIDSWFContainer=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){t.asset={vpaidswfwrapper:"vpaidwrapper.swf",sandbox:"vpaid-sandbox.html"}}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(127),n(31),n(27);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.loadVpaid=function(e,n,i){var o=this,r=new t.PostMessageClient(this.container,this.config);this.creativeContainer=r.getIframeContainer();var a=this.config.sandboxUrl||this.config.path+"/"+t.asset.sandbox;r.initAPI(a,function(){r.loadVpaid(e,function(t){o.vpaid=t,n(t)},i)},i)},n.prototype.getType=function(){return t.CreativeType.POSTMESSAGE},n}(t.VPAIDJSContainer);t.PostMessageContainer=e}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(6),n(70),n(69),n(31),n(27),n(101),n(127),n(41);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(i,o){var r=this;this.container=i,this.assetPath=o,this.logger=new t.Logger("vpaid.PostMessageServer"),this.timerDelay=250,this.logger.debug("Init postMessageAPI",i),this.window=window,this.postMessage=new e.PostMessage(window,window.parent),this.postMessage.setServerCallback(function(t){r.callMethod(t.name,t.data)}),this.postMessage.dispatchEvent(n.READY_EVENT),this.logger.debug("End Init postMessageAPI",i,window,window.parent)}return n.prototype.callMethod=function(t,i){switch(this.logger.debug("call method "+t,i),t){case e.PostMessageClient.LOADVPAID_METHOD:return this.loadVpaid(i[0]);case e.PostMessageClient.SETCONFIG_METHOD:this.config=i[0],this.logger.debug("Received configuration Object",this.config),this.config.sandbox=!1,this.config.path=this.assetPath,this.postMessage.dispatchEvent(n.CONFIGREADY_EVENT);break;default:this.callVPAIDMethod(t,i)}},n.prototype.callVPAIDMethod=function(t,n){try{return this.vpaid[t].apply(this.vpaid,n)}catch(o){var i="Error calling methog "+t+"("+n+")";this.postMessage.dispatchEvent(e.VPAIDEvent.AdLog,i),this.logger.error(i)}},n.prototype.loadVpaid=function(t){var i=this;new e.VPAIDLoader(this.container,this.config).load(t,function(t){i.logger.debug("VPAID Loaded !",t),i.vpaid=t;for(var o in e.VPAIDEvent)i.vpaid.subscribe(function(t){return function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];t===e.VPAIDEvent.AdStopped&&clearInterval(i.timerId),i.postMessage.dispatchEvent(t,n)}}(o),o);i.postMessage.dispatchEvent(n.VPAIDLOADED_EVENT),i.sendGettersValues(),i.timerId=setInterval(function(){i.sendGettersValues()},i.timerDelay)},function(t){i.postMessage.dispatchEvent(n.VPAIDLOADEDERROR_EVENT,[t]),i.logger.error("PostMessageServer : Unable to load VPAID "+t.message)})},n.prototype.sendGettersValues=function(){var t=this,i={};e.PostMessageClient.getters.forEach(function(e){i[e]=t.callVPAIDMethod(e,[])}),this.postMessage.dispatchEvent(n.ATTRIBUTE_EVENT,i)},n.READY_EVENT="ready",n.CONFIGREADY_EVENT="configReady",n.VPAIDLOADED_EVENT="vpaidLoaded",n.VPAIDLOADEDERROR_EVENT="vpaidLoadedError",n.ATTRIBUTE_EVENT="attributes",n}();e.PostMessageServer=n}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e,n){n(6),n(70),n(101),n(14);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){var n=e.call(this)||this;return n.postMessage=t,n}return i(n,e),n.prototype.handshakeVersion=function(t){return"2.0"},n.prototype.initAd=function(e,n,i,o,r,a){void 0===r&&(r="");var s="object"==typeof r?t.JSON.stringify(r):r;this.callVPAIDMethod("initAd",[e,n,i,o,s])},n.prototype.subscribe=function(t,e,n){this.postMessage.subscribe(t,e,n)},n.prototype.unsubscribe=function(t,e){this.postMessage.unsubscribe(t,e)},n.prototype.callVPAIDMethod=function(t,e){void 0===e&&(e=[]),this.postMessage.callVPAIDMethod(t,e)},n}(e.VPAIDJSGuard);e.PostMessageVPAID=n}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e,n){n(201);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function e(){}return e.isAdManager=function(e){for(var n=0;n<t.adManagerList.length;n++)if(e.indexOf(t.adManagerList[n])>-1)return!0;return!1},e}();t.AdManagerHelper=e}(t.vpaid||(t.vpaid={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){t.adManagerList=["vpaid-empty.swf","liverail.com/swf/v4/admanager.swf","teads.tv/swf/vpaid/vpaid-ad"]}(t.vpaid||(t.vpaid={}))}(n||(n={}))},function(t,e,n){n(6),n(129),n(75);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(t){var e=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return i(n,e),n.prototype.startAd=function(){try{t.VPAIDHelper.checkVpaidStatus("startAd",this.status)}catch(e){return this.dispatchEvent(t.VPAIDEvent.AdLog,e)}this.status=t.VpaidStatus.STARTING,this.adStarted=!0,this.dispatchEvent(t.VPAIDEvent.AdStarted),this.dispatchEvent(t.VPAIDEvent.AdImpression),this.vpaid.resumeAd()},n.prototype.handleVpaidEvent=function(n){if(!this.adStarted)switch(n.type){case t.VPAIDEvent.AdSkippableStateChange:case t.VPAIDEvent.AdLog:case t.VPAIDEvent.AdVolumeChange:break;case t.VPAIDEvent.AdError:this.adError=!0;break;case t.VPAIDEvent.AdStopped:this.adError||this.dispatchEvent(t.VPAIDEvent.AdError,"AdManagerWrapper : this VPAID creative got no Ads");break;case t.VPAIDEvent.AdLoaded:return this.vpaidguard("startAd");case t.VPAIDEvent.AdImpression:n=new t.VPAIDEvent(t.VPAIDEvent.AdLoaded);break;case t.VPAIDEvent.AdStarted:return this.vpaidguard("pauseAd");default:return}e.prototype.handleVpaidEvent.call(this,n)},n}(t.VPAID2Over1);t.AdManagerWrapper=e}(t.vpaid||(t.vpaid={}))}(o||(o={}))},function(t,e){},function(t,e,n){n(214)},function(t,e,n){n(99),n(114),n(42)},function(t,e,n){n(90)},function(t,e){},function(t,e){var n=window.teads=window.teads||{};!function(t){t.formatSumologic=new t.Sumologic}(n||(n={}))},function(t,e,n){n(218),n(71),n(98);var i=window.teads=window.teads||{};!function(t){!function(e){var n;!function(t){t[t.VIDEO=0]="VIDEO",t[t.MPEG=1]="MPEG",t[t.TV=2]="TV",t[t.FLASH=3]="FLASH",t[t.VPAIDJS=4]="VPAIDJS",t[t.VPAIDFLASH=5]="VPAIDFLASH"}(n=e.MEDIAFILE_TYPE||(e.MEDIAFILE_TYPE={}));var i;!function(t){t.landscape="l",t.square="s",t.vertical="v"}(i=e.RatioCategory||(e.RatioCategory={}));var o=function(){function o(){}return o.getPreferredMediafileTypes=function(i){var o=[n.VIDEO,n.VPAIDJS,n.TV,n.MPEG,n.VPAIDFLASH,n.FLASH];return t.Context.isDesktop()||(o=t.ArrayHelper.filter(o,function(t){return t!==n.VPAIDJS}).concat([n.VPAIDJS])),t.Context.isIE()?o=t.ArrayHelper.filter(o,function(t){return t!==n.TV&&t!==n.MPEG}):t.Context.isSDK()?o=[n.VIDEO,n.VPAIDJS]:t.Context.isIos()&&t.Semver.isLowerThan(t.Context.getIosVersion(),"8")?o=i===e.PLAYER_TYPE.HTML5?[n.VIDEO]:t.Context.isIpad()?[n.MPEG,n.TV]:[]:(i===e.PLAYER_TYPE.CANVAS||t.Context.isIos()&&(t.Semver.isLowerThan(t.Context.getIosVersion(),"10")||!t.Context.isWhiteListedIos10Safari()&&!t.Context.isFacebookWebviewIOS10())&&i!==e.PLAYER_TYPE.HTML5)&&(o=t.ArrayHelper.filter(o,function(t){return t!==n.VIDEO})),t.FlashHelper.hasFlash()||(o=t.ArrayHelper.filter(o,function(t){return t!==n.FLASH&&t!==n.VPAIDFLASH})),o},o.getElectedMediafiles=function(i,r){var a=o.getPreferredMediafileTypes(r),s=[];t.ArrayHelper.map(i,function(t){t.api&&t.api.toLowerCase&&(t.api=t.api.toLowerCase()),t.type&&t.type.toLowerCase&&(t.type=t.type.toLowerCase())});for(var c=0,d=a.length;c<d&&0===s.length;){switch(a[c]){case n.VIDEO:s=t.ArrayHelper.filter(i,o.isPlayableVideo);break;case n.TV:s=t.ArrayHelper.filter(i,o.isTv);break;case n.MPEG:s=t.ArrayHelper.filter(i,o.isMpeg);break;case n.VPAIDJS:s=t.ArrayHelper.filter(i,function(n){return t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"8")?o.isVpaidJS(n)&&e.VPAIDJSListIOS.isAuthorized(n.url):o.isVpaidJS(n)});break;case n.VPAIDFLASH:s=t.ArrayHelper.filter(i,o.isVpaidFlash);break;case n.FLASH:s=t.ArrayHelper.filter(i,o.isFlash)}c++}return s},o.extractMediafileFromPing=function(t,e){var n=o.sortMediafilesByBitrate(t,o.getMaxBitrateForContext()),i=Math.max(e/o.pingDuration.max,0);return n[Math.max(0,Math.min(n.length,Math.ceil(n.length*i))-1)]},o.sortMediafilesByBitrate=function(t,e){var n=t.map(function(t){return t.bitrate=t.bitrate||2*e.max,t}),i=n.filter(function(t){return t.bitrate<=e.max&&t.bitrate>=e.min});return i=i.length?i:n,i.sort(function(t,e){return e.bitrate-t.bitrate})},o.getMaxBitrateForContext=function(){return t.Context.isMobile()?o.bitrates.mobile:o.bitrates.default},o.getMediaProvider=function(n){switch(n.type){case"video/x-flv":return t.FlashHelper.hasFlash()?e.MediaProvider.FLASH:e.MediaProvider.UNSUPPORTED;case"application/x-shockwave-flash":case"application/x-javascript":case"application/javascript":case"text/javascript":return e.MediaProvider.VPAID;case"video/mpg":case"video/mpeg":case"video/tv":return t.Context.cacheCanvasUsed(!0),e.MediaProvider.CANVAS;default:return o.isPlayableVideo(n)?e.MediaProvider.JS:e.MediaProvider.UNSUPPORTED}},o.getOptimalMediaFiles=function(n,i,r,a){if(0===n.length)return null;var s=o.getEncodingCandidate(n.slice()),c=o.getElectedMediafiles(n,a);if(a!==e.PLAYER_TYPE.CANVAS&&!t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"8")||0!==c.length&&!o.isVpaidJS(c[0])||!s)if(c.length>1)o.ping(c[0].url,function(t){var e=o.extractMediafileFromPing(c,t);r(e,t)});else if(1===c.length)r(c[0],null);else{var d="No Mediafile for this context";r(null,null,d),o.logger.info("getOptimalMediaFiles",d)}else o.ping(s.url,function(t,e){o.waitForProxy(s.url,e,function(e,n){s.url=e,s.type="video/tv",r(e?s:null,t,n)})})},o.ping=function(n,i,r){void 0===r&&(r=!0);var a,s,c,d=t.Request.createXmlHttpRequest(),l=t.Timing.now(),p=!1,u=function(d){c.clear(),p||(p=!0,r?o.ping(n,i,!1):a||(a=t.Timing.now()-l,s=a<=100?1e3:a<200?700:a<400?500:300,i(a,s),e.playerSumologic.sendInfo("ping "+[a,d].join(";"))))};c=t.Timer.setTimeout(function(){return u("timeout")},o.pingDuration.max),d.open("HEAD",n+(n.indexOf("?")>-1?"&":"?")+l,!0),d.addEventListener("load",function(){return u("load")}),d.addEventListener("error",function(){return u("error")}),d.send()},o.waitForProxy=function(n,i,o){var r=this,a=location.hostname.match(/.+\.sandbox\.teads\.net|localdocker/),s=t.Utils.getProtocol()+"//[HOST]/transcode?url=[URL]&bitrate=[BITRATE]".replace(/\[HOST\]/,a?a[0]+":18088":"mp.teads.tv").replace(/\[URL\]/,encodeURIComponent(n)).replace(/\[BITRATE\]/,i.toString()),c=t.Request.createXmlHttpRequest(),d=!1;c.open("GET",s,!0),c.onreadystatechange=function(){var t;if(4===c.readyState&&!d){switch(d=!0,c.status){case 200:o(c.responseText);break;case 202:t="Mediaproxy - encoding ongoing - need wait",o(null,t);break;case 201:t="Mediaproxy - encoding init - need one more call to encode",o(null,t);break;case 410:t="Mediaproxy - encoding failed",o(null,t);break;case 400:t="Mediaproxy - bad request",o(null,t);break;default:t="Mediaproxy - other error - "+c.status,o(null,t)}r.logger.debug("proxy resp",c.status),e.playerSumologic.sendInfo(["proxy","resp",c.status].join(" "))}},c.send(),e.playerSumologic.sendInfo("proxy call")},o.getOptimalMediaFile=function(n,i,r,a){a.formatConfig&&a.formatConfig.allowedPlayer?(t.Context.isCanvasNeeded(a.formatConfig.allowedPlayer.isCustomContext())&&a.formatConfig.allowedPlayer.setValue(e.PLAYER_TYPE.CANVAS),a.type=a.formatConfig.allowedPlayer.getValue()):t.Context.isCanvasNeeded()&&(a.type=e.PLAYER_TYPE.CANVAS);var s=t.Timing.measure("measureAutoplay","markAutoplayStartTime","markAutoplayEndTime");if(s){var c=a.type===e.PLAYER_TYPE.CANVAS?"dis":"en";e.playerSumologic.sendInfo("autoplay "+c+"-"+Math.round(s.duration))}o.getOptimalMediaFiles(n,i,function(t,n,i){t?(e.playerSumologic.sendInfo("media "+t.type),r(t,n?" -> ping: "+n+"ms":"")):r(null,i)},a.type)},o.getOptimalHeight=function(t,e,n){return e?Math.ceil(e/this.getRatio(t,n)):0},o.getRatio=function(t,e){var n=!this.isInternalMediafile(t.url);return!t.height||!t.width||!e&&n&&t.api&&"vpaid"===t.api.toLowerCase()&&t.width>t.height?16/9:t.width/t.height},o.getAssetFromMediaProvider=function(t){var n;switch(t){case e.MediaProvider.JS:n=e.ASSETS.vpaidvideojs;break;case e.MediaProvider.FLASH:n=e.ASSETS.vpaidvideoswf;break;case e.MediaProvider.CANVAS:n=e.ASSETS.vpaidcanvas;break;default:n=""}return n},o.getEncodingCandidate=function(t){var e;return t.forEach(function(t){var n=t.type||"";switch(t.weight=0,n.split("/").pop()){case"mov":t.weight=150;break;case"mp4":t.weight=100;break;case"flv":case"x-flv":t.weight=75;break;case"webm":case"ogg":case"ogv":t.weight=50}(!e||e.weight<=t.weight)&&(e=e||t,(e.weight<t.weight||e.bitrate<t.bitrate)&&(e=t))}),e.weight?e:null},o.isInternalMediafile=function(e){return/(ebu?z|teads)/gi.test(t.URIHelper.parse(e).host)},o.sendMediasToSumologic=function(n,i){try{var o={},r=t.ArrayHelper.map(t.ArrayHelper.filter(n.mediaFiles,function(t){return!o[t.type]&&(o[t.type]=!0,!0)}),function(t){return t.type}),a=t.ArrayHelper.map(n.wrappers,function(e){return t.URIHelper.parse(e).hostname});e.playerSumologic.sendInfo("[mf-"+i+"-"+t.Context.getContextSummary()+"] "+r.join(" | ")+"||"+a.join(" > "))}catch(t){this.logger.error("sendMediasToSumologic error",t)}},o.getRatioCategory=function(t){return t.width>t.height?i.landscape:t.width===t.height?i.square:i.vertical},o.getMediaFileRatioLog=function(t,e,n){return"mediafile-ratio "+[o.getRatioCategory(t),""+e,n.map(String).getOrElse(function(){return"n"})].join("|")},o.isMpeg=function(t){return/^video\/mpe?g$/.test(t.type)},o.isTv=function(t){return"video/tv"===t.type},o.isFlash=function(t){return"video/x-flv"===t.type},o.isVideo=function(t){return!o.isMpeg(t)&&!o.isTv(t)&&!o.isFlash(t)&&/^video\/*/.test(t.type)},o.isPlayableVideo=function(t){return o.isVideo(t)&&e.VideoHelper.canPlay(t.type)},o.isVpaidFlash=function(t){return"vpaid"===t.api&&t.type.indexOf("application/x-shockwave-flash")>-1},o.isVpaidJS=function(t){return"vpaid"===t.api&&t.type.indexOf("javascript")>-1},o.logger=new t.Logger("player.MediaFileHelper"),o.bitrates={mobile:{min:200,max:5e3},default:{min:200,max:1e4}},o.pingDuration={max:600},o}();e.MediaFileHelper=o}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(114);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.get=function(n){var i;return n&&n.extensions&&n.extensions.length>0&&t.ArrayHelper.forEach(n.extensions,function(t){t.type===e.EXTENSION_TYPE&&(i=e.parse(t.content))}),i},e.parse=function(n){try{return t.JSON.parse(n)}catch(n){new t.Logger("ITeadsContextExtension").error(e.EXTENSION_TYPE+" extension throw an exception",n)}},e.EXTENSION_TYPE="teads-context",e}();e.TeadsContextExtension=n}(t.player||(t.player={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.isMp4=function(t){return"video/mp4"===t},e.isWebm=function(t){return"video/webm"===t},e.canPlayType=function(e){return t.Try.of(function(){return!!document.createElement("video").canPlayType(e)}).getOrElse(function(){return!1})},e.canPlay=function(n){return t.Context.isSDK()?t.Context.isIos()?e.isMp4(n):t.Context.isAndroid()?e.isMp4(n)||e.isWebm(n):void 0:e.canPlayType(n)},e}();e.VideoHelper=n}(t.player||(t.player={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){!function(t){t[t.UNSUPPORTED=0]="UNSUPPORTED",t[t.FLASH=1]="FLASH",t[t.JS=2]="JS",t[t.VPAID=3]="VPAID",t[t.CANVAS=4]="CANVAS"}(t.MediaProvider||(t.MediaProvider={}))}(t.player||(t.player={}))}(n||(n={}))},,function(t,e){},function(t,e){},function(t,e){},function(t,e,n){n(84);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e,n,i,o,r,a){var s=this;if(this.formatContainer=e,this.vpaidAd=n,this.components=i,this.responsive=o,this.win=r,this.fullscreenElement=a,this.originalVpaidSize={width:0,height:0},this.fullscreenFormatStyle={width:"100%",height:"100%",top:"0",left:"0",position:"fixed","z-index":String(t.Constant.MAX_Z_INDEX_VALUE),"background-color":"#000000",margin:"0","max-width":"none",padding:"0"},this.originalFormatStyle={width:"",height:"",top:"",left:"",position:"","z-index":"","background-color":"",margin:"","max-width":"",padding:""},this.canvasTag=null,this.active=!1,this.isVideoPaused=!1,this.wasVideoPaused=!1,this.eventListenerManager=new t.DOMEventListenerManager,this.beforeOpenEventListeners=[],this.closeEventListeners=[],this.logger=new t.Logger("FullscreenHelper"),this.parentsPropertiesList=[],this.logger.debug("new"),this.vpaidAd.subscribe(function(){return s.isVideoPaused=!0},t.vpaid.VPAIDEvent.AdPaused),this.vpaidAd.subscribe(function(){return s.isVideoPaused=!1},t.vpaid.VPAIDEvent.AdPlaying),!t.Context.isIos()){var c=["webkitfullscreenchange","mozfullscreenchange","fullscreenchange","MSFullscreenChange"];this.eventListenerManager.addMultiple(c,this.win,function(e){t.HTMLHelper.isFullscreen(s.win.document)?s.vpaidAd.resizeAd(s.win.screen.width,s.win.screen.height,"fullscreen"):(t.ArrayHelper.forEach(s.closeEventListeners,function(t){t()}),s.close())}),this.vpaidAd.subscribe(function(){return s.eventListenerManager.removeMultiple(c)},t.vpaid.VPAIDEvent.AdStopped)}if(this.responsive&&this.responsive.addOrientationChangeListener(function(){return s.handleOrientationChange()}),t.Context.isIos()){var d=this.vpaidAd.getCreativeContainer();d&&d.contentWindow&&this.eventListenerManager.add("touchmove",d.contentWindow,function(t){s.isActive()&&t.preventDefault()})}}return e.getPropertyToSave=function(t,e){return{name:e,value:t.style.getPropertyValue(e),priority:t.style.getPropertyPriority(e)}},e.prototype.handleOrientationChange=function(){this.active&&(this.logger.debug("orientation change, resizeAd"),this.responsive.resize(!0))},e.prototype.isActive=function(){return this.active},e.prototype.init=function(t){this.vpaidEnvironmentVars=t,this.vpaidEnvironmentVars.videoSlot&&(this.canvasTag=this.vpaidEnvironmentVars.videoSlot.canvas)},e.prototype.addBeforeOpenEventListener=function(e){t.ArrayHelper.indexOf(this.beforeOpenEventListeners,e)<0&&this.beforeOpenEventListeners.push(e)},e.prototype.addCloseEventListener=function(e){t.ArrayHelper.indexOf(this.closeEventListeners,e)<0&&this.closeEventListeners.push(e)},e.prototype.open=function(){this.active||(this.active=!0,t.ArrayHelper.forEach(this.beforeOpenEventListeners,function(t){t()}),t.HTMLHelper.addClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),t.Context.isIos()?(this.overrideParentsProperties(),this.originalVpaidSize.width=t.Dom.getBoundingClientRect(this.formatContainer).width,this.originalVpaidSize.height=this.vpaidAd.getAdHeight(),t.HTMLHelper.addClass(this.formatContainer,"no-transition"),this.applyStyleRules(),this.components.hideAllComponents()):t.HTMLHelper.openFullscreen(this.fullscreenElement),this.responsive.resize(!0),this.isVideoPaused?(this.vpaidAd.resumeAd(),this.wasVideoPaused=!0):this.wasVideoPaused=!1)},e.prototype.close=function(){var e=this;this.active&&(t.HTMLHelper.removeClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen"),t.Context.isIos()?(this.restoreParentsProperties(),t.HTMLHelper.removeClass(this.formatContainer,"no-transition"),this.components.showAllComponents(),this.restoreStyleRules()):t.Context.isAndroid()?setTimeout(function(){return t.HTMLHelper.closeFullscreen(e.vpaidAd.getContainer())},100):t.HTMLHelper.closeFullscreen(this.fullscreenElement),this.wasVideoPaused&&this.vpaidAd.pauseAd(),this.active=!1,this.responsive.resize(!0),this.canvasTag&&this.resetCanvas(),t.ArrayHelper.forEach(this.closeEventListeners,function(t){t()}))},e.prototype.applyStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&(this.originalFormatStyle[t]=this.formatContainer.style.getPropertyValue(t));for(var t in this.fullscreenFormatStyle)this.fullscreenFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.fullscreenFormatStyle[t])},e.prototype.restoreStyleRules=function(){for(var t in this.originalFormatStyle)this.originalFormatStyle.hasOwnProperty(t)&&this.formatContainer.style.setProperty(t,this.originalFormatStyle[t])},e.prototype.resetCanvas=function(){this.logger.debug("reset canvas"),this.canvasTag.style.setProperty("position","relative"),this.canvasTag.style.setProperty("top","0"),this.canvasTag.style.setProperty("left","0")},e.prototype.overrideParentsProperties=function(){var n=this;this.parentsPropertiesList=[];var i=t.HTMLHelper.findParentElements(this.formatContainer);t.ArrayHelper.forEach(i,function(i){var o={element:i,properties:[]},r=n.win.getComputedStyle(i);r.zIndex&&"auto"!==r.zIndex&&(o.properties.push(e.getPropertyToSave(i,"z-index")),i.style.setProperty("z-index","auto","important"));var a=["transform","-webkit-transform","transition","-webkit-transition"];t.ArrayHelper.forEach(a,function(t){o.properties.push(e.getPropertyToSave(i,t))}),t.ArrayHelper.forEach(a,function(t){i.style.setProperty(t,"none","important")}),n.parentsPropertiesList.push(o)}),this.parentsPropertiesList.push({element:this.win.document.body,properties:[e.getPropertyToSave(this.win.document.body,"overflow")]}),this.win.document.body.style.setProperty("overflow","hidden")},e.prototype.restoreParentsProperties=function(){t.ArrayHelper.forEach(this.parentsPropertiesList,function(e){t.ArrayHelper.forEach(e.properties,function(t){e.element.style.removeProperty(t.name),e.element.style.setProperty(t.name,t.value,t.priority)})})},e}();e.FullscreenHelper=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.whitelist=[/^((http|https)\:){0,1}\/\/cdn-tags\.brainient\.com\/.*/,/^((http|https)\:){0,1}\/\/.*\.brainient\.com\/vpaid\/\d+/,/^((http|https)\:){0,1}\/\/rawgit\.com\/ybootin\/.*/,/^((http|https)\:){0,1}\/\/[^\/]+\.teads\.(tv|net).*/,/^((http|https)\:){0,1}\/\/ad\.atdmt\.com\/as\/vpaid\.js;.*/,/^((http|https)\:){0,1}\/\/.*\.serving\-sys\.com\/.*\/.*VPAIDAPI\.js$/,/^((http|https)\:){0,1}\/\/(s\-){0,1}static\.innovid\.com\/mobileapps\/(s\/){0,1}js\/vpaid\/.*/,/^((http|https)\:){0,1}\/\/vpaid\.doubleverify\.com\/.*\.js/,/^((http|https)\:){0,1}\/\/.*\.moatads\.com\/[^\/]*\/moatwrapper\.js.*/,/^((http|https)\:){0,1}\/\/cdn\.adtags\.mobi\/shared\/js\/vpaid\.js/,/^((http|https)\:){0,1}\/\/.*\.adsafeprotected\.com\/IASVideo\.js\?.*/,/^((http|https)\:){0,1}\/\/imasdk\.googleapis\.com\/js\/sdkloader\/vpaid_adapter\.js/,/^((http|https)\:){0,1}\/\/.*\.measuread\.com\/.*\.js.*/,/^((http|https)\:){0,1}\/\/.*\.videostat\.com\/script\/gppVpaidCallbackAd\.js.*/,/^((http|https)\:){0,1}\/\/.*\.tubemogul\.com\/.*\.js.*/,/^((http|https)\:){0,1}\/\/.*\.flashtalking\.com\/.*/],e.isAuthorized=function(t){return e.isWhitelisted(t)},e.isWhitelisted=function(n){return!!t.Context.isWhiteListedIos10Safari()||e.isInList(e.whitelist,n)},e.isInList=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].test(e))return!0;return!1},e}();e.VPAIDJSListIOS=n}(t.player||(t.player={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){t.ASSETS={vpaidvideojs:"teads-vpaid-video.min.js",vpaidcanvas:"teads-vpaid-canvas.min.js",vpaidvideoswf:"teads-vpaid-video.swf",vastcorsloader:"cors.swf",vpaidswfwrapper:"vpaidwrapper.swf",iasvans:"__IASVANS_3.3.0.js"}}(t.player||(t.player={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){e.trackingMapping={error:t.vpaid.VPAIDEvent.AdError,click:t.vpaid.VPAIDEvent.AdClickThru,pause:t.vpaid.VPAIDEvent.AdPaused,resume:t.vpaid.VPAIDEvent.AdPlaying,skip:t.vpaid.VPAIDEvent.AdSkipped,creativeView:t.vpaid.VPAIDEvent.AdStarted,start:t.vpaid.VPAIDEvent.AdVideoStart,firstQuartile:t.vpaid.VPAIDEvent.AdVideoFirstQuartile,midpoint:t.vpaid.VPAIDEvent.AdVideoMidpoint,thirdQuartile:t.vpaid.VPAIDEvent.AdVideoThirdQuartile,complete:t.vpaid.VPAIDEvent.AdVideoComplete,impression:t.vpaid.VPAIDEvent.AdImpression,close:t.vpaid.VPAIDEvent.AdUserClose,closeLinear:t.vpaid.VPAIDEvent.AdUserClose,progress:t.vpaid.VPAIDEvent.AdRemainingTimeChange,otherAdInteraction:t.vpaid.VPAIDEvent.AdInteraction}}(t.player||(t.player={}))}(n||(n={}))},function(t,e,n){n(209);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(e,n,i,o){this.container=e,this.config=n,this.vpaidAd=i,this.mediaFile=o,this.logger=new t.Logger("player.plugin.Responsive")}return n.prototype.init=function(){this.logger.debug("init plugin"),this.vpaidAd.subscribe(this.onVideoMetadata,t.vpaid.CustomVPAIDEvent.AdVideoMetadata,this),this.vpaidAd.subscribe(this.onVpaidStart,t.vpaid.VPAIDEvent.AdStarted,this)},n.prototype.deinit=function(){this.logger.debug("deinit plugin"),this.vpaidAd.unsubscribe(this.onVpaidStart,t.vpaid.VPAIDEvent.AdStarted),this.vpaidAd.unsubscribe(this.onVideoMetadata,t.vpaid.CustomVPAIDEvent.AdVideoMetadata),this.unsetResponsive()},n.prototype.resize=function(n){if(!t.HTMLHelper.isFullscreen())try{var i=t.Dom.getBoundingClientRect(this.container).width;if(i!==this.vpaidAd.getAdWidth()||n){var o=this.config.vpaidApi&&this.config.vpaidApi.getStudioData(),r=e.MediaFileHelper.getOptimalHeight(this.mediaFile,i,!!this.metadata||!!o),a=this.vpaidAd.getAdWidth(),s=this.vpaidAd.getAdHeight();a===i&&s===r||(this.vpaidAd.resizeAd(i,r,"normal"),this.logger.debug("container width change, resize from "+a+"x"+s+" to "+i+"x"+r))}}catch(t){this.logger.error("resize throw an Exception",t),this.unsetResponsive()}},n.prototype.setResponsive=function(){var e=this;return!this.iframe&&(this.vpaidAd.subscribe(function(){e.unsetResponsive()},t.vpaid.VPAIDEvent.AdError),this.vpaidAd.subscribe(function(){e.unsetResponsive()},t.vpaid.VPAIDEvent.AdStopped),this.resize(),this.iframe=document.createElement("iframe"),this.iframe.style.height="0",this.iframe.style.width="100%",this.iframe.style.border="none",this.iframe.style.margin="0",this.iframe.style.padding="0",this.container.appendChild(this.iframe),this.iframe.contentWindow.document.write("<html><body></body></html>"),this.iframe.contentWindow.document.close(),this.resizeCallback=function(){return e.resize()},t.Dom.addEventListener("resize",this.iframe.contentWindow,this.resizeCallback),!0)},n.prototype.unsetResponsive=function(){try{return!!this.iframe&&(t.Dom.removeEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.iframe.parentNode.removeChild(this.iframe),this.iframe=null,!0)}catch(t){return!1}},n.prototype.onVideoMetadata=function(t){this.logger.debug("Receive metadata from video",t),t.width&&t.height&&(this.metadata=t,this.mediaFile.width=t.width,this.mediaFile.height=t.height,Math.ceil(this.vpaidAd.getAdWidth()/this.vpaidAd.getAdHeight())!==Math.ceil(t.width/t.height)&&(this.logger.debug("vpaid ratio differ from mediafile ratio, force resize !"),this.resize(!0)))},n.prototype.onVpaidStart=function(){if(!this.config.width)try{this.logger.debug("set player responsive !"),this.setResponsive()}catch(t){this.logger.error("Exception raised while trying to initialize",t)}},n}();n.Responsive=i}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){!function(e){var n=function(){function e(t,e,n,i,o,r){this.vpaidAd=n,this.linearAd=o}return e.prototype.init=function(){this.vpaidAd.subscribe(this.onClickThrough,t.vpaid.VPAIDEvent.AdClickThru,this)},e.prototype.deinit=function(){this.vpaidAd.unsubscribe(this.onClickThrough,t.vpaid.VPAIDEvent.AdClickThru)},e.prototype.onClickThrough=function(t,e,n){var i=t||this.linearAd.clickThrough[0];n&&i&&window.open(i)},e}();e.ClickThrough=n}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(n||(n={}))},function(t,e,n){n(165),n(97),n(42);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(n,i,o,r,a,s){var c=this;this.container=n,this.config=i,this.vpaidAd=o,this.mediaFile=r,this.linearAd=a,this.tracker=s,this.logger=new t.Logger("player.plugin.Tracker"),this.tracked={},this.trackedProgress=[],this.trackOnce=[t.vast.TrackingEvent.skip,t.vast.TrackingEvent.creativeView,t.vast.TrackingEvent.start,t.vast.TrackingEvent.impression,t.vast.TrackingEvent.firstQuartile,t.vast.TrackingEvent.midpoint,t.vast.TrackingEvent.thirdQuartile,t.vast.TrackingEvent.complete,t.vast.TrackingEvent.error],this.isMuted=!1;var d=[t.vpaid.VPAIDEvent.AdLoaded,t.vpaid.VPAIDEvent.AdStarted,t.vpaid.VPAIDEvent.AdSkipped,t.vpaid.VPAIDEvent.AdImpression,t.vpaid.VPAIDEvent.AdVideoStart,t.vpaid.VPAIDEvent.AdVideoFirstQuartile,t.vpaid.VPAIDEvent.AdVideoMidpoint,t.vpaid.VPAIDEvent.AdVideoThirdQuartile,t.vpaid.VPAIDEvent.AdVideoComplete,t.vpaid.VPAIDEvent.AdClickThru,t.vpaid.VPAIDEvent.AdUserClose],l=[t.vpaid.VPAIDEvent.AdDurationChange,t.vpaid.VPAIDEvent.AdRemainingTimeChange],p=Object.keys(t.vpaid.VPAIDEvent);for(var u in t.vpaid.CustomVPAIDEvent)p.push(u);t.ArrayHelper.forEach(p,function(n){t.ArrayHelper.indexOf(d,n)>-1&&c.vpaidAd.subscribe(function(i){n===t.vpaid.VPAIDEvent.AdError&&i||(i=""),e.playerSumologic.sendInfo([n,t.Context.getContextSummary(),i].join("|"))},n),-1===l.indexOf(n)&&c.vpaidAd.subscribe(function(t){void 0===t&&(t=""),c.logger.info(n+" "+t)},n)})}return n.prototype.init=function(){var e=this;this.logger.debug("init");try{this.previousRemainingTime=this.vpaidAd.getAdRemainingTime(),this.vpaidAd.subscribe(function(){return e.onTimeChange()},t.vpaid.VPAIDEvent.AdDurationChange),this.vpaidAd.subscribe(function(){return e.onTimeChange()},t.vpaid.VPAIDEvent.AdRemainingTimeChange);for(var n in this.linearAd.tracking)this.addTrackingCallback(n);this.vpaidAd.subscribe(function(){return e.onAdStarted()},t.vpaid.VPAIDEvent.AdStarted),this.vpaidAd.subscribe(function(){return e.onVolumeChange()},t.vpaid.VPAIDEvent.AdVolumeChange);var i;this.vpaidAd.subscribe(function(){var n=t.HTMLHelper.isFullscreen()||e.vpaidAd.getAdExpanded();!i&&n?(e.trackVastEvent(t.vast.TrackingEvent.fullscreen),e.trackVastEvent(t.vast.TrackingEvent.expand)):i&&!n&&(e.trackVastEvent(t.vast.TrackingEvent.exitFullscreen),e.trackVastEvent(t.vast.TrackingEvent.collapse)),i=n},t.vpaid.VPAIDEvent.AdExpandedChange)}catch(e){this.tracker.trackError(t.Option.of(this.mediaFile),new t.VastException({id:900,message:"plugin.Tracker throw an exception on init "+e}))}},n.prototype.deinit=function(){this.logger.debug("deinit")},n.prototype.getTracker=function(){return this.tracker.getTracker()},n.prototype.removeResources=function(t){try{this.getTracker().getTracking(t).removeResources()}catch(e){this.logger.error("Remove tracking resources for event "+t+" throw an exception",e)}},n.prototype.onTimeChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.adRemainingTime=this.vpaidAd.getAdRemainingTime()},n.prototype.onVolumeChange=function(){this.isMuted&&this.vpaidAd.getAdVolume()>0?this.trackVpaidEvent(t.vast.TrackingEvent.unmute,t.vpaid.VPAIDEvent.AdVolumeChange):this.isMuted||0!==this.vpaidAd.getAdVolume()||this.trackVpaidEvent(t.vast.TrackingEvent.mute,t.vpaid.VPAIDEvent.AdVolumeChange),this.isMuted=!this.vpaidAd.getAdVolume()},n.prototype.onAdStarted=function(){this.isMuted=!this.vpaidAd.getAdVolume()},n.prototype.addTrackingCallback=function(n){var i=this;this.vpaidAd.subscribe(function(){for(var o=[],r=0;r<arguments.length;r++)o[r]=arguments[r];n===t.vast.TrackingEvent.error?i.trackError(t.vast.TrackingEvent.error,t.vpaid.VPAIDEvent.AdError,o):i.trackVpaidEvent(n,e.trackingMapping[n])},e.trackingMapping[n])},n.prototype.findExceptionMsg=function(e){for(var n in t.VastException)if(t.VastException[n].id===e)return t.VastException[n].message},n.prototype.trackEvent=function(e,n,i,o){var r=this,a=t.Dom.getBoundingClientRect(this.container).height,s=Math.ceil(100*t.HTMLHelper.getPercentageInView(this.container,t.HTMLHelper.getWindow(this.container),a));(s<0||!t.HTMLHelper.getRealVisibilityState(this.container))&&(s=0),i=i.filter(function(t){return!isNaN(t)}).orElse(function(){return t.Option.of(r.adDuration-r.adRemainingTime||0)});var c=Math.floor(i.getOrElse(function(){return 0}));if(e===t.vast.TrackingEvent.progress){if(this.trackedProgress[c])return;if(this.previousRemainingTime===this.adRemainingTime)return;this.previousRemainingTime=this.adRemainingTime}switch(e){case t.vast.TrackingEvent.start:this.tracked[t.vast.TrackingEvent.impression]||this.trackVastEvent(t.vast.TrackingEvent.impression);break;case t.vast.TrackingEvent.complete:this.trackProgress(c+1);case t.vast.TrackingEvent.firstQuartile:case t.vast.TrackingEvent.midpoint:case t.vast.TrackingEvent.thirdQuartile:this.tracked[t.vast.TrackingEvent.start]||this.trackVastEvent(t.vast.TrackingEvent.start);break;case t.vast.TrackingEvent.progress:this.trackedProgress[c]=!0;var d=c-1;d>0&&!this.trackedProgress[d]&&(this.logger.debug("track missing previous progress "+d),this.trackProgress(d));break;case t.vast.TrackingEvent.mute:if(!this.tracked[t.vast.TrackingEvent.impression])return}t.ArrayHelper.includes(this.trackOnce,e)&&this.tracked[e]||(this.tracker.track(e,t.Option.of(this.mediaFile),i,t.Option.of(this.adDuration),o,t.Option.of(s)),this.tracked[e]=!0)},n.prototype.trackVastEvent=function(e){this.trackEvent(e,t.Option.empty(),t.Option.empty(),t.Option.empty())},n.prototype.trackVpaidEvent=function(e,n){this.trackEvent(e,t.Option.of(n),t.Option.empty(),t.Option.empty())},n.prototype.trackProgress=function(e){this.trackEvent(t.vast.TrackingEvent.progress,t.Option.of(t.vpaid.VPAIDEvent.AdRemainingTimeChange),t.Option.of(e),t.Option.empty())},n.prototype.trackError=function(e,n,i){var o=i&&i[1]&&"number"==typeof i[1]&&!isNaN(i[1])?i[1]:t.VastException.GENERAL.id,r=i&&i[0]||this.findExceptionMsg(o);this.trackEvent(e,t.Option.of(n),t.Option.empty(),t.Option.of(t.Exception.get(o,"AdError : "+r)))},n}();n.Tracker=i}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(130);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(e,n,i,o,r,a){var s=this;this.container=e,this.config=n,this.vpaidAd=i,this.mediaFile=o,this.bufferingTimer=null,this.bufferingDone=!1,this.elapseTime=0,this.logger=new t.Logger("player.plugin.Bench");try{var c=t.HTMLHelper.findParentWindows(this.container).pop(),d=function(){s.elapseTime>1e3&&0===s.getCurrentTime()&&(s.clearBufferingTimer(!0),s.visibility.destroy())};this.visibility=t.Visibility.listenWindow(c,d,function(){})}catch(t){this.logger.error("Error with visibility init",t)}this.vpaidAd.subscribe(function(){s.getBuffering()},t.vpaid.VPAIDEvent.AdStarted),this.vpaidAd.subscribe(function(){s.clearBufferingTimer()},t.vpaid.VPAIDEvent.AdPaused),this.vpaidAd.subscribe(function(){s.getBuffering()},t.vpaid.VPAIDEvent.AdPlaying)}return n.prototype.init=function(){},n.prototype.deinit=function(){},n.prototype.getBuffering=function(n){var i=this;void 0===n&&(n=500),this.bufferingDone||(this.bufferingTimer=setTimeout(function(){try{i.elapseTime=n;var o=i.getCurrentTime();if(o>0){var r=n-1e3*o>0?n-1e3*o:0;"number"==typeof r&&r>=0&&(i.logger.debug("Buffering: "+r+"ms"),e.playerSumologic.sendInfo("Buffering: "+r+"ms with "+i.mediaFile.type+" on "+t.Context.getContextSummary())),i.bufferingDone=!0,i.visibility.destroy()}else i.getBuffering(n+=500)}catch(t){i.logger.error("Error with buffering method",t)}},500))},n.prototype.clearBufferingTimer=function(t){void 0===t&&(t=!1);try{this.bufferingTimer&&(clearTimeout(this.bufferingTimer),this.bufferingTimer=null,t&&(this.logger.warn("Stop buffering calculation"),this.bufferingDone=!0))}catch(t){this.logger.error("An error occured while cleaning the buffering timer",t)}},n.prototype.getCurrentTime=function(){return this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime()?this.vpaidAd.getAdDuration()-this.vpaidAd.getAdRemainingTime():0},n}();n.Bench=i}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(164),n(99),n(210),n(114);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(e,n,i,o,r,a){this.container=e,this.config=n,this.vpaidAd=i,this.mediaFile=o,this.linearAd=r,this.logger=new t.Logger("player.plugin.Extensions")}return n.prototype.init=function(){var n=this;t.ArrayHelper.forEach(this.linearAd.extensions,function(i){var o=t.vast.ExtensionType,r=o.AD_VERIFICATIONS,a=o.MOAT_JS,s=o.VISIBILITY,c=o.HTML,d=o.IFRAME,l=o.SCRIPT,p=o.ALENTY;switch(i.type){case e.TeadsStudioExtension.EXTENSION_TYPE:var u=e.TeadsStudioExtension.parse(i.content);u&&u.width&&u.height&&(n.mediaFile.width=u.width,n.mediaFile.height=u.height);break;case r:var h=t.ArrayHelper.map(n.retrieveCreativePrefetchAdVerificationScriptUrls(i),function(t){return t.url});n.prefetchAdVerificationScripts(h);break;case a:n.initMoatTracking(i);break;case s:case c:case d:n.injectIframe(i.content);break;case l:case p:n.injectJs(i.content);break;default:n.logger.warn("Unhandled extension type",i)}})},n.prototype.deinit=function(){},n.prototype.getExtension=function(e){return t.Option.of(t.ArrayHelper.find(this.linearAd.extensions,function(t){return t.type===e}))},n.prototype.retrieveCreativePrefetchAdVerificationScriptUrls=function(e){var n=this,i=t.ArrayHelper.fromNodeList(e.xml.querySelectorAll("Verification")),o=t.ArrayHelper.map(i,function(t){return[t.getAttribute("vendor"),t.querySelector("JavaScriptResource")]}),r=t.ArrayHelper.filter(o,function(t){return"creative-prefetch"===t[1].getAttribute("apiFramework")}),a=/src="([^"]+)/gi,s=t.ArrayHelper.map(r,function(e){var i=e[0],o=e[1];return t.Option.of(o.textContent).map(t.StringHelper.trim).map(function(e){for(var o,r=[];null!==(o=a.exec(e));)r.push(o[1]);var s="DoubleVerify"===i?t.ArrayHelper.map(r,function(e){return t.URIHelper.replaceUrlParameter(e,"btreg",n.container.getAttribute("id"))}):r;return t.ArrayHelper.map(s,function(t){return{vendor:i,url:t}})})});return t.ArrayHelper.reduce(s,function(t,e){return e.map(function(e){return t.concat(e)}).getOrElse(function(){return t})},[])},n.prototype.prefetchAdVerificationScripts=function(e){t.ArrayHelper.forEach(e,function(t){return(new Image).src=t})},n.prototype.initMoatTracking=function(e){var i=this,o=this.vpaidAd.getAdDuration();o<=0&&(o=this.linearAd.duration),this.externalAdVolume=this.vpaidAd.getAdVolume();var r,a=t.JSON.parse(e.content),s=t.HTMLHelper.findParentWindows(this.container),c=s.pop()||window,d=this.config.formatConfig&&this.config.formatConfig.threshold?this.config.formatConfig.threshold.value:0,l=[],p=this;t.Context.isDesktop()?r="desktop":t.Context.isTablet()?r="tablet":t.Context.isMobile()&&(r="mobile");var u={adData:{ids:a,duration:o,url:this.mediaFile.url},dispatchEvent:function(i){try{var s=p.vpaidAd.getAdDuration()-p.vpaidAd.getAdRemainingTime()>0?p.vpaidAd.getAdDuration()-p.vpaidAd.getAdRemainingTime():0,u=a.level3.match(/(\d+)/)?a.level3.match(/(\d+)/)[1]:a.level3,h=t.HTMLHelper.getPercentageInView(p.container,c);e.definition.id!==p.linearAd.id&&(e.definition.adSystem&&e.definition.adSystem.match(/teads/i)?"wrappteads":"wrappnotteads");var f=["[MOAT] "+u,a.slicer2,i.type||i,p.vpaidAd.getAdVolume(),o+"s",-1===h?"Error":Math.floor(100*h)+"%",r,s.toFixed?s.toFixed(3):s,t.HTMLHelper.isInView(p.container,c,d/100),d,c.location.hostname];t.player.playerSumologic.sendInfo(f.join(" - "),null,n.MOAT_TEST_INSERTIONID.test(u)?1:.01)}catch(e){var u=void 0;a&&a.level3&&(u=a.level3.match(/(\d+)/)?a.level3.match(/(\d+)/)[1]:a.level3),t.player.playerSumologic.sendInfo("[MOAT error] "+e,null,n.MOAT_TEST_INSERTIONID.test(u)?1:.01)}if(this.sendEvent){var g=i;l&&(l.push(i),g=l,l=null),this.sendEvent(g)}else l.push(i)}};this.logger.debug("intialized MOAT with",u.adData);var h=["AdStopped","AdVideoStart","AdVideoFirstQuartile","AdVideoMidpoint","AdVideoThirdQuartile","AdVideoComplete","AdPaused","AdPlaying"];t.ArrayHelper.forEach(h,function(t){i.vpaidAd.subscribe(function(){var e={type:t,adVolume:i.externalAdVolume};i.logger.debug("sending MOAT event",e),u.dispatchEvent(e)},t)}),this.vpaidAd.subscribe(function(){if(i.externalAdVolume!==i.vpaidAd.getAdVolume()){var t={type:"AdVolumeChanged",adVolume:i.vpaidAd.getAdVolume()};i.logger.debug("sending MOAT event",t),u.dispatchEvent(t),i.externalAdVolume=i.vpaidAd.getAdVolume()}},"AdVolumeChange");var f="_moatApi"+t.StringHelper.rand(8),g=t.HTMLHelper.getWindow(this.container);g[f]=u;var m=t.HTMLHelper.getDocument(this.container).createElement("script"),v=g.location.protocol,y="https:"===v?"z":"js";m.src=v+"//"+y+".moatads.com/"+n.MOAT_PARTNER_CODE+"/moatvideo.js#"+f,this.container.insertBefore(m,this.container.childNodes[0])},n.prototype.injectJs=function(t){var e=document.createElement("script");e.async=!0,e.src=t,document.body.appendChild(e)},n.prototype.injectIframe=function(t){var e=document.createElement("iframe");e.style.width="10px",e.style.height="10px",e.style.position="absolute",e.style.left="-999em",e.style.top="0",document.body.appendChild(e);var n=e.contentWindow.document;n.open(),n.write(-1===t.indexOf("<html")?"<!doctype html><html><head></head><body>"+t+"</body></html>":t),n.close()},n.MOAT_PARTNER_CODE="teads245638586802",n.MOAT_TEST_INSERTIONID=/^103055$/,n}();n.Extensions=i}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(164),n(99);var i=window.teads=window.teads||{};!function(t){!function(e){!function(n){var i=function(){function n(e,n,i,o,r,a){this.container=e,this.config=n,this.vpaidAd=i,this.mediaFile=o,this.linearAd=r,this.logger=new t.Logger("player.plugin.IAS"),this.lastSentData={},this.sentVpaidEvents={},this.isMuted=!0}return n.prototype.init=function(){var e=this;this.logger.debug("init IAS plugin");var i=t.vast.IAS.getIASConfig(this.linearAd);i&&(t.ArrayHelper.forEach(n.IASEvents,function(t){e.vpaidAd.subscribe(function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return e.sentVpaidEvents[t]=n},t)}),this.vpaidAd.subscribe(function(){e.loadIASVANS(i)},t.vpaid.VPAIDEvent.AdStarted))},n.prototype.deinit=function(){},n.prototype.loadIASVANS=function(t){var n=this,i=this.config.path+"/"+e.ASSETS.iasvans,o=document.createElement("script");o.onload=function(){n.logger.debug("IAS VANS loaded"),n.initIAS(t)},o.onerror=function(){n.logger.error("unable to load IASVANS "+i)},o.async=!0,o.defer=!0,o.src=i,document.head.appendChild(o)},n.prototype.initIAS=function(e){var i=this;this.logger.debug("init IAS extension",e);var o;try{var r=this.vpaidAd;if(r.container.getEnvironmentVars)o=r.container.getEnvironmentVars().videoSlot;else{if(!r.vpaid.container.getEnvironmentVars)return;o=r.vpaid.container.getEnvironmentVars().videoSlot}}catch(t){return void this.logger.error("unable to retrieve video node",this.vpaidAd)}this.vans=new __IASVANS;try{if(e.type===t.vast.IAS_FIREWALL)this.vans.initFW(e.data,o,function(t){});else{if(e.type!==t.vast.IAS_CAMPAIGN_MONITORING)throw"invalid config";this.vans.initCM(e.data,o)}this.logger.debug("init IAS VANS with",e,o)}catch(t){return void this.logger.error("error init on __IASVANS_3 "+t)}for(var a in this.sentVpaidEvents)this.sentVpaidEvents.hasOwnProperty(a)&&(this.logger.debug("redispatch VPAID event to IAS",a,this.sentVpaidEvents[a]),this.sendEvent(a,this.sentVpaidEvents[a]));t.ArrayHelper.forEach(n.IASEvents,function(t){i.vpaidAd.subscribe(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];i.sendEvent(t,e)},t)}),this.vpaidAd.subscribe(function(){this.sendEvent("resizeAd")},t.vpaid.VPAIDEvent.AdSizeChange)},n.prototype.sendEvent=function(e,n){var i=function(t){return Math.round(100*t)/100},o={};switch(e){case"resizeAd":o={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight(),viewMode:"normal"};break;case t.vpaid.VPAIDEvent.AdError:o={message:n[0]};break;case t.vpaid.VPAIDEvent.AdClickThru:o={url:null,id:n[1],playerHandles:n[2]}}if(o.volume=i(this.vpaidAd.getAdVolume()),o.ad_duration=i(this.vpaidAd.getAdDuration()),isNaN(o.ad_duration)&&(o.ad_duration=-2),e!==t.vpaid.VPAIDEvent.AdDurationChange||this.lastSentData.ad_duration!==o.ad_duration){if(e===t.vpaid.VPAIDEvent.AdVolumeChange){if(this.isMuted&&0===o.volume||!this.isMuted&&o.volume>.1)return;this.isMuted=0===o.volume}try{this.vans.sendEvent(e,o),this.lastSentData=o,this.logger.debug("IAS VANS, sendEvent",e,o)}catch(t){this.logger.error("error sending IAS event",e,o)}}},n.IASEvents=[t.vpaid.VPAIDEvent.AdLoaded,t.vpaid.VPAIDEvent.AdStarted,t.vpaid.VPAIDEvent.AdStopped,t.vpaid.VPAIDEvent.AdSkipped,t.vpaid.VPAIDEvent.AdSkippableStateChange,t.vpaid.VPAIDEvent.AdDurationChange,t.vpaid.VPAIDEvent.AdVolumeChange,t.vpaid.VPAIDEvent.AdImpression,t.vpaid.VPAIDEvent.AdVideoStart,t.vpaid.VPAIDEvent.AdVideoFirstQuartile,t.vpaid.VPAIDEvent.AdVideoMidpoint,t.vpaid.VPAIDEvent.AdVideoThirdQuartile,t.vpaid.VPAIDEvent.AdVideoComplete,t.vpaid.VPAIDEvent.AdClickThru,t.vpaid.VPAIDEvent.AdPaused,t.vpaid.VPAIDEvent.AdPlaying,t.vpaid.VPAIDEvent.AdError],n}();n.IAS=i}(e.plugin||(e.plugin={}))}(t.player||(t.player={}))}(i||(i={}))},function(t,e,n){n(119),n(184),n(272),n(237),n(89),n(273),n(274),n(275);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.btf=function(e,n){if(!e.placementConfig.btf.isEnabled())return{status:!0,reason:"placement.placementConfig.btf is false"};var i=t.Dom.getScrollTop(e.placementConfig.parentWindow.getWindow()),o=n.getElementRect(),r=t.Dom.getWindowSize(e.placementConfig.parentWindow.getWindow()).height;if(e.placementConfig.belowSelector.get()){e.placementConfig.belowSelector.getFirstElement()&&(r=Math.max(r,e.placementConfig.belowSelector.getFirstElementRect().bottom))}if(e.placementConfig.insertBefore.isEnabled()){var a=o.top+i;return{status:a>=r,reason:t.Constant.TRACKING.noSlot.btf,information:"top: "+Math.round(a)+" px >= waterline: "+r+" px"}}var s=o.bottom+i;return{status:s>=r,reason:t.Constant.TRACKING.noSlot.btf,information:"bottom: "+Math.round(s)+"px >= waterline: "+r+"px"}},e.minimum=function(e,n){var i=n.getIndex()+1;return i>=e.placementConfig.minimum.get()?{status:!0,reason:""}:{status:!1,reason:t.Constant.TRACKING.noSlot.minimum,information:"slot: "+i+" < config: "+e.placementConfig.minimum.get()}},e.minimumBelow=function(e,n,i){if(!e.placementConfig.belowSelector.get()||null===e.placementConfig.minimumBelow.get())return{status:!0,reason:""};var o=e.placementConfig.belowSelector.getFirstNodeBelowIndex(i),r=n.getIndex();return r>=e.placementConfig.minimumBelow.get()+o-1?{status:!0,reason:""}:{status:!1,reason:t.Constant.TRACKING.noSlot.minimumBelow,information:"slot: "+r+" < config: "+e.placementConfig.minimumBelow.get()}},e.height=function(e,n){var i=650/t.Constant.DEFAULT_VIDEO_SIZE_RATIO,o=e.initDom(n),r=typeof o;if(("object"!==r||null===o)&&"function"!==r||1!==o.nodeType)return{status:!1,reason:""};o.style.height="0px",o.style.textAlign="center",""===o.style.maxWidth&&(o.style.maxWidth="100%");var a={x:o.offsetLeft,y:o.offsetTop};o.style.overflow="hidden";var s={x:o.offsetLeft,y:o.offsetTop};o.style.marginTop=.33*i+"px";var c={x:o.offsetLeft,y:o.offsetTop};o.style.marginTop="0";var d=Math.abs(a.y-s.y)<8&&Math.abs(a.y-c.y)<.33*i+8;o.style.position="relative";var l=t.Dom.getSize(o);return l.height=l.width/t.Constant.DEFAULT_VIDEO_SIZE_RATIO,o&&o.parentNode&&o.parentNode.removeChild(o),{status:d,reason:t.Constant.TRACKING.noSlot.position,information:"Check height failed"}},e.avoid=function(e,n){var i={status:!0,reason:""};if(e.placementConfig.avoid.getSlots())for(var o=e.placementConfig.avoid.getSlots(),r=t.Dom.getBoundingClientRect(n.getElement()),a=0,s=0,c=o;s<c.length;s++){var d=c[s];if(n.getElement()===d.getElement()){i.status=!1,i.reason=t.Constant.TRACKING.noSlot.avoid,i.information="AvoidSlot === Slot";break}var l=t.Dom.getBoundingClientRect(d.getElement()),p=e.placementConfig.avoid.getDistance(),u={top:l.top-p,left:l.left-p,bottom:l.bottom+p,right:l.right+p,height:l.height+2*p,width:l.width+2*p};if(t.helper.Debug.showAvoidSlot(d.getElement(),u,e.placementConfig.parentWindow.getWindow()),r.top!==r.bottom){var h={x:Math.max(0,Math.min(r.right,u.right)-Math.max(r.left,u.left)),y:Math.max(0,Math.min(r.bottom,u.bottom)-Math.max(r.top,u.top))};if(a=h.x*h.y){i.status=!1,i.reason=t.Constant.TRACKING.noSlot.avoid,i.information="Avoid - "+Math.ceil(a)+"px2";break}}else if(r.top>u.top&&r.top<u.bottom){i.status=!1,i.reason=t.Constant.TRACKING.noSlot.avoid,i.information="Avoid - slot inside avoid area";break}}return i},e.filter=function(e,n,i){n.resolveSize();var o={i:n.getIndex(),elt:n.getElement(),elts:i,wrappedSizes:{width:n.getWidth(),height:n.getWidth()/16*9}};return{status:e.placementConfig.filter.trigger(o),reason:t.Constant.TRACKING.noSlot.filter}},e.size=function(e,n){var i={status:!0,reason:""};if(n.resolveSize(),t.Dom.isSelfClosingTag(n.getElement()))return i;for(var o,r={">=":function(t,e){return t>=e},"<=":function(t,e){return t<=e}},a=[{name:"minimumHeight",property:n.getHeight(),score:t.placement.Checker.configScore.MIN_LONG_HEIGHT,operator:">="},{name:"minimumWidth",property:n.getWidth(),score:e.placementConfig.minimumWidth.get(),operator:">="},{name:"maximumHeight",property:n.getHeight(),score:t.placement.Checker.configScore.MAX_LONG_HEIGHT,operator:"<="},{name:"maximumWidth",property:n.getWidth(),score:e.placementConfig.maximumWidth.get(),operator:"<="}],s=0;i.status&&a[s];)if(o=a[s++],i.status=r[o.operator](o.property,o.score),!i.status){i.reason=t.Constant.TRACKING.noSlot.size,i.information=o.name+": "+o.property+" "+o.operator+" "+o.score;break}return i},e.positionTop=function(e,n){if(!e.placementConfig.selector.get())return{status:!0,reason:"placement.placementConfig.selector not set"};var i=n.getElement(),o=t.Dom.getScrollTop(e.placementConfig.parentWindow.getWindow()),r=t.Dom.getBoundingClientRect(i).top;return{status:r+o>=this.configScore.MIN_POSITION_TOP&&r+o<=this.configScore.MAX_POSITION_TOP,reason:t.Constant.TRACKING.noSlot.position,information:"positionTop: "+this.configScore.MIN_POSITION_TOP+" <= "+(r+o)+" <= "+this.configScore.MAX_POSITION_TOP}},e.position=function(t,n){var i=e.positionTop.apply(e,arguments);return i.status?e.height.apply(e,arguments):i},e.textLength=function(e,n){var i={status:!0,reason:t.Constant.TRACKING.noSlot.content},o=n.getElement(),r=[];t.Dom.getTextContent(o,r);var a=r.join("");return t.Dom.isSelfClosingTag(o)||(i.status=a.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").length>=e.placementConfig.minimumTextLength.get()),i},e.children=function(e,n){var i,o=0,r=n.getElement(),a=r.children||r.childNodes;if(0===a.length)return{status:!0,reason:"children empty"};do{if(i=a[o++],"P"===i.nodeName||"DIV"===i.nodeName||"BR"===i.nodeName)return{status:!1,reason:t.Constant.TRACKING.noSlot.content,information:i.nodeName}}while(a[o]);return{status:!0,reason:""}},e.content=function(t,e){var n=this.textLength.apply(this,arguments);return n.status?this.children.apply(this,arguments):n},e.video=function(e,n){var i={status:!0,reason:""},o=e.placementConfig.parentWindow.getWindow();return e.placementConfig.videoFilter.get()===t.option.VideoFilter.VALUES.SLOT?t.helper.CheckerHelper.checkVideoPrevNextElement(n.getElement(),o)&&(i.status=!1,i.reason=t.Constant.TRACKING.noSlot.videoSlot,i.information="slot is too close to a video"):e.placementConfig.videoFilter.get()===t.option.VideoFilter.VALUES.ARTICLE&&t.helper.CheckerHelper.checkVideoSiblings(n.getElement(),o)&&(i.status=!1,i.reason=t.Constant.TRACKING.noSlot.videoArticle,i.information="slot container (article) has a video"),i},e.image=function(e,n){var i={status:!0,reason:""},o=e.placementConfig.parentWindow.getWindow();return e.placementConfig.imageFilter.get()===t.option.ImageFilter.VALUES.SLOT&&t.helper.CheckerHelper.checkImagePrevNextElement(n.getElement(),o)&&(i.status=!1,i.reason=t.Constant.TRACKING.noSlot.imageSlot,i.information="slot is too close to an image"),i},e.safeframe=function(e,n){var i={status:!0,reason:""};return t.Context.isIABSafeFrame()&&(i.information=t.helper.SafeFrameResize.init(),i.reason=i.information?t.Constant.TRACKING.noSlot.safeFrame:"",i.status=!i.information),i},e.configScore={MIN_POSITION_TOP:100,MAX_POSITION_TOP:18e3,MIN_LONG_HEIGHT:30,MAX_LONG_HEIGHT:2e3,WIDTH_MARGIN:40,HEIGHT_MARGIN:20,LENGTH_MARGIN:150,LEVEL_POSITION:200},e}();e.Checker=n}(t.placement||(t.placement={}))}(i||(i={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Pid")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){if(!t.Utils.isNumber(this.value)||this.value<=0)throw new t.FormatException(t.FormatException.OPTION_PID_INVALID)},n.prototype.get=function(){return this.value},n.DEFAULT=null,n}(e.AbstractOption);e.Pid=n}(t.option||(t.option={}))}(o||(o={}))},,function(t,e,n){n(89),n(51),n(136),n(231),n(186),n(233),n(244),n(245),n(246),n(234),n(247),n(248),n(249),n(250),n(251),n(252),n(253),n(254),n(255),n(256),n(257),n(258),n(259),n(260),n(261),n(262),n(263),n(264),n(265),n(266),n(267),n(268),n(269),n(270),n(120),n(137),n(116);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e){if(!e.settings)throw new t.FormatException(t.FormatException.INCOMPLETE_OBJECT);var n={type:e.type,content:e.content};this.vast=new t.option.Vast(n,e.settings.values.placementId),e.settings.values=e.settings.values||{placementFormat:null,pageId:null,placementId:null,threshold:null},e.settings.components=e.settings.components||{},e.settings.behaviors=e.settings.behaviors||{},this.adSourceId=e.ad_source_id,this.connectionId=e.connection_id,this.insertionId=e.insertion_id,this.dspCampaignId=e.dsp_campaign_id,this.dspCreativeId=e.dsp_creative_id,this.scenarioId=e.scenario_id,this.formatName=new t.option.Format(e.settings.values.placementFormat),this.pageId=e.settings.values.pageId,this.placementId=e.settings.values.placementId,this.threshold=new t.option.Threshold(e.settings.values.threshold),this.volume=new t.option.Volume(e.settings.values.volume),this.animations=new t.option.Animations(e.settings.values.animations,this.formatName,this.placementId),this.adType=new t.option.AdType(e.settings.values.adType),this.vtpEvent=new t.option.VtpEvent(e.settings.values.vtpEvent),this.smartPosition=new t.option.SmartPosition(e.settings.behaviors.smartPosition,this.insertionId,this.connectionId,this.formatName),this.sticky=new t.option.Sticky(e.settings.behaviors.sticky,this.formatName),this.closeButton=new t.option.CloseButton(e.settings.components.closeButton,this.smartPosition),this.soundButton=new t.option.SoundButton(e.settings.components.soundButton),this.callButton=new t.option.CallButton(e.settings.components.callButton),this.timer=new t.option.Timer(e.settings.components.timer),this.progressBar=new t.option.ProgressBar(e.settings.components.progressBar),this.label=new t.option.Label(e.settings.components.label),this.credits=new t.option.Credits(e.settings.components.credits,this.smartPosition,this.formatName),this.endScreen=new t.option.EndScreen(e.settings.components.endScreen),this.brandLogo=new t.option.BrandLogo(e.settings.components.brandLogo,e.settings.values.brandLogoUrl),this.slider=new t.option.Slider(e.settings.components.slider),this.launch=new t.option.Launch(e.settings.behaviors.launch,this.placementId),this.videoStart=new t.option.VideoStart(e.settings.behaviors.videoStart,this.formatName,this.smartPosition),this.soundStart=new t.option.SoundStart(e.settings.behaviors.soundStart),this.videoPause=new t.option.VideoPause(e.settings.behaviors.videoPause),this.soundMute=new t.option.SoundMute(e.settings.behaviors.soundMute),this.soundOver=new t.option.SoundOver(e.settings.behaviors.soundOver),this.playerClick=new t.option.PlayerClick(e.settings.behaviors.playerClick),this.end=new t.option.End(e.settings.behaviors.end),this.callbacks=new t.option.Callbacks(e.callbacks,this.volume),this.allowedPlayer=new t.option.AllowedPlayer(e.settings.values.allowedPlayer,this.formatName,this.smartPosition,this.placementId)}return e}();t.FormatConfig=e}(i||(i={}))},function(t,e,n){n(7),n(187),n(208),n(232),n(217);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,i){void 0===t&&(t=n.DEFAULT);var o=e.call(this,"Callbacks")||this;return o.callbacks=t,o.volume=i,o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isObject(this.callbacks)||(this.callbacks=n.DEFAULT)},n.prototype.trigger=function(e,n,i){if(this.last===e)return this.logger.debug("Callbacks already triggered",e),!1;if(e===t.vpaid.VPAIDEvent.AdVolumeChange&&n&&(n.getVolume()===this.volume.getMain()||n.getVolume()===this.volume.getMouseover()?this.trigger("unmute"):n.isMuted()&&this.trigger("mute")),e===t.vpaid.VPAIDEvent.AdExpandedChange&&i&&(i.isActive()?this.trigger("enterFullscreen"):this.trigger("exitFullscreen")),t.Utils.isFunction(this.callbacks[e]))try{return this.callbacks[e](),this.last=e,!0}catch(n){t.formatSumologic.sendError({message:'The "'+e+'" callback threw an error'}),this.logger.error('the "'+e+'" callback threw an error:',n)}else this.callbacks[e]&&this.logger.error('the "'+e+'" callback is not a function:',this.callbacks[e]);return!1},n.DEFAULT={},n}(e.AbstractOption);e.Callbacks=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(136),n(84);var i=window.teads=window.teads||{};!function(t){!function(e){var n;!function(t){t[t.NO=0]="NO",t[t.HAS_MUTED=1]="HAS_MUTED",t[t.HAS_UNMUTED=2]="HAS_UNMUTED"}(n=e.userInteractionSound||(e.userInteractionSound={}));var i=function(){function e(){this.lastUserInteractionSound=n.NO,this.cursorCoords={x:0,y:0},this.currentVolume=0,this.muteCallbacks=[],this.unmuteCallbacks=[],this.logger=new t.Logger("helper.VolumeController"),this.eventListenerManager=new t.DOMEventListenerManager}return e.prototype.init=function(t){this.abstractFormat=t,this.vpaidAd=t.getVpaidAd(),this.formatConfig=t.formatConfig,this.formatConfig.soundStart.isMute()?this.hasStarted=!1:this.formatConfig.soundStart.isUnmute()?this.hasStarted=!0:this.formatConfig.soundStart.isCountdown()&&(this.hasStarted=!1)},e.prototype.getVolume=function(){return-1===this.vpaidAd.getAdVolume()?this.currentVolume:this.vpaidAd.getAdVolume()},e.prototype.setVolume=function(t){this.getVolume()!==t&&(this.currentVolume=t,this.vpaidAd.setAdVolume(t))},e.prototype.toggleVolume=function(){if(this.getVolume()>0)this.mute(),this.lastUserInteractionSound=n.HAS_MUTED,t.ArrayHelper.forEach(this.muteCallbacks,function(t){return t()});else{var e=t.Context.isDesktop()?this.formatConfig.volume.getMouseover():this.formatConfig.volume.getMain();this.setVolume(e),this.lastUserInteractionSound=n.HAS_UNMUTED,t.ArrayHelper.forEach(this.unmuteCallbacks,function(t){return t()})}},e.prototype.userAlreadyInteracted=function(){return this.lastUserInteractionSound!==n.NO},e.prototype.startAt=function(e){var n=this,i=function(){n.vpaidAd.getAdDuration()-n.vpaidAd.getAdRemainingTime()>=e&&(n.vpaidAd.unsubscribe(i,t.vpaid.VPAIDEvent.AdRemainingTimeChange),n.hasStarted||(n.hasStarted=!0,n.setVolume(n.formatConfig.volume.getMain())))};this.vpaidAd.subscribe(i,t.vpaid.VPAIDEvent.AdRemainingTimeChange)},e.prototype.mute=function(){this.setVolume(0)},e.prototype.isMuted=function(){return 0===this.getVolume()},e.prototype.onMouseOver=function(){this.userAlreadyInteracted()||(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())&&this.setVolume(this.formatConfig.volume.getMouseover())},e.prototype.onMouseOut=function(){this.userAlreadyInteracted()||(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())&&(this.formatConfig.soundOver.isOver()?this.formatConfig.soundStart.isUnmute()?this.setVolume(this.formatConfig.volume.getMain()):this.formatConfig.soundStart.isMute()?this.setVolume(0):this.formatConfig.soundStart.isCountdown()&&this.setVolume(this.formatConfig.volume.getMain()):this.formatConfig.soundOver.isOnceOver()&&this.setVolume(this.formatConfig.volume.getMain()))},e.prototype.onAdVideoStart=function(){if(this.formatConfig.soundStart.isUnmute())this.setVolume(this.formatConfig.volume.getMain());else if(this.formatConfig.soundStart.isCountdown())this.startAt(this.formatConfig.soundStart.getCountdown());else if(t.Context.isDesktop()&&!t.Context.isIABSafeFrame()){var e=t.Dom.getBoundingClientRect(this.abstractFormat.parentContainer),n=this.cursorCoords.x>=e.left&&this.cursorCoords.x<=e.right,i=this.cursorCoords.y>=e.top&&this.cursorCoords.y<=e.bottom;n&&i&&(this.formatConfig.soundOver.isOver()||this.formatConfig.soundOver.isOnceOver())?this.setVolume(this.formatConfig.volume.getMouseover()):this.setVolume(0),this.eventListenerManager.remove("mousemove")}else this.setVolume(0)},e.prototype.replay=function(){var e=this,n=t.Dom.getBoundingClientRect(this.abstractFormat.parentContainer);t.Context.isDesktop()&&(this.cursorCoords={x:Math.floor(n.left+n.width/2),y:Math.floor(n.top+n.height/2)},this.eventListenerManager.add("mousemove",this.abstractFormat.placement.placementConfig.parentWindow.getWindow().document.body,function(t){e.cursorCoords={x:t.clientX,y:t.clientY}}))},e.prototype.startInView=function(){if(!this.userAlreadyInteracted()){this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&(this.formatConfig.soundStart.isCountdown()||this.formatConfig.soundStart.isUnmute()||this.formatConfig.soundOver.isOnceOver())&&this.setVolume(this.formatConfig.volume.getMain())}},e.prototype.endInView=function(){!this.userAlreadyInteracted()&&this.formatConfig.soundMute.isThreshold()&&this.hasStarted&&this.setVolume(0)},e.prototype.addMuteCallback=function(e){t.ArrayHelper.indexOf(this.muteCallbacks,e)<0&&this.muteCallbacks.push(e)},e.prototype.addUnmuteCallback=function(e){t.ArrayHelper.indexOf(this.unmuteCallbacks,e)<0&&this.unmuteCallbacks.push(e)},e}();e.VolumeController=i}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(7),n(179);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Css")||this;return i.originalRules=t,i.checkValue(),i.originalRules&&(i.rules=n.transformStringToObject(i.originalRules)),i}return i(n,e),n.transformStringToObject=function(e){var n={};if(!e)return n;var i=e.split(";");return t.ArrayHelper.forEach(i,function(e){var i=e.split(":"),o=i[0],r=i[1];o&&r&&(o=t.StringHelper.trim(o),r=t.StringHelper.trim(r),n[o]=r,"float"===o&&(n.cssFloat=r,n.styleFloat=r))}),n},n.prototype.checkValue=function(){t.Utils.isString(this.originalRules)||(this.originalRules=n.DEFAULT)},n.prototype.getOriginal=function(){return this.originalRules},n.prototype.applyRulesOn=function(t){this.applyCssRulesOn(t,this.rules)},n.prototype.applyCssRulesOn=function(t,e){var i,o=!1;for(var r in e)e.hasOwnProperty(r)&&(o=n.IMPORTANT_REGEX.test(e[r]),i=e[r].replace(n.IMPORTANT_REGEX,"").trim(),t.style.setProperty(r,i,o?"important":null))},n.DEFAULT=null,n.IMPORTANT_REGEX=/!\s*important/i,n}(e.AbstractOption);e.Css=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Format")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){if(!t.Utils.isString(this.value)||!n.VALUES[this.value.toUpperCase()]||t.Context.isAmp()&&!this.isInRead())throw new t.FormatException(t.FormatException.OPTION_FORMAT_INVALID)},n.prototype.get=function(){return this.value},n.prototype.isInRead=function(){return this.value===n.VALUES.INREAD},n.prototype.isInBoard=function(){return this.value===n.VALUES.INBOARD},n.prototype.isInterstitial=function(){return this.value===n.VALUES.INTERSTITIAL},n.prototype.isRewarded=function(){return this.value===n.VALUES.REWARDED},n.VALUES={INREAD:"inread",INBOARD:"inboard",INTERSTITIAL:"interstitial",REWARDED:"rewarded"},n.DEFAULT=null,n}(e.AbstractOption);e.Format=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function t(t){this.lang=t,this.translations={ar:{label:"إعلان"},cs:{label:"REKLAMA"},de:{label:"WERBUNG"},da:{label:"ANNONCE"},en:{label:"ADVERTISING"},es:{label:"PUBLICIDAD"},fr:{label:"PUBLICITÉ"},fi:{label:"MAINONTA"},hr:{label:"OGLAS"},hu:{label:"HIRDETÉS"},id:{label:"ADVERTISING"},it:{label:"PUBBLICITÀ"},ja:{label:"広告"},jamobile:{label:"タップして音声が流れます"},jamobilePR:{label:"[PR]タップして音が流れます"},ko:{label:"광고"},kr:{label:"광고"},mo:{label:"ADVERTISING"},nl:{label:"ADVERTENTIE"},no:{label:"ANNONSERING"},pl:{label:"REKLAMA"},pt:{label:"PUBLICIDADE"},ro:{label:"PUBLICITATE"},ru:{label:"РЕКЛАМА"},sr:{label:"ОГЛАШАВАЊЕ"},sk:{label:"REKLAMA"},sl:{label:"OGLAŠAVANJE"},sv:{label:"ANNONS"},sw:{label:"REKLAM"},tr:{label:"ILAN"},zh:{label:"广告"},"zh-hk":{label:"廣告"},"zh-tw":{label:"廣告"}}}return t.prototype.translate=function(t){return(this.translations[this.lang]||{})[t]},t}();t.L10n=e}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e){this.win=e,this.logger=new t.Logger("helper.SmartSlot")}return e.findArticle=function(n,i,o,r){o.length=0,o.currentScore=0,o.childrenScore=0,o.isOverMinimumWidth=!1;var a=n.innerText||n.textContent||n.nodeValue,s=n.nodeName.toUpperCase();if(a&&(3===n.nodeType||e.textNodes[s]))o.length=a.replace(/\s+/g," ").length;else if(n===i.document.body||1===n.nodeType&&e.nodeScores[s]){for(var c=0,d=0,l=0,p=n.childNodes.length;l<p;l++){var u=e.findArticle(n.childNodes[l],i,o);c+=u.length,d+=u.currentScore,(u.isOverMinimumWidth||t.Dom.getSize(n).width>=e.MINIMUM_WIDTH)&&(o.isOverMinimumWidth=!0)}o.currentScore=c,o.childrenScore=d}if(o.childrenScore&&o.isOverMinimumWidth&&o.childrenScore>e.MINIMUM_CHARS){for(var h=e.nodeScores[s]||0,f=n.className.split(" "),g=1,m=void 0,l=0,v=f.length;l<v;l++)m=f[l].replace(/^\s+|\s+$/g,""),g+=e.classBonuses[m]||0;var y=1;for(var A in e.attributeBonuses)if(e.attributeBonuses.hasOwnProperty(A)){var E=e.attributeBonuses[A],w=void 0===E.value&&void 0!==n.getAttribute(A),b=E.value===n.getAttribute(A);(w||b)&&(y+=E.bonus||0)}var S=o.childrenScore*h*g*y;S>o.article.score&&(o.article.score=S,o.article.node=n,r&&r.debug("found a better node scoring ",o.article.score,o.article.node))}return o},e.prototype.find=function(){this.logger.info("Auto slot is finding a slot"),t.Timing.mark("markFormatSmartSlotStart");var n={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},i=e.findArticle(this.win.document.body,this.win,n,this.logger);if(i.article&&i.article.node){var o=this.findParagraph(i.article.node);return t.Timing.mark("markFormatSmartSlotEnd"),o}return null},e.prototype.findParagraph=function(t){var e,n,i=["P","DIV"];for(n=0;n<i.length&&(e=t.getElementsByTagName(i[n]),!e.length);n++);return e},e.MINIMUM_SCORE=5e3,e.MINIMUM_CHARS=500,e.MINIMUM_WIDTH=200,e.nodeScores={DIV:10,P:4,ARTICLE:20,SECTION:5,SPAN:2,FORM:4,STRONG:2,EM:3,B:1,I:1,U:1,MAIN:2},e.textNodes={SPAN:!0,STRONG:!0,EM:!0,B:!0,I:!0,U:!0},e.classBonuses={article:4,"ob-text":6,"ob-section-html":4,contenuArticle:6},e.attributeBonuses={itemprop:{value:"articleBody",bonus:1e3}},e}();e.SmartSlot=n}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n;!function(t){t[t.Closed=0]="Closed",t[t.Init=1]="Init",t[t.Expanded=2]="Expanded"}(n=e.SF_ACTION||(e.SF_ACTION={}));var i=function(){function e(){}return e.init=function(){var e=this,n=this.validSafeFrameContext();if(n)return this.logger.error("init","failed",n),t.formatSumologic.sendError("SF "+n),n;this.eventListenerManager=new t.DOMEventListenerManager;var i=this.geom.par?this.geom.par.w:this.geom.self.w;return window.$sf.ext.register(i,1,function(t,n){return e.eventHandler(t,n)}),this.logger.debug("init - register (width-innerWidth-geom)",i,window.innerWidth,this.geom),this.listenGeom(function(){return e.geom=window.$sf.ext.geom()}),n},e.listenGeom=function(t){var e=this,n=this.geomListener.push(t);return function(){return e.geomListener[n-1]=function(){}}},e.listenFocus=function(t){var e=this,n=this.focusListener.push(t);return function(){return e.focusListener[n-1]=function(){}}},e.initSlot=function(t){var e=this;if(void 0===t&&(t=function(){}),this.logger.debug("initSlot"),0===window.innerWidth){this.logger.debug("initSlot - window.innerWidth=0 so wait for resize");var i,o=function(){0!==window.innerWidth&&(e.logger.debug("SafeFrame - window resize receive - start"),e.eventListenerManager.remove("resize"),i(),t())};this.eventListenerManager.add("resize",window,o),i=this.listenGeom(o)}else if(1===this.geom.self.w&&1===this.geom.self.h)if(window.$sf.ext.supports()["exp-push"]){this.logger.debug("initSlot - 1x1 detected - need to wait to get the slot width available");var r=function(){e.logger.debug("initSlot - 1x1 detected - expand available - get width"),e.processRequest({name:"initial expand",action:function(){return window.$sf.ext.expand({r:e.geom.exp.r,push:!0})},callback:function(i){var o="expanded"===i;e.status=o?n.Init:n.Closed,o&&(e.openWidth=e.geom.exp.r,e.logger.debug("initSlot - 1x1 detected - initial expand done - width",e.openWidth),t())}})};if(this.geom.exp.r)r();else var a=this.listenGeom(function(){e.geom.exp.r&&(a(),r())})}else this.logger.error("initSlot - 1x1 detected - but exp-push not supported");else t()},e.open=function(t,e){var i=this;void 0===e&&(e=function(){});var o=function(t){return i.processRequest({name:"open "+t,action:function(){return window.$sf.ext.expand({b:t,r:i.openWidth,push:!0})},callback:function(t){var o="expanded"===t;i.status=o?n.Expanded:n.Closed,e(o)}})},r=this.geom.par?this.geom.par.h:this.geom.self.h,a=t-r;this.status!==n.Expanded&&a>0?window.$sf.ext.supports()["exp-push"]?a<=this.geom.exp.b||this.geom.par?(this.logger.debug("open (askedHeight - currentHeight - allowed - requiredHeight)",t,r,this.geom.exp.b,a),this.status===n.Init?(this.logger.debug("open - slot already open by init - close it before"),this.close(function(){var t=Math.min(Math.floor(window.$sf.ext.geom().exp.b),a);o(t)})):o(a)):(this.logger.debug("open not allowed (askedHeight - currentHeight - allowed - requiredHeight)",t,r,this.geom.exp.b,a),e(!1)):(this.logger.error("open failed - exp-push not supported"),e(!1)):(this.logger.debug("already open (askedHeight - currentHeight - requiredHeight)",t,r,a),e(!0))},e.close=function(t){void 0===t&&(t=function(){}),this.status!==n.Closed?(this.logger.debug("close"),this.processRequest({name:"close",action:function(){return window.$sf.ext.collapse()},callback:function(){return t(!0)}}),this.status=n.Closed):t(!0)},e.validSafeFrameContext=function(){var e="";return t.Context.isIABSafeFrame()||(e="not in IABSafeFrame context"),window.$sf.ext.geom?(this.geom=window.$sf.ext.geom())||(e="window.$sf.ext.geom() return falsy value"):e="window.$sf.ext.geom not present",window.$sf.ext.supports||(e="window.$sf.ext.supports not present"),e},e.processRequest=function(t){t&&(this.logger.debug("processRequest add to list",t.name),this.requestQueue.push(t)),!this.requestCurrent&&this.requestQueue.length&&(this.requestCurrent=this.requestQueue.shift(),this.logger.debug("processRequest - process",this.requestCurrent.name),this.requestCurrent.action())},e.eventHandler=function(e,n){switch(this.logger.debug("event receive",e,n),e){case"expanded":case"collapsed":case"failed":this.requestCurrent&&this.requestCurrent.callback&&this.requestCurrent.callback(e),this.requestCurrent=null,this.processRequest();break;case"geom-update":n.cmd&&"focus-update"===n.cmd?t.ArrayHelper.forEach(this.focusListener,function(t){return t(n)}):t.ArrayHelper.forEach(this.geomListener,function(t){return t(n)});break;case"focus-change":t.ArrayHelper.forEach(this.focusListener,function(t){return t(n)})}},e.status=n.Closed,e.logger=new t.Logger("helper.SafeFrameResize"),e.requestQueue=[],e.geomListener=[],e.focusListener=[],e}();e.SafeFrameResize=i}(t.helper||(t.helper={}))}(n||(n={}))},,function(t,e,n){n(34),n(4),n(10);var i=window.teads=window.teads||{};!function(t){!function(e){var n=new t.Logger("Store");e.get=function(e){return t.Try.of(function(){return localStorage.getItem(e)}).recover(function(t){throw n.debug("An error occured while trying to access localStorage: "+t.toString()),t}).toOption().orElse(function(){return t.Cookie.get(e).recover(function(t){throw n.debug("An error occured while trying to get a cookie: "+t.toString()),t}).toOption()}).flatMap(function(e){return t.Try.of(function(){return t.JSON.parse(e)}).recover(function(t){throw n.warn("An error occured while trying to deserialize value to JSON: "+t.toString()),t}).toOption()})},e.set=function(e,i){var o=t.JSON.stringify(i);return t.Try.of(function(){return localStorage.setItem(e,o)}).recover(function(t){throw n.debug("An error occured while trying to write in localStorage: "+t.toString()),t}).orElse(function(){return t.Cookie.setAndExpireInOneYear(e,i).recover(function(t){throw n.debug("An error occured while trying to set a cookie: "+t.toString()),t})}).map(function(){})}}(t.Store||(t.Store={}))}(i||(i={}))},,,,,function(t,e,n){n(7),n(131);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"AdType")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value]||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.prototype.isVideo=function(){return this.value===n.VALUES.video},n.prototype.isDisplay=function(){return this.value===n.VALUES.display},n.prototype.isNative=function(){return this.value===n.VALUES.native},n.VALUES={video:"video",display:"display",native:"native"},n.DEFAULT=n.VALUES.video,n}(e.AbstractOption);e.AdType=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(131);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o,r,a){void 0===a&&(a=null);var s=e.call(this,"AllowedPlayer")||this;return s.formatName=o,s.smartPosition=r,s.placementId=a,s.isCustomContext()&&s.isCustomOs()?s.setValue(t.player.PLAYER_TYPE.CANVAS):s.setValue(n.VALUES[i]),s.checkValue(),s}return i(n,e),n.prototype.checkValue=function(){var t=!1;for(var e in n.VALUES)n.VALUES.hasOwnProperty(e)&&(t=t||this.value===n.VALUES[e]);t||(this.value=n.DEFAULT)},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(e){this.value=e,t.Context.cacheCanvasUsed(this.value===t.player.PLAYER_TYPE.CANVAS)},n.prototype.isCustomContext=function(){return t.Context.isAmp()||t.Context.isIABSafeFrame()||t.Context.isFacebookIA()||this.formatName.isInBoard()&&this.smartPosition.isEnabled()},n.prototype.isCustomOs=function(){return t.Context.isAndroid()&&!t.Semver.isGreaterOrEqual(t.Context.getChromeVersion(),"53")||t.Context.isIos()&&!t.Context.isWhiteListedIos10Safari(String(this.placementId))},n.VALUES={html5:t.player.PLAYER_TYPE.HTML5,canvas:t.player.PLAYER_TYPE.CANVAS,any:t.player.PLAYER_TYPE.ANY},n.DEFAULT=t.player.PLAYER_TYPE.ANY,n}(e.AbstractOption);e.AllowedPlayer=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o,r){void 0===i&&(i=n.DEFAULT),void 0===o&&(o=null),void 0===r&&(r=null);var a=e.call(this,"Animations")||this;return a.value=t.Utils.extend(n.DEFAULT,i),t.Constant.FORCE_EXPAND_ANIMATION_LIST.test(String(r))?a.value.expand=.5:o&&o.isInBoard()&&(a.value=n.DEFAULT_INBOARD),a.checkValue(),a}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.setExpandDuration=function(e){var i=this;t.ArrayHelper.forEach(n.PROPERTIES,function(t){e.style.setProperty(t,i.value.expand+"s")})},n.prototype.setCollapseDuration=function(e){var i=this;t.ArrayHelper.forEach(n.PROPERTIES,function(t){e.style.setProperty(t,i.value.collapse+"s")})},n.prototype.getExpandDuration=function(){return this.value.expand},n.prototype.getCollapseDuration=function(){return this.value.collapse},n.PROPERTIES=["-webkit-transition-duration","-o-transition-duration","-moz-transition-duration","transition-duration"],n.VALUES={EXPAND:"expand",COLLAPSE:"collapse"},n.DEFAULT={expand:0,collapse:.5},n.DEFAULT_INBOARD={expand:.5,collapse:.5},n}(e.AbstractOption);e.Animations=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"Threshold")||this;return o.value=i,t.Context.isFacebookIA()&&t.Utils.isNumber(o.value)&&o.value>0&&(o.value=50),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){if(!t.Utils.isNumber(this.value)||this.value<=0||this.value>100)throw new t.FormatException(t.FormatException.OPTION_THRESHOLD_MISSING)},n.prototype.get=function(){return this.value},n.DEFAULT=null,n}(e.AbstractOption);e.Threshold=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(51);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"Volume")||this;return t.Semver.isGreaterOrEqual(t.Context.getIosVersion(),"10")?o.value=n.DEFAULT_IOS10:o.value=t.Utils.extend(n.DEFAULT,i),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.getMain=function(){return this.value.main},n.prototype.getMouseover=function(){return this.value.mouseover},n.VALUES={MAIN:"main",MOUSEOVER:"mouseover"},n.DEFAULT={main:.1,mouseover:.35},n.DEFAULT_IOS10={main:1,mouseover:1},n}(e.AbstractOption);e.Volume=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i="");var o=e.call(this,"VtpEvent")||this;if(o.event=n.DEFAULT_EVENT,o.offset=n.DEFAULT_OFFSET,t.Utils.isString(i)){var r=i.split("-"),a=r[0],s=r[1];a&&t.player.trackingMapping[a]&&(o.event=t.player.trackingMapping[a]),o.event===t.vpaid.VPAIDEvent.AdRemainingTimeChange&&(o.offset=parseInt(s,10))}return o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.event)&&t.Utils.isNumber(this.offset)&&!isNaN(this.offset)||(this.event=n.DEFAULT_EVENT,this.offset=n.DEFAULT_OFFSET)},n.prototype.getEvent=function(){return this.event},n.prototype.getOffset=function(){return this.offset},n.DEFAULT_EVENT=null,n.DEFAULT_OFFSET=0,n}(e.AbstractOption);e.VtpEvent=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(120);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o){void 0===i&&(i=null),void 0===o&&(o="");var r=e.call(this,"BrandLogo")||this,a={display:!!i&&i.display,url:o};return r.value=t.Utils.extend(n.DEFAULT,a),r.checkValue(),r}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.getUrl=function(){return this.value.url},n.prototype.isEnabled=function(){return this.value.display},n.VALUES={DISPLAY:"display",URL:"url"},n.DEFAULT={display:!1,url:""},n}(e.AbstractOption);e.BrandLogo=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"CallButton")||this;return o.value=t.Utils.extend(n.DEFAULT,i),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value.display},n.prototype.getCountdown=function(){return this.value.countdown},n.prototype.getText=function(){return this.value.text},n.VALUES={DISPLAY:"display",COUNTDOWN:"countdown",TEXT:"text"},n.DEFAULT={display:!0,countdown:3,text:"Learn More"},n}(e.AbstractOption);e.CallButton=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o){var r=e.call(this,"CloseButton")||this;return r.getValueFromVast=!i||t.Utils.isUndefined(i.display),r.value=t.Utils.extend(n.DEFAULT,i),t.Context.isFacebookIA()?(r.getValueFromVast=!1,r.value={display:!1,countdown:0}):o.isEnabled()&&(r.getValueFromVast=!1,r.value={display:!0,countdown:0}),r.checkValue(),r}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)?(this.value.countdown=+this.value.countdown,t.Utils.isNumber(this.value.countdown)||(this.value.countdown=0)):this.value=n.DEFAULT},n.prototype.isEnabled=function(){return this.value.display},n.prototype.getCountdown=function(){return this.value.countdown},n.prototype.hasToGetValueFromVast=function(){return this.getValueFromVast},n.VALUES={DISPLAY:"display",COUNTDOWN:"countdown"},n.DEFAULT={display:!0,countdown:0},n}(e.AbstractOption);e.CloseButton=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o,r,a){void 0===r&&(r=null),void 0===a&&(a=null);var s=e.call(this,"Credits")||this,c=r&&r.isInBoard();return s.value=t.Utils.extend(c?n.DEFAULT_INBOARD:n.DEFAULT_INREAD,i),s.formatName=r,(a&&a.isDisplayXml()||o.isEnabled())&&(s.value.display=!1),s.checkValue(),s}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT_INREAD)},n.prototype.isEnabled=function(){return this.value.display},n.prototype.getText=function(){return this.value.text},n.prototype.getLink=function(){return this.value.link},n.VALUES={DISPLAY:"display",TEXT:"text",LINK:"link"},n.DEFAULT_INREAD={display:!0,text:"[inRead] invented by Teads",link:"http://teads.tv/inread-outstream/"},n.DEFAULT_INBOARD={display:!0,text:"[inBoard] invented by Teads",link:"http://teads.tv/inread-outstream/"},n}(e.AbstractOption);e.Credits=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"EndScreen")||this;return o.value=t.Utils.extend(n.DEFAULT,i),(t.Context.isAmp()||t.Context.isFacebookIA())&&(o.value.display=!0,o.value.autoClose=!1),!1===o.value.autoClose&&(o.value.countdown=0),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value.display},n.prototype.getCountdown=function(){return this.value.countdown},n.prototype.getCallButton=function(){return this.value.callButton},n.prototype.getReplayButton=function(){return this.value.replayButton},n.prototype.getAutoClose=function(){return this.value.autoClose},n.VALUES={DISPLAY:"display",CALLBUTTON:"callButton",REPLAYBUTTON:"replayButton",AUTOCLOSE:"autoClose",COUNTDOWN:"countdown",TYPE:"type"},n.DEFAULT={display:!0,callButton:{text:"Learn More",type:"learnMore"},replayButton:{text:"Replay"},autoClose:!1,countdown:0,type:"simple"},n}(e.AbstractOption);e.EndScreen=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(51),n(235),n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"Label")||this;return o.value=t.Utils.extend(n.DEFAULT,i),t.Context.isFacebookIA()&&(o.value.display=!1),o.checkValue(),o}return i(n,e),n.getTranslation=function(){var e=t.Context.getLanguage(),n=new t.L10n(e).translate("label");return n||(n=new t.L10n(e.substr(0,2)).translate("label")),n||(n=new t.L10n("en").translate("label")),n},n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.getHTML=function(){return this.value.html},n.prototype.getText=function(){return this.value.text},n.prototype.isEnabled=function(){return this.value.display},n.VALUES={DISPLAY:"display",TEXT:"text",HTML:"html"},n.TEXT=n.getTranslation(),n.DEFAULT={display:!0,text:n.TEXT,html:n.TEXT},n}(e.AbstractOption);e.Label=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"ProgressBar")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.ProgressBar=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e){var n=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),i=window.teads=window.teads||{};!function(t){!function(e){var i=function(e){function i(t){var n=e.call(this,"SmartPosition")||this;return n.value=t,n.checkValue(),n}return n(i,e),i.prototype.checkValue=function(){t.Utils.containsKeys(i.VALUES,this.value)||(this.value=i.DEFAULT)},i.prototype.closeButtonEnabled=function(){return this.value.closeButtonDisplay},i.VALUES={closeButtonDisplay:"closeButtonDisplay"},i.DEFAULT={closeButtonDisplay:!1},i}(e.AbstractOption);e.Slider=i}(t.option||(t.option={}))}(i||(i={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"SoundButton")||this;return o.value=t.Utils.extend(n.DEFAULT,i),(t.Context.isMobile()||t.Context.isTablet()||t.Context.isSafari11Plus()||t.Context.isChrome66Plus())&&(o.value=n.DEFAULT),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value.display},n.prototype.getCountdown=function(){return this.value.countdown},n.prototype.getType=function(){return this.value.type},n.VALUES={DISPLAY:"display",COUNTDOWN:"countdown",TYPE:"type"},n.DEFAULT={display:!0,countdown:0,type:"mute"},n}(e.AbstractOption);e.SoundButton=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Timer")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!1,n}(e.AbstractOption);e.Timer=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"End")||this;return o.value=t.Context.isAmp()?n.VALUES.ENDSCREEN:i,o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isCollapse=function(){return this.value===n.VALUES.COLLAPSE},n.prototype.isEndScreen=function(){return this.value===n.VALUES.ENDSCREEN},n.VALUES={COLLAPSE:"collapse",ENDSCREEN:"endscreen"},n.DEFAULT=n.VALUES.ENDSCREEN,n}(e.AbstractOption);e.End=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o){void 0===i&&(i=n.DEFAULT),void 0===o&&(o=null);var r=e.call(this,"Launch")||this;return t.Constant.FORCE_EXPAND_ANIMATION_LIST.test(String(o))?r.value=n.VALUES.THRESHOLD:t.Context.isAmp()||t.Context.isFacebookIA()?r.value=n.VALUES.AUTO:r.value=i,r.checkValue(),r}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isAuto=function(){return this.value===n.VALUES.AUTO},n.prototype.isThreshold=function(){return this.value===n.VALUES.THRESHOLD},n.VALUES={AUTO:"auto",THRESHOLD:"threshold"},n.DEFAULT=n.VALUES.AUTO,n}(e.AbstractOption);e.Launch=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"PlayerClick")||this;return o.value=i,t.Context.isDesktop()&&(o.value=n.VALUES.CLICK),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isClick=function(){return this.value===n.VALUES.CLICK},n.prototype.isFullscreen=function(){return this.value===n.VALUES.FULLSCREEN},n.VALUES={CLICK:"click",FULLSCREEN:"fullscreen"},n.DEFAULT=t.Context.isDesktop()?n.VALUES.CLICK:n.VALUES.FULLSCREEN,n}(e.AbstractOption);e.PlayerClick=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(118);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o,r,a){void 0===a&&(a=null);var s=e.call(this,"SmartPosition")||this;return s.conditionalInsertionIds=[228983,228984,228987,228988,228992,228993,228998,228999],s.conditionalConnectionsIds=[77105,77106,77110,77112,77115,77117,77120,77122],s.insertionIdsForcedSmart=[158365,158366,158367,158368,158369,158370,158371,158372,158373,158374,158375,158376,158377,158378,158379,158380,158382,158383,158384,158385,158386,161147,162268,165400,165569,165570,168832,168841,168912,168931,168932,168949,168994,168997,169797,170214,170543,171213,172785,173090,173593,173635,174727,176890,176895,176940,178464,178998,179060,179756,179771,180368,180465,180763,180918,180955,181009,181012,181656,181796,181798,181922,181926,181929,183993,183994,184064,185424,185425,185441,185443,185615,186228,187087,187092,187131,190483,191469,191902,193076,195606,197702,198587,199900,199909,200392,200655,200697,201138,201150,201588,201589,201603,201978,202307,205317,205333,207094,207600,208142,209290,209292,211411,211418,211421,211422,211423,211424,211426,211614,211957,212081,212083,212504,213221,213222,213989,214491,214493,215324,215331,216443,216887,216889,216992,216993,217010,217121,217800,217833,217853,217857,219150,219151,219154,219155,219186,224758,224761,225039,225638,226336,227892,227893,229091,229252,229254,229256,228985,228986,228989,228990,228994,228996,229001,229002,230504,231990,232222,232583,232577,232726,234314,234321,231494,231986,234608].concat(s.conditionalInsertionIds),s.connectionIdsForcedSmart=[4783,14386,20709,20971,25605,28299,28342,30242,33040,34011,34438,34766,34861,36728,36854,36966,37324,37325,38768,39140,39264,39265,39266,41111,41240,41378,41379,41380,41437,43341,43357,43361,43364,43486,43530,43531,43532,43634,43638,43639,44094,44289,44292,44295,44298,44301,44305,45061,45062,45064,45065,45066,45067,45168,45184,45185,45612,45613,45614,45615,45617,45619,45620,45621,45623,45627,45630,45632,45847,45991,45994,46002,46106,46107,46141,46142,46227,46228,46235,46407,46407,46408,46409,46517,46529,46657,46776,46777,46778,46779,46812,47090,47092,47103,47257,47259,47260,47287,47290,47290,47292,48203,48410,48602,48704,49069,49076,49078,49895,50176,50201,50219,50220,50222,50226,50229,50230,51390,51426,53394,53406,53643,53644,53650,55457,55458,55459,55459,55462,55462,55466,55466,55467,55467,55468,55469,55470,55477,55696,55698,58441,58844,60320,60351,60645,60669,60670,61083,61239,61385,61387,61389,61391,61393,63277,63278,63476,63540,63541,63551,63552,63553,63555,63557,63559,63560,63562,63563,63581,63582,63610,63611,63721,63722,63738,63739,63796,63828,63833,63906,63907,63934,64126,64127,64191,64639,64731,64732,65043,65048,65060,65061,65062,65292,65295,65434,65979,65980,66191,66244,66246,66247,66249,66250,66252,66276,66516,66541,66653,66654,66655,66800,66801,66802,66816,66818,66819,67008,67010,67084,68423,68659,68661,68662,68663,68665,68666,68675,68676,68677,68678,68679,68680,69763,69779,69846,69995,69996,69997,69998,70056,70058,70059,70063,70064,70065,70071,70072,70073,70098,70161,70162,70165,70166,71463,71643,71646,71689,71839,71946,72049,72065,72066,72067,72068,72214,72219,72238,74572,74573,74574,74575,74576,74577,74578,74579,75072,75073,75074,75757,72111,76269,76270,76276,76438,76435,76499,76510,76550,76597,76600,76774,76775,76968,77226,77231,77235,77236,77238,77373,77350,77108,77109,77113,77114,77118,77119,77123,77124,77500,77503,77505,77582,77585,77589,77593,77596,77609,77613,77598,77600,77601,77602,77603,77604,77606,77607,77608,77623,77640,77643,77648,77651,77653,77666,77668,77671,63923,46058,44077,77618,77619,77620,77621,77622,77624,77625,77626,77627,77628,77629,77630,77631,77632,77633,77635,77636,77637,77638,77639,77927,77933,78017,78033,78024,78023,78349,77368,78393,78394,78527,78052,77392,78715,78332,78741,78769,78784,78815,78814,78813,78812,78929,79049,79064,77326,78929,79049,79064,77326,79212,79238].concat(s.conditionalConnectionsIds),s.insertionId=o,s.connectionId=r,s.value=t.Utils.extend(n.DEFAULT,i),s.formatName=a,(t.Semver.isLowerOrEqual(t.Context.getIosVersion(),n.MIN_IOS_VERSION)||t.Context.isAmp()||t.Context.isFacebookIA()||t.Context.isIABSafeFrame())&&(s.value.top=!1,s.value.corner=!1),s.checkValue(),s}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return!!(window.DO_BYPASS_DO_FORCE_SMART&&this.formatName&&this.formatName.isInRead())||(t.ArrayHelper.includes(this.insertionIdsForcedSmart,this.insertionId)||t.ArrayHelper.includes(this.connectionIdsForcedSmart,this.connectionId))&&(this.value.corner||this.value.top)},n.prototype.isCorner=function(){return this.value.corner},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t){this.value=t,this.checkValue()},n.prototype.isSkippableAtSpecificTime=function(){return t.ArrayHelper.includes(this.conditionalInsertionIds,this.insertionId)||t.ArrayHelper.includes(this.conditionalConnectionsIds,this.connectionId)},n.MIN_IOS_VERSION="7",n.VALUES={top:"top",corner:"corner"},n.DEFAULT={top:!1,corner:!1},n}(e.AbstractOption);e.SmartPosition=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(118);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,n){void 0===n&&(n=null);var i=e.call(this,"Sticky")||this;return i.value=t,i.formatName=n,i.checkValue(),i}return i(n,e),n.isCompatibleWithContext=function(){return(t.Context.isMobile()||t.Context.isTablet())&&(!t.Context.isIos()||function(){return t.Semver.isGreaterThan(t.Context.getIosVersion(),n.MIN_IOS_VERSION)}())&&!t.Context.isAmp()&&!t.Context.isFacebookIA()&&!t.Context.isIABSafeFrame()},n.prototype.getValue=function(){return this.value},n.prototype.setValue=function(t){this.value=t,this.checkValue()},n.prototype.isEnabled=function(){return!0===this.value},n.prototype.checkValue=function(){this.value=!!(this.formatName&&this.formatName.isInBoard()&&n.isCompatibleWithContext()&&!1!==this.value)},n.MIN_IOS_VERSION="7",n}(e.AbstractOption);e.Sticky=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"SoundMute")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isNo=function(){return this.value===n.VALUES.NO},n.prototype.isThreshold=function(){return this.value===n.VALUES.THRESHOLD},n.VALUES={NO:"no",THRESHOLD:"threshold"},n.DEFAULT=n.VALUES.THRESHOLD,n}(e.AbstractOption);e.SoundMute=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"SoundOver")||this;return o.value=i,(t.Context.isMobile()||t.Context.isTablet()||t.Context.isSafari11Plus()||t.Context.isChrome66Plus())&&(o.value=n.VALUES.OFF),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isOff=function(){return this.value===n.VALUES.OFF},n.prototype.isOver=function(){return this.value===n.VALUES.OVER},n.prototype.isOnceOver=function(){return this.value===n.VALUES.ONCEOVER},n.VALUES={OFF:"off",OVER:"over",ONCEOVER:"onceOver"},n.DEFAULT=n.VALUES.OVER,n}(e.AbstractOption);e.SoundOver=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"SoundStart")||this;return o.value=t.Utils.extend(n.DEFAULT,i),!t.Context.isMobile()&&!t.Context.isTablet()||t.Context.isSDK()||(o.value.type=n.VALUES_TYPE.MUTE),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.isMute=function(){return this.value.type===n.VALUES_TYPE.MUTE},n.prototype.isUnmute=function(){return this.value.type===n.VALUES_TYPE.UNMUTE},n.prototype.isCountdown=function(){return this.value.type===n.VALUES_TYPE.COUNTDOWN},n.prototype.getCountdown=function(){return this.value.countdown},n.prototype.getType=function(){return this.value.type},n.VALUES={TYPE:"type",COUNTDOWN:"countdown"},n.VALUES_TYPE={MUTE:"mute",UNMUTE:"unmute",COUNTDOWN:"countdown"},n.DEFAULT={type:"mute",countdown:0},n}(e.AbstractOption);e.SoundStart=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.VALUES.THRESHOLD);var i=e.call(this,"VideoPause")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isNo=function(){return this.value===n.VALUES.NO},n.prototype.isThreshold=function(){return this.value===n.VALUES.THRESHOLD},n.prototype.getValue=function(){return this.value},n.prototype.setToNo=function(){return this.value=n.VALUES.NO},n.VALUES={NO:"no",THRESHOLD:"threshold"},n.DEFAULT=n.VALUES.THRESHOLD,n}(e.AbstractOption);e.VideoPause=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(137);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o,r){void 0===i&&(i=n.DEFAULT),void 0===o&&(o=null),void 0===r&&(r=null);var a=e.call(this,"VideoStart")||this;return a.value=i,o&&o.isInBoard()&&t.Context.isTablet()&&(a.value=n.VALUES.CLICK),a.checkValue(),a}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)&&n.VALUES[this.value.toUpperCase()]||(this.value=n.DEFAULT)},n.prototype.isAuto=function(){return this.value===n.VALUES.AUTO},n.prototype.isThreshold=function(){return this.value===n.VALUES.THRESHOLD},n.prototype.isClick=function(){return this.value===n.VALUES.CLICK},n.prototype.getValue=function(){return this.value},n.VALUES={AUTO:"auto",THRESHOLD:"threshold",CLICK:"click"},n.DEFAULT=n.VALUES.THRESHOLD,n}(e.AbstractOption);e.VideoStart=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(51);var i=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}return t.getComponentsConfig=function(e,n,i,o){void 0===i&&(i=null);var r=o&&o.display,a=t.reconcileCloseButtonConfig(e,i,n),s=t.reconcileEndScreenCloseButtonConfig(a,e,n);return{clicktoplay:{disable:!e.videoStart.isClick()},closebutton:{disable:a.disable,countdown:a.countdown,listenSkippableState:a.listenSkippableState},soundbutton:{disable:!!r||!e.soundButton.isEnabled(),startOffset:e.soundButton.getCountdown(),type:e.soundButton.getType()},progressbar:{disable:!!r||!e.progressBar.isEnabled()},clickbutton:{disable:!!o||!e.callButton.isEnabled(),startOffset:e.callButton.getCountdown(),text:e.callButton.getText()},label:{disable:!0,html:e.label.getHTML()},credits:{formatName:e.formatName.get(),disable:!0,text:e.credits.getText(),url:e.credits.getLink()},endscreen:{disable:!!r||(e.end.isCollapse()||e.end.isEndScreen()&&!e.endScreen.isEnabled()),countdown:e.endScreen.getCountdown(),callButton:e.endScreen.getCallButton(),closeButton:{disable:s.disable,listenSkippableState:s.listenSkippableState},replayButton:e.endScreen.getReplayButton(),autoClose:e.endScreen.getAutoClose()},fullscreenbutton:{disable:!!r||!e.playerClick.isFullscreen(),preventDefault:!0},brandlogo:{disable:!e.brandLogo.isEnabled(),url:e.brandLogo.getUrl()},startscreen:{disable:!e.adType.isVideo()}}},t.reconcileEndScreenCloseButtonConfig=function(t,e,n){var i={disable:t.disable,listenSkippableState:t.listenSkippableState};return n.sliderEnabled&&(i.disable=!1,i.listenSkippableState=!1),i},t.reconcileCloseButtonConfig=function(t,e,n){var i={disable:!t.closeButton.isEnabled(),countdown:t.closeButton.getCountdown(),listenSkippableState:!1};return t.closeButton.hasToGetValueFromVast()&&(i.disable=!1,e&&e.skipDelay?i.countdown=e.skipDelay:i.listenSkippableState=!0),n.sliderEnabled&&(i.disable=!t.slider.closeButtonEnabled(),i.listenSkippableState=!1),t.smartPosition.isEnabled()&&(i.listenSkippableState=!1),i},t}();t.RASHelper=e}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(84);var i=window.teads=window.teads||{};!function(t){!function(e){var n,i=[{name:"DoubleVerify",domain:/cdn\.doubleverify\.com/,appendRule:function(t,e){t.parentElement.appendChild(e)}},{name:"ComScore",domain:/sb\.voicefive\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"IAS",domain:/pixel\.adsafeprotected\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}},{name:"MOAT",domain:/\.moatads\.com/,appendRule:function(t,e){t.insertBefore(e,t.firstChild)}}],o=function(e){return t.ArrayHelper.find(i,function(t){return t.name===e})},r=function(e){return t.ArrayHelper.find(i,function(t){return t.domain.test(e)})},a=function(){if(void 0!==n)return n;if("undefined"==typeof DOMParser||"function"!=typeof DOMParser)t.formatSumologic.sendError("domparser-not-found"),n=!1;else{var e=new DOMParser;try{var i=e.parseFromString("<div>Hello</div>","text/html");"DIV"===i.body.firstElementChild.nodeName&&"Hello"===i.body.firstElementChild.innerHTML?(t.formatSumologic.sendInfo("domparser-html-compat"),n=!0):(t.formatSumologic.sendError("domparser-html-fail"),n=!1)}catch(e){t.formatSumologic.sendError("domparser-no-html-compat"),n=!1}}return n},s=function(t,e){var n=e.onEnterElement;if(!0!==n(t))for(var i=t.firstElementChild;i;i=i.nextElementSibling)s(i,{onEnterElement:n})},c=function(t,e){var n=[];return s(t,{onEnterElement:function(t){if(e(t))return n.push(t),t.parentElement&&t.parentElement.removeChild(t),!0}}),n},d=function(t,e){var n=[];return s(t,{onEnterElement:function(t){if(e(t))return n.push(t),!0}}),n},l=function(e){var n=e.getAttribute("src");return!("SCRIPT"!==e.nodeName||!n||!t.ArrayHelper.some(i,function(t){return t.domain.test(n)}))},p=function(t){for(var e=document.createElement("script"),n=0;n<t.attributes.length;n++){var i=t.attributes[n],o=i.name,r=i.value;e.setAttribute(o,r)}return e},u=function(e){var n=new DOMParser,i=g(n)(e),o=t.ArrayHelper.map(c(i,l),function(t){var e=t.getAttribute("src");return{provider:r(e).name,source:e,script:t}});return{creative:i.innerHTML,viewabilityTags:o}},h=function(e){var n=new DOMParser,i=g(n)(e);t.ArrayHelper.forEach(d(i,l),function(t){(new Image).src=t.getAttribute("src")})},f=function(t){return"<div>"+t+"</div>"},g=function(t){return function(e){return t.parseFromString(f(e),"text/html").body.firstElementChild}},m=function(){function e(e,n,i,o,r){this.insertionId=e,this.connectionId=n,this.connectionType=i,this.playerContainer=o,this.win=r,this.logger=new t.Logger("ViewabilityTags"),this.thresholdReached=!1,this.thresholdReachedCallbacks=[],a()}return e.prototype.appendViewabilityTags=function(e){var n=this;t.ArrayHelper.forEach(e,function(t){return o(t.provider).appendRule(n.playerContainer,p(t.script))})},e.prototype.getCreativeTag=function(t){var e=this;if(a()&&this.connectionType.isDisplay()){h(t);var n=u(t),i=n.creative,o=n.viewabilityTags;return this.onceThresholdReached(function(){return e.appendViewabilityTags(o)}),i}return t},e.prototype.onceThresholdReached=function(t){this.thresholdReached?t():this.thresholdReachedCallbacks.push(t)},e.prototype.onScroll=function(){var e=this;this.thresholdReached||t.Option.of(this.connectionType.isDisplay()?25:null).orElse(function(){return e.insertionId.nonEmpty()?t.Some(25):t.None}).match({some:function(n){n/100<=t.HTMLHelper.getPercentageInView(e.playerContainer,e.win,t.Dom.getSize(e.playerContainer).height,!0)&&e.resolveThresholdReach()},none:function(){e.logger.warn("Could not resolve threshold reach: no insertion, or connection not whitelisted",e.insertionId.orNull(),e.connectionId),e.thresholdReached=!0}})},e.prototype.resolveThresholdReach=function(){t.formatSumologic.sendInfo("viewability:resolveThresholdReach"),!0!==this.thresholdReached&&(this.thresholdReached=!0,t.ArrayHelper.forEach(this.thresholdReachedCallbacks,function(t){return t()}),this.thresholdReachedCallbacks=[])},e}();e.ViewabilityTags=m}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(236);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){}return n.checkImagePrevNextElement=function(e,i){if(void 0===i&&(i=window),!e)return!1;var o,r=!1;if("img"===e.tagName.toLowerCase()?r=n.hasLargeImage([e]):(o=t.Dom.querySelectorAll("img",i,e),r=n.hasLargeImage(o)),!r){var a=n.prevNotEmpty(e);a&&("img"===a.tagName.toLowerCase()?r=n.hasLargeImage([a]):(o=t.Dom.querySelectorAll("img",i,a),r=o.length>0&&n.hasLargeImage(o)))}if(!r){var s=n.nextNotEmpty(e);s&&("img"===s.tagName.toLowerCase()?r=n.hasLargeImage([s]):(o=t.Dom.querySelectorAll("img",i,s),r=o.length>0&&n.hasLargeImage(o)))}return r},n.checkVideoPrevNextElement=function(t,e){if(void 0===e&&(e=window),!t)return!1;var i=n.checkVideoInElement(t,e);if(!i){var o=n.prevNotEmpty(t);o&&(i=n.checkVideoInElement(o,e))}if(!i){var r=n.nextNotEmpty(t);r&&(i=n.checkVideoInElement(r,e))}return i},n.checkVideoInElement=function(e,i){void 0===i&&(i=window);var o=["video","object","embed"],r=t.ArrayHelper.includes(o,e.tagName.toLowerCase());if(!r){var a=e.getAttribute("src");r=a&&n.isVideo(a)}if(r||(r=t.Dom.querySelectorAll("video",i,e).length>0),r||(r=t.Dom.querySelectorAll("object",i,e).length>0),!r){var s=t.ArrayHelper.fromNodeList(t.Dom.querySelectorAll("[src]",i,e)),c=t.ArrayHelper.map(s,function(t){return t.getAttribute("src")}),d=function(t){return n.isVideo(t)};r=t.ArrayHelper.filter(c,d).length>0}return r},n.checkVideoSiblings=function(t,i){void 0===i&&(i=window);var o=null,r={length:0,currentScore:0,childrenScore:0,isOverMinimumWidth:!1,article:{score:0,node:null}},a=e.SmartSlot.findArticle(i.document.body,i,r);return a&&a.article&&a.article.node&&(o=n.findArticleForElement(t,a.article.node,0)),o||(o=t.parentElement),n.checkVideoInElement(o,i)},n.findArticleForElement=function(t,e,i){if(t&&10!==i){var o=t.parentElement;return o===e?o:n.findArticleForElement(o,e,i+1)}},n.isVideo=function(t){return/youtube|youtu\.be|dailymotion|day\.ly|vimeo|instagram|vine-videos/i.test(t)},n.hasLargeImage=function(e){void 0===e&&(e=[]);var i=t.ArrayHelper.map(e,function(e){return t.Dom.getSize(e).width}),o=function(t){return t>n.LARGE_IMG_THRESHOLD};return t.ArrayHelper.filter(i,o).length>0},n.prevNotEmpty=function(e,i){if(void 0===i&&(i=0),!e||i===n.MAX_TRY_CHECK_EMPTY)return e;var o=e.previousElementSibling;return o&&!t.Dom.isEmpty(o)?o:n.prevNotEmpty(o,i+1)},n.nextNotEmpty=function(e,i){if(void 0===i&&(i=0),!e||i===n.MAX_TRY_CHECK_EMPTY)return e;var o=e.nextElementSibling;return o&&!t.Dom.isEmpty(o)?o:n.nextNotEmpty(o,i+1)},n.LARGE_IMG_THRESHOLD=75,n.MAX_TRY_CHECK_EMPTY=3,n}();e.CheckerHelper=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.isActive=function(){return t.Cookie.get("teadsDebugInPage").toOption().existsIf(function(t){return"true"===t})},e.showAvoidSlot=function(t,n,i){if(e.isActive()){var o=document.createElement("div");o.setAttribute("id","teadsGhostAvoid"),o.style.position="absolute",o.style.top=n.top+"px",o.style.bottom=n.bottom+"px",o.style.left=n.left+"px",o.style.right=n.right+"px",o.style.width=n.width+"px",o.style.height=n.height+"px",o.style.background="rgba(255, 0, 0, 0.10)",o.style.pointerEvents="none",o.style.color="#F79C9C",o.style.zIndex="9999",o.style.padding="10px",o.innerText="avoidSlot",i.document.body.appendChild(o),t.style.backgroundColor="rgba(255, 0, 0, 0.20)"}},e.showCreativeLimits=function(n,i){void 0===i&&(i=window.document.body),e.hideCreativeLimits(),e.isActive()&&(e.creativeLimits=[e.getDivLine(i,0,n.top,200,n.top,"#0000CC"),e.getDivLine(i,0,n.bottom,200,n.bottom,"#CC0000")],t.ArrayHelper.forEach(e.creativeLimits,function(t){i.appendChild(t)}))},e.hideCreativeLimits=function(){e.isActive&&(t.ArrayHelper.forEach(e.creativeLimits,function(t){t.parentNode.removeChild(t)}),e.creativeLimits=[])},e.getDivLine=function(t,e,n,i,o,r){if(void 0===r&&(r="black"),n<o){var a=n;n=o,o=a,a=e,e=i,i=a}var s,c=Math.abs(e-i),d=Math.abs(n-o),l=(e+i)/2,p=(n+o)/2,u=Math.sqrt(c*c+d*d),h=l-u/2,f=p;c=u/2,s=Math.abs(l-h),d=Math.sqrt(Math.abs(e-h)*Math.abs(e-h)+Math.abs(n-f)*Math.abs(n-f));var g=(d*d-c*c-s*s)/(2*c*s),m=Math.acos(g),v=180*m/Math.PI,y=document.createElementNS("http://www.w3.org/1999/xhtml","div");return y.setAttribute("style","border:1px solid "+r+";width:"+u+"px;height:0px;-moz-transform:rotate("+v+"deg);-webkit-transform:rotate("+v+"deg);position:absolute;top:"+f+"px;left:"+h+"px;"),y},e.creativeLimits=[],e}();e.Debug=n}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"VideoFilter")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.VALUES={DISABLED:"disabled",ARTICLE:"article",SLOT:"slot"},n.DEFAULT=n.VALUES.DISABLED,n}(e.AbstractOption);e.VideoFilter=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"ImageFilter")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.VALUES={DISABLED:"disabled",SLOT:"slot"},n.DEFAULT=n.VALUES.DISABLED,n}(e.AbstractOption);e.ImageFilter=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(102),n(228),n(113),n(87),n(208);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e,n,i,o){void 0===n&&(n=null),void 0===o&&(o=t.None);var r=this;this.pageId=e,this.sumologic=i,this.headerBiddingProvider=o,this.tracker=new t.tracker.Tracker(t.Option.of(t.tracker.Config.format),t.Option.of(t.formatSumologic.getSessionId())),this.slotType=t.Constant.SLOT_TYPE.native,this.hasTracked={},this.vastErrorCodeTracked=null,this.needToTrackNotFilled=!1,this.fraudReason=null,this.logger=new t.Logger("placement.tracker"),this.wigoi=null,this.userStore=t.Option.empty(),this.pid=new t.option.Pid(n),this.setWigoi(new t.Wigo),this.tracker.addResource(t.Constant.TRACKING.adCall,t.Constant.COMSCORE_URL.V1[window.location.protocol]),t.Context.isSDK()?this.tracker.addResource(t.Constant.TRACKING.placementCall,t.Constant.COMSCORE_URL.V2SDK):this.tracker.addResource(t.Constant.TRACKING.placementCall,t.Constant.COMSCORE_URL.V2[window.location.protocol]),t.ArrayHelper.forEach(t.tracker.Config.format,function(e){var n={action:e.name,pageId:t.Constant.TrackingMacro.PAGEID,pid:t.Constant.TrackingMacro.PID,gid:t.Constant.TrackingMacro.GID,slot:t.Constant.TrackingMacro.SLOT_TYPE,env:t.Constant.TrackingMacro.ENV,ts:t.date.now()},i=t.ArrayHelper.map(Object.keys(n),function(t){return t+"="+n[t]}).join("&"),o=t.config.trackingUrl+"?"+i;r.headerBiddingProvider.forEach(function(){return o+="&hb_provider="+t.Constant.TrackingMacro.HEADER_BIDDING_PROVIDER}),r.tracker.addResource(e.name,o)})}return e.getTrackingMacros=function(e,n,i,o,r,a,s,c,d){var l={};return l[t.Constant.TrackingMacro.PAGEID]=e,l[t.Constant.TrackingMacro.PID]=n,l[t.Constant.TrackingMacro.GID]=i,l[t.Constant.TrackingMacro.SLOT_TYPE]=o,l[t.Constant.TrackingMacro.ENV]=r,l[t.Constant.TrackingMacro.IMPRESSIONID]=a,l[t.Constant.TrackingMacro.CACHEBUSTING]=s,l[t.Constant.TrackingMacro.HEADER_BIDDING_PROVIDER]=c,d.forEach(function(e){l[t.Constant.TrackingMacro.USERID]=e.userId,l[t.Constant.TrackingMacro.OS]=e.userDevice.os.toLowerCase(),l[t.Constant.TrackingMacro.DEVICEID]=e.userDevice.device,l[t.Constant.TrackingMacro.LIMIT_TRACKING]=String(e.userOptOut)}),l},e.prototype.setSlotDimensionOnTracking=function(e){var n,i=this,o=/slot=/,r=/slot=\[slotType\]/,a=/^[a-z0-9]+\.(sandbox|par[0-9])\.teads\.(net|tech)$/;if(e&&e.tracking)for(var s in e.tracking)e.tracking.hasOwnProperty(s)&&t.ArrayHelper.forEach(e.tracking[s],function(c,d){n=t.URIHelper.parse(c.url),("t.teads.tv"===n.host||a.test(n.hostname))&&(r.test(n.search)?e.tracking[s][d].url.replace("[slotType]",i.slotType):o.test(n.search)||(e.tracking[s][d].url+=n.search?"&":"?",e.tracking[s][d].url+="slot="+i.slotType))})},e.prototype.setSlotType=function(t){this.slotType=t},e.prototype.setUserStore=function(e){this.userStore=t.Option.of(e)},e.prototype.handleEmptyAdsArray=function(){this.needToTrackNotFilled=!0,this.wigoi&&this.wigoi.valid(1,2,t.Constant.TRACKING.noAd.notFilled,t.Wigo.infoType.ERROR)},e.prototype.handleFraud=function(e){switch(e){case t.Constant.TRACKING.ivt.doubleVerify:this.fraudReason=t.Constant.TRACKING.noAd.ivt.doubleVerify;break;case t.Constant.TRACKING.ivt.tag:this.fraudReason=t.Constant.TRACKING.noAd.ivt.tag;break;case t.Constant.TRACKING.blockedSite.doubleVerify:this.fraudReason=t.Constant.TRACKING.noAd.blockedSite.doubleVerify}this.wigoi&&this.wigoi.valid(1,2,e,t.Wigo.infoType.ERROR)},e.prototype.track=function(n){if(!this.hasTracked[n]){var i="",o=n.split("-"),r="adAvailable"===o[0]?o[0]+"-"+o[1]:o[0];this.formatInstance&&this.formatInstance.formatConfig&&(i=this.formatInstance.formatConfig.vast.extractInsertionId());var a=e.getTrackingMacros(String(this.pageId),String(this.pid.get()),i,this.slotType,""+t.Context.getEnv(),String(t.date.now()),t.StringHelper.rand(8),this.headerBiddingProvider.getOrElse(function(){return""}),this.userStore);if(this.tracker.track(n,a),t.Constant.TRACKING_LOG[r]&&this.sumologic.sendInfo(t.Constant.TRACKING_LOG[r]),this.hasTracked[n]=!0,this.logger.info(n),n===t.Constant.TRACKING.adCall&&this.initAdTimingMark){var s=Math.round(t.Timing.now()-this.initAdTimingMark);this.vpaidAd&&this.vpaidAd.getVPAID().handleAdCallTimeout&&this.vpaidAd.getVPAID().handleAdCallTimeout(s),this.logger.info("Duration between initAd and adCall",s),this.sumologic.sendInfo("initAdToAdCall "+s)}}this.setVastErrorCode(n.match(e.vastErrorRegExp)),this.sendToWigo(n),n===t.Constant.TRACKING.adCall&&this.handleMirroringEvent()},e.prototype.handleInitAdTimingMark=function(e){this.initAdTimingMark=t.Timing.now(),this.vpaidAd=e},e.prototype.handleMirroringEvent=function(){this.hasTracked[t.Constant.TRACKING.adCall]&&(this.hasTracked[t.Constant.TRACKING.adNotAvailable.networkError]?this.track(t.Constant.TRACKING.noAd.networkError):this.hasTracked[t.Constant.TRACKING.adNotAvailable.serverError]?this.track(t.Constant.TRACKING.noAd.serverError):this.vastErrorCodeTracked?this.track(t.Constant.TRACKING.noAd.vastError.replace(/\{code\}$/,this.vastErrorCodeTracked)):this.hasTracked[t.Constant.TRACKING.adAvailable.error.parseTimeout]?this.track(t.Constant.TRACKING.noAd.parseTimeout):this.hasTracked[t.Constant.TRACKING.adAvailable.error.settings]?this.track(t.Constant.TRACKING.noAd.settingsError):this.hasTracked[t.Constant.TRACKING.adAvailable.error.badResponse]?this.track(t.Constant.TRACKING.noAd.badResponse):this.hasTracked[t.Constant.TRACKING.adAvailable.success]?this.track(t.Constant.TRACKING.ad):this.hasTracked[t.Constant.TRACKING.adAvailable.error.sameAd]&&this.track(t.Constant.TRACKING.noAd.sameAd),this.needToTrackNotFilled&&this.track(t.Constant.TRACKING.noAd.notFilled),this.fraudReason&&this.track(this.fraudReason))},e.prototype.setWigoi=function(t){this.wigoi=t},e.prototype.getWigoi=function(){return this.wigoi},e.prototype.setVastErrorCode=function(e){if(e&&e.length>1){this.vastErrorCodeTracked=e[1];var n=t.Constant.TRACKING.noAd.vastError.replace(/\{code\}$/,this.vastErrorCodeTracked);this.logger.info(n),this.wigoi&&this.wigoi.valid(1,2,n,t.Wigo.infoType.ERROR)}},e.prototype.sendToWigo=function(e){switch(e){case t.Constant.TRACKING.adNotAvailable.networkError:case t.Constant.TRACKING.adNotAvailable.serverError:case t.Constant.TRACKING.adAvailable.error.parseTimeout:case t.Constant.TRACKING.adAvailable.error.settings:case t.Constant.TRACKING.adAvailable.error.badResponse:case t.Constant.TRACKING.adAvailable.error.sameAd:case t.Constant.TRACKING.noAd.ivt.doubleVerify:case t.Constant.TRACKING.noAd.ivt.tag:case t.Constant.TRACKING.noAd.blockedSite.doubleVerify:this.wigoi&&this.wigoi.valid(1,2,e,t.Wigo.infoType.ERROR)}},e.vastErrorRegExp=new RegExp(t.Constant.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,"(\\d+)")),e}();t.PlacementTracker=e}(i||(i={}))},,function(t,e,n){n(119),n(51),n(89),n(232),n(308),n(230),n(377),n(382),n(383),n(384),n(271);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e,n,i,o){this.placement=e,this.formatConfig=n,this.player=i,this.slotType=o,this.states={hasOpened:!1,isReady:!1,hasStarted:!1,hasStopped:!1,hasCompleted:!1,isReplay:!1,isPlaying:!1,isCollapsed:!1},this.hasMoatExtension=!1,this.adWidth=0,this.adHeight=0,this.adDuration=-2,this.adRemainingTime=NaN,this.isVertical=!1,this.campaignToTest=/^(29690|29686|30201|31079|29605|25615|31856|33457)$/,this.wigoi=null,this.logger=new t.Logger("format"),this.logger.debug("new",n.formatName.get()),this.linearAd=this.player?this.player.getLinearAd():null,this.hasMoatExtension=!!this.player&&this.player.hasMoatExtension(this.linearAd),t.helper.Amp.setCreativeInformation(this.linearAd),this.parentContainer=this.placement.getParentContainer(),this.playerContainer=this.placement.getPlayerContainer(),this.win=e.placementConfig.parentWindow.getWindow(),this.eventListenerManager=new t.DOMEventListenerManager,this.volumeController=new t.helper.VolumeController,this.viewabilityTagsHelper=new t.helper.ViewabilityTags(t.Option.of(this.formatConfig.insertionId),this.formatConfig.connectionId,this.formatConfig.adType,this.playerContainer,this.win),this.initComponents(),this.player?this.vpaidApi=this.player.getConfig().vpaidApi:this.vpaidApi=new t.VPAIDApi(e,this.formatConfig)}return e.prototype.setWigoi=function(t){this.wigoi=t},e.prototype.getWigoi=function(){return this.wigoi},e.prototype.initComponents=function(){var e=this.placement.getElectedSlot();if(!e)return void this.logger.debug("Could not init components because no elected slot");var n=t.HTMLHelper.getDocument(e.getElement()),i=new t.component.Label(this.formatConfig.label),o=new t.component.Credits(this.formatConfig.credits);this.components=new t.helper.Components({label:i,credits:o}),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];t.forEach(function(t){var e=t.getCSS();if(t.getHTML()&&e){var i=n.createElement("style");i.appendChild(n.createTextNode(e)),n.head.appendChild(i)}})}(i,o),i.getHTML()&&!this.placement.sliderEnabled&&this.playerContainer.parentNode.insertBefore(i.getElement(),this.playerContainer),o.getHTML()&&!this.placement.sliderEnabled&&this.playerContainer.parentNode.appendChild(o.getElement()),this.components.hideAllComponents(),this.placement.placementConfig.css.applyRulesOn(this.parentContainer)},e.prototype.getBrandingMode=function(){return this.brandingMode},e.prototype.getTemplateName=function(){throw new Error("getTemplateName must be implemented in child class")},e.prototype.getVpaidAd=function(){return this.vpaidAd},e.prototype.getVolumeController=function(){return this.volumeController},e.prototype.getFullscreenHelper=function(){return this.fullscreenHelper},e.prototype.exit=function(e){var n=this;switch(this.vpaidAd&&this.vpaidAd.stopAd(),this.smartPositionHelper&&this.smartPositionHelper.deinit(),this.eventListenerManager.removeAll(),this.vpaidApi&&this.vpaidApi.close(),this.responsive&&this.responsive.unsetResponsive(),this.parentContainer&&this.parentContainer.parentNode&&t.Timer.setTimeout(function(){n.parentContainer.parentNode.removeChild(n.parentContainer),n.unsetVisibility()},2e3),e){case t.EXIT_STATUS.AdSuccess:this.logger.info("Format successfully exited after displaying an ad");break;case t.EXIT_STATUS.NoAdSuccess:this.logger.info("Format successfully exited without displaying an ad");break;case t.EXIT_STATUS.MoatNotVisibleAdSuccess:this.logger.info("Format successfully exited because the VAST contains a MOAT extension while the player is hidden by CSS");break;case t.EXIT_STATUS.AdError:this.logger.error("Format exited with an ad error");break;case t.EXIT_STATUS.ResizeAmpError:this.logger.error("Format exited due to resize denied on opening by AMP framework");break;case t.EXIT_STATUS.ReplayError:this.logger.error("Format exited due to an exception thrown during replay");break;default:this.logger.warn("Format exited with unknown status")}for(var i=t.instances[this.formatConfig.formatName.get()],o=0,r=i.length;o<r;o++)if(i[o]===this){i.splice(o,1);break}t.Context.isAmp()&&(e!==t.EXIT_STATUS.NoAdSuccess?t.helper.Amp.clean():this.placement.placementConfig.fallback.hasValue()||(t.helper.Amp.clean(),t.helper.Amp.reportRenderedEntityIdentifier())),t.Context.isIABSafeFrame()&&t.helper.SafeFrameResize.close()},e.prototype.getCurrentTime=function(){return this.adDuration>0&&this.adRemainingTime>=0?this.adDuration-this.adRemainingTime:0},e.prototype.getEnvironmentVars=function(){return this.vpaidAd&&this.vpaidAd.getTeadsEnvironmentVars()||{}},e.prototype.load=function(e,n){var i=this,o=function(e){i.logger.error("VPAID play:",e),t.formatSumologic.sendError({pid:i.placement.pid,cid:i.vpaidApi.getContextData()?i.vpaidApi.getContextData().tracking.cid:void 0,scid:i.vpaidApi.getContextData()?i.vpaidApi.getContextData().tracking.studio_cid:void 0,message:"Error when loading mediafile|"+e.getFullMessage().substr(0,120)}),n&&n(e)},r=function(n,o){i.vpaidAd=n,i.initAdConfig=o,e&&(i.formatConfig.callbacks.trigger("adAvailable"),e());var r=t.player.MediaFileHelper.getMediaFileRatioLog(i.player.getMediafile(),i.placement.pid,t.Option.of(i.formatConfig.adSourceId));t.formatSumologic.sendInfo(r)};!this.player&&e?e():this.mediafile?this.player.loadMediaFile(this.mediafile,r,o):this.player.loadOptimalMediaFile(r,o)},e.prototype.close=function(e){var n=this;this.states.hasStopped||(this.states.hasStopped=!0,!this.states.hasOpened||t.Semver.isLowerOrEqual(t.Context.getIEVersion(),"9")||t.Context.isAmp()||this.states.isCollapsed?(this.collapse(),this.exit(e)):(this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.parentContainer,function(){return n.exit(e)}),this.collapse()))},e.prototype.collapse=function(){this.states.isCollapsed||(this.states.isCollapsed=!0,this.components.hideAllComponents(),this.formatConfig.animations.setCollapseDuration(this.parentContainer),this.parentContainer.style.height="0")},e.prototype.start=function(){this.components.showAllComponents(),this.addCustomTracking(window._ttc),this.logger.debug("VPAID started",this.vpaidAd,this.initAdConfig),this.mediafile=this.player.getMediafile(),this.onVpaidReady(),this.placement.placementTracker.handleInitAdTimingMark(this.vpaidAd),this.vpaidAd.initAd(this.initAdConfig.width,this.initAdConfig.height,this.initAdConfig.mode,this.initAdConfig.bitrate,this.initAdConfig.parameters)},e.prototype.onAdLoaded=function(){var e=this;this.states.isReady=!0,t.Context.isAmp()&&!t.helper.Amp.isOpen()&&(t.formatSumologic.sendInfo("AMP resize open request"),t.helper.Amp.renderStart(),t.helper.Amp.open(this.fitContainerToContent(!0),function(n){if(!n){e.close(t.EXIT_STATUS.ResizeAmpError),e.unlistenAmp();var i="AMP resize open request denied";t.formatSumologic.sendInfo(i),e.logger.info("AdLoaded",i),e.wigoi&&e.wigoi.valid(3,4,i,t.Wigo.infoType.ERROR)}},function(){var t=window._teads_amp.change;return!(t.boundingClientRect.top>=t.rootBounds.height)})),this.volumeController.mute(),this.eventListenerManager.add("mouseover",this.parentContainer,function(){return e.volumeController.onMouseOver()}),this.eventListenerManager.add("mouseout",this.parentContainer,function(){return e.volumeController.onMouseOut()}),this.updateAdSize(),this.vpaidAd.render(this.vpaidAd.getVPAID())},e.prototype.onAdVideoStart=function(){this.states.hasCompleted=!1,this.states.isPlaying=!0,this.volumeController.onAdVideoStart()},e.prototype.onAdStarted=function(){this.states.hasStarted=!0,this.vpaidApi.getStudioData()?this.brandingMode.deinit():this.brandingMode.init(),this.placement.placementConfig.capping.record(),this.volumeController.mute(),this.updateAdSize()},e.prototype.onAdPaused=function(){this.states.isPlaying=!1},e.prototype.onAdPlaying=function(){this.states.isPlaying=!0},e.prototype.onAdStopped=function(){this.states.isPlaying=!1,this.close(t.EXIT_STATUS.AdSuccess)},e.prototype.onAdSkipped=function(){this.collapse()},e.prototype.onAdVideoComplete=function(){this.states.hasCompleted=!0},e.prototype.onAdError=function(e){var n="string"==typeof e?e:e.message?e.message:t.JSON.stringify(e),i=this.player.getLinearAd();t.formatSumologic.sendError({aid:i?i.id:-1,pid:this.placement.pid,cid:this.vpaidApi.getContextData()?this.vpaidApi.getContextData().tracking.cid:void 0,scid:this.vpaidApi.getContextData()?this.vpaidApi.getContextData().tracking.studio_cid:void 0,message:"AdError: "+n}),this.logger.error("AdError:",n),this.close(t.EXIT_STATUS.AdError)},e.prototype.onAdSizeChange=function(){this.updateAdSize(),this.updateParentContainerClass()},e.prototype.onAdRemainingTimeChange=function(){this.adRemainingTime=this.vpaidAd.getAdRemainingTime()},e.prototype.onAdDurationChange=function(){this.adDuration=this.vpaidAd.getAdDuration(),this.onAdRemainingTimeChange()},e.prototype.onCollapseRequest=function(){this.formatConfig.callbacks.trigger("CollapseRequest"),this.collapse()},e.prototype.onSoundToggleRequest=function(){var t=this,e=this.getEnvironmentVars();e.videoSlot&&e.videoSlot.audio&&!e.videoSlot.audio.authorized?e.videoSlot.audio.authorizeAudio(function(){return t.volumeController.toggleVolume()}):this.volumeController.toggleVolume()},e.prototype.onReplayRequest=function(){this.replay(),t.formatSumologic.sendInfo("click-replay "+t.Context.getContextSummary(),null,1)},e.prototype.onEndscreenInit=function(){this.getInViewState()||(this.logger.debug("The video completed but it's not in view, pause it."),this.vpaidAd.pauseAd()),this.visibility&&!this.visibility.isEnabled()&&(this.visibility.enable(),this.visibility.isVisible()||this.onHidden())},e.prototype.onVisible=function(){if(this.logger.debug("Format is visible",this.playerContainer.id),!this.states.hasStopped&&this.states.hasOpened&&this.states.hasStarted){var t=void 0;t=this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?!this.getInViewState():!this.formatConfig.videoPause.isNo(),t||this.vpaidAd.resumeAd(),this.logger.debug("onVisible mustPause",t)}},e.prototype.onHidden=function(){this.logger.debug("Format is hidden",this.playerContainer.id),this.states.hasStarted&&this.states.isPlaying&&(!this.formatConfig.videoPause.isNo()||this.states.hasCompleted?this.vpaidAd.pauseAd():!this.formatConfig.soundMute.isNo()&&this.volumeController.getVolume()>0&&this.volumeController.mute())},e.prototype.initInternalResponsive=function(){this.player&&this.vpaidAd&&(this.player.getPlugin("Responsive").deinit(),this.responsive=new t.helper.Responsive(this),this.responsive.resizeOnStart())},e.prototype.onVpaidReady=function(){var n=this;this.initInternalResponsive(),this.isVertical=this.player.getMediafile().height>e.VERTICAL_MARGIN*this.player.getMediafile().width,this.volumeController.init(this),this.visibility=t.Visibility.listenWindow(this.win,function(){return n.onVisible()},function(){return n.onHidden()}),this.vpaidAd.subscribe(function(){return n.onAdLoaded()},t.vpaid.VPAIDEvent.AdLoaded),this.vpaidAd.subscribe(function(){return n.onAdVideoStart()},t.vpaid.VPAIDEvent.AdVideoStart),this.vpaidAd.subscribe(function(){return n.onAdStarted()},t.vpaid.VPAIDEvent.AdStarted),this.vpaidAd.subscribe(function(){return n.onAdPaused()},t.vpaid.VPAIDEvent.AdPaused),this.vpaidAd.subscribe(function(){return n.onAdPlaying()},t.vpaid.VPAIDEvent.AdPlaying),this.vpaidAd.subscribe(function(){return n.onAdSizeChange()},t.vpaid.VPAIDEvent.AdSizeChange),this.vpaidAd.subscribe(function(){return n.onAdDurationChange()},t.vpaid.VPAIDEvent.AdDurationChange),this.vpaidAd.subscribe(function(){return n.onAdRemainingTimeChange()},t.vpaid.VPAIDEvent.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return n.onAdVideoComplete()},t.vpaid.VPAIDEvent.AdVideoComplete),this.vpaidAd.subscribe(function(){return n.onAdStopped()},t.vpaid.VPAIDEvent.AdStopped),this.vpaidAd.subscribe(function(){return n.onAdSkipped()},t.vpaid.VPAIDEvent.AdSkipped),this.vpaidAd.subscribe(function(t){return n.onAdError(t)},t.vpaid.VPAIDEvent.AdError);var i=this;for(var o in t.vpaid.VPAIDEvent)!function(e){t.vpaid.VPAIDEvent.hasOwnProperty(e)&&i.vpaidAd.subscribe(function(){n.formatConfig.callbacks.trigger(e,n.volumeController,n.fullscreenHelper)},e)}(o);this.linearAd.clickThrough&&this.linearAd.clickThrough.length&&this.vpaidAd.subscribe(function(){n.onHidden(),(n.formatConfig.soundOver.isOver()||n.formatConfig.soundOver.isOnceOver())&&n.volumeController.mute()},t.vpaid.VPAIDEvent.AdClickThru),this.vpaidAd.subscribe(function(){return n.onCollapseRequest()},t.vpaid.ui.VPAIDUIEvent.CollapseRequest),this.vpaidAd.subscribe(function(){return n.onSoundToggleRequest()},t.vpaid.ui.VPAIDUIEvent.SoundToggleRequest),this.vpaidAd.subscribe(function(){return n.onReplayRequest()},t.vpaid.ui.VPAIDUIEvent.ReplayRequest),this.vpaidAd.subscribe(function(){return n.onEndscreenInit()},t.vpaid.ui.VPAIDUIEvent.EndscreenInit),this.formatConfig.vtpEvent.getEvent()&&this.vpaidAd.subscribe(function(){return n.onVtpEvent()},this.formatConfig.vtpEvent.getEvent())},e.prototype.triggerOnVtpEvent=function(){this.formatConfig.videoPause.setToNo(),this.states.isPlaying||this.vpaidAd.resumeAd()},e.prototype.onVtpEvent=function(){if(!this.formatConfig.videoPause.isNo())if(this.formatConfig.vtpEvent.getEvent()===t.vpaid.VPAIDEvent.AdRemainingTimeChange){var e=this.vpaidAd.getAdDuration(),n=this.vpaidAd.getAdRemainingTime(),i=Math.floor(e-n);!isNaN(i)&&i>0&&i>=this.formatConfig.vtpEvent.getOffset()&&this.triggerOnVtpEvent()}else this.triggerOnVtpEvent()},e.prototype.updateAdSize=function(){this.adWidth=this.vpaidAd.getAdWidth(),this.adHeight=this.vpaidAd.getAdHeight()},e.prototype.updateParentContainerClass=function(){var e=this;if(this.vpaidAd){var n=t.Dom.getBoundingClientRect(this.parentContainer).width;t.ArrayHelper.forEach([t.Constant.RESPONSIVE.xs.className,t.Constant.RESPONSIVE.sm.className],function(n){t.HTMLHelper.removeClass(e.parentContainer,n)}),n<=t.Constant.RESPONSIVE.xs.size?t.HTMLHelper.addClass(this.parentContainer,t.Constant.RESPONSIVE.xs.className):n<=t.Constant.RESPONSIVE.sm.size&&t.HTMLHelper.addClass(this.parentContainer,t.Constant.RESPONSIVE.sm.className)}},e.prototype.replay=function(){var e=this;this.logger.debug("replay called"),this.placement.placementTracker.track("click-replay"),t.formatSumologic.sendInfo("click-replay "+t.Context.getContextSummary(),!0),this.volumeController.replay();try{this.player.getPlugin("Responsive").unsetResponsive(),this.player.setLinearAd(this.linearAd),this.responsive&&this.responsive.unsetResponsive(),this.unsetVisibility(),this.states.isReady=!0,this.states.hasOpened=!0,this.states.hasStarted=!1,this.states.hasStopped=!1,this.states.hasCompleted=!1,this.states.isReplay=!0,this.vpaidAd=null,t.vpaid.BaseVPAIDJSWrapper.hasLogged=[],t.Context.isDesktop()&&this.formatConfig.videoStart.isClick()&&(this.formatConfig.videoStart=new t.option.VideoStart(t.option.VideoStart.DEFAULT,this.formatConfig.formatName,this.formatConfig.smartPosition)),this.load(function(){return e.start()})}catch(e){this.logger.error("Replay callback threw an exception",e),this.close(t.EXIT_STATUS.ReplayError)}},e.prototype.unsetVisibility=function(){this.visibility&&(this.visibility.destroy(),this.visibility=null)},e.prototype.isVisible=function(){return t.Context.isAmp()?!!this.visibility&&(this.visibility.isVisible()&&t.helper.Amp.isOpen()):!this.visibility||!this.visibility.isEnabled()||this.visibility.isVisible()},e.prototype.getMoatInViewState=function(){var e=!0;return t.Context.isFacebookIA()||t.Context.isAmp()||t.Context.isIABSafeFrame()||(e=t.HTMLHelper.getRealVisibilityState(this.playerContainer)&&this.isVisible()),e},e.prototype.getInViewState=function(){return this.getViewportInViewState()&&this.getMoatInViewState()},e.prototype.clearRealVisibilityInterval=function(){this.realVisibilityInterval&&this.realVisibilityInterval.clear()},e.prototype.addCustomTracking=function(e){var n=this;void 0===e&&(e={});var i=this.player.getPlugin("Tracker"),o=i.getTracker();for(var r in e)if(e.hasOwnProperty(r)){var a=e[r].trackings||[];t.ArrayHelper.forEach(a,function(t){var e=t.event;"progress"!==e?o.addResource(e,t.url):n.logger.warn("Custom tracking cannot be handled",t)})}},e.VERTICAL_MARGIN=1.05,e}();e.AbstractFormat=n}(t.format||(t.format={}))}(i||(i={}))},function(t,e,n){var i=window.teads=window.teads||{};!function(t){var e=function(){function t(){}return t.CREDITSCSS=n(309),t.LABELCSS=n(310),t.EXPANDCSS=n(378),t.EXPANDHTML=n(379),t.DISPLAYCSS=n(380),t.COUNTDOWNCSS=n(381),t.COUNTDOWNHTML=n(311),t}();t.Template=e}(i||(i={}))},function(t,e,n){n(206);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function t(){this.width=0,this.height=0}return t}();e.DisplayAsset=n;var o=function(){function t(){this.asset=new n}return t}();e.DisplayCreative=o;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.open=[],e.visible=[],e}return i(e,t),e}(t.vast.TrackingDefinition);e.DisplayTrackingDefinition=r;var a=function(){function t(){this.version=1,this.creative=new o,this.tracking=new r,this.clickThrough=[],this.expand=[],this.rolloverCountdown=[],this.closeCountdown=[],this.title=""}return t}();e.Ad=a}(t.display||(t.display={}))}(o||(o={}))},function(t,e,n){n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(e,i,o,r,a){void 0===i&&(i=document.body),void 0===o&&(o=10),void 0===r&&(r=400),this.fromElement=i,this.margin=o,this.transitionDuration=r,this.scope=a,this.css=t.Template.EXPANDCSS,this.content=t.ui.TemplateHelper.replacePlaceholders(t.Template.EXPANDHTML,{iframeurl:e,assetsPath:t.config.assetsUrl}),a||(this.scope=t.HTMLHelper.findParentWindows(window.document.body).pop()),this.background=this.scope.document.createElement("div"),this.background.style.setProperty("display","none"),this.background.className="teads-expand-overlay open",this.scope.document.body.appendChild(this.background),this.container=this.scope.document.createElement("div"),this.container.style.setProperty("display","none"),this.container.className="teads-expand-container",this.scope.document.body.appendChild(this.container),this.setCSS(this.css),this.contentContainer=document.createElement("div"),this.contentContainer.className=n.CSSCLASSES.expandContentContainer,this.contentContainer.innerHTML=this.content,this.container.appendChild(this.contentContainer)}return n.openExpand=function(i,o,r,a,s,c){var d=new e.ExpandHelper(r,i),l=d.getContentElement(),p=t.Dom.getElementsByClassName(n.CSSCLASSES.expandLabel,l)[0],u=t.Dom.getElementsByClassName(n.CSSCLASSES.expandCredit,l)[0],h=t.Dom.getElementsByClassName(n.CSSCLASSES.expandCloseButton,l)[0],f=function(t,e){if(t){var n=e.getHTML();!n&&t.parentNode?t.parentNode.removeChild(t):t.innerHTML=n}};f(p,new t.component.Label(o.label)),f(u,new t.component.Credits(o.credits)),c&&(h.style.setProperty("display","none"),setTimeout(function(){h.style.setProperty("display","block")},1e3*c));var g=function(){var e=t.Dom.getElementsByClassName(n.CSSCLASSES.expandIframe,l)[0],i=t.Dom.getElementsByClassName(n.CSSCLASSES.expand,l)[0],o=t.Dom.getBoundingClientRect(i).height,r=d.getContainerHeight()-o+t.Dom.getBoundingClientRect(e).height;e.style.setProperty("width",d.getContainerWidth()+"px"),e.style.setProperty("height",r+"px")};d.open(function(){g(),a&&t.Utils.isFunction(a)&&a()},function(){return g()}),t.Dom.addEventListener("click",h,function(){d.close(function(){s&&t.Utils.isFunction(s)&&s(),d.destroy()})})},n.prototype.setCSS=function(e){this.css=e;var i=this.scope.document.getElementById(n.styleNodeId);i&&i.parentNode.removeChild(i);var o=document.createElement("style");o.setAttribute("id",n.styleNodeId),o.appendChild(this.scope.document.createTextNode(t.ui.TemplateHelper.replacePlaceholders(this.css,{transitionDuration:this.transitionDuration,assetsPath:t.config.assetsUrl})));var i=this.scope.document.head||this.scope.document.body||this.background;i.appendChild(o)},n.prototype.open=function(e,n){var i=this;if(!this.opened){this.opened=!0,this.contentContainer.style.setProperty("display","none"),this.background.style.setProperty("display","block"),this.fitContainerToElement(this.fromElement),this.container.style.setProperty("display","block");var o=function(t){n&&n()};setTimeout(function(){t.HTMLHelper.addClass(i.background,"opened"),t.HTMLHelper.addClass(i.container,"opened"),i.container.style.setProperty("top",i.margin+"px"),i.container.style.setProperty("left",i.margin+"px"),i.updateSize(),setTimeout(function(){t.HTMLHelper.addClass(i.scope.document.body,"noscroll"),o(),i.contentContainer.style.setProperty("display","block"),e&&"function"==typeof e&&e()},i.transitionDuration)},10);var r=function(){i.updateSize(),o()};this.resizeWindowListener=r,t.Dom.addEventListener("resize",this.scope,r)}},n.prototype.close=function(e){var n=this;this.opened&&(this.resizeWindowListener&&(t.Dom.removeEventListener("resize",this.scope,this.resizeWindowListener),this.resizeWindowListener=null),this.contentContainer.style.setProperty("display","none"),t.HTMLHelper.removeClass(this.scope.document.body,"noscroll"),this.fitContainerToElement(this.fromElement),t.HTMLHelper.removeClass(this.background,"opened"),t.HTMLHelper.removeClass(this.container,"opened"),setTimeout(function(){n.background.style.setProperty("display","none"),n.container.style.setProperty("display","none"),n.opened=!1,e&&t.Utils.isFunction(e)&&e()},this.transitionDuration))},n.prototype.destroy=function(){this.container.parentNode.removeChild(this.container),this.background.parentNode.removeChild(this.background);var t=this.scope.document.getElementById(n.styleNodeId);t.parentNode.removeChild(t)},n.prototype.isOpened=function(){return!!this.opened},n.prototype.updateSize=function(){this.container.style.setProperty("width",this.getContainerWidth()+"px"),this.container.style.setProperty("height",this.getContainerHeight()+"px")},n.prototype.getContentElement=function(){return this.container},n.prototype.getContainerWidth=function(){return this.scope.innerWidth-2*this.margin},n.prototype.getContainerHeight=function(){return this.scope.innerHeight-2*this.margin},n.prototype.fitContainerToElement=function(e){var n=t.Dom.getBoundingClientRect(e);this.container.style.setProperty("position","fixed"),this.container.style.setProperty("top",n.top+"px"),this.container.style.setProperty("left",n.left+"px"),this.container.style.setProperty("width",n.width+"px"),this.container.style.setProperty("height",n.height+"px")},n.styleNodeId="teads-expand-helper-style",n.CSSCLASSES={expand:"teads-expand",expandIframe:"teads-expand-iframe",expandLabel:"teads-expand-label",expandCredit:"teads-expand-credits",expandCloseButton:"teads-expand-closebutton",expandContentContainer:"teads-expand-content"},n}();e.ExpandHelper=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(i,o,r,a,s,c,d){var l=this;this.parentContainer=i,this.clickZone=o,this.container=r,this.endCallback=a,this.clickCallback=s,this.win=c,this.rolloverCountdown=d,this.logger=new t.Logger("helper.Countdown"),e.CSSHelper.embedCSS(n.CSS,this.win,n.STYLE_NODE_ID),this.container.className=n.CSSCLASSES.countdownContainer,t.Dom.addEventListener("click",this.clickZone,function(){l.onClick()})}return n.prototype.show=function(){var i=this;this.logger.debug("init countdown called"),e.CSSHelper.embedCSS(t.Template.COUNTDOWNCSS,this.win,n.CSSCLASSES.countdownStyle),this.container.style.setProperty("opacity","0"),this.container.innerHTML=t.ui.TemplateHelper.replacePlaceholders(t.Template.COUNTDOWNHTML,{assetsPath:t.config.assetsUrl});var o=t.Dom.getElementsByClassName(n.CSSCLASSES.countdownCircle,this.container)[0],r=t.Dom.getBoundingClientRect(o),a=t.Dom.getBoundingClientRect(this.parentContainer);o.style.setProperty("top",(a.height-r.height)/2+"px"),o.style.setProperty("right",(a.width-r.width)/2+"px"),setTimeout(function(){return i.container.style.setProperty("opacity","1")},100);var s=t.Dom.getElementsByClassName(n.CSSCLASSES.countdownNumber,this.container)[0],c=3,d=t.Dom.getElementsByClassName(n.CSSCLASSES.countdownCircleStroke,this.container)[0],l=d.attributes["stroke-dasharray"]?Number(d.attributes["stroke-dasharray"].value):0;d.style.setProperty("stroke-dashoffset",String(l));var p=this.rolloverCountdown?1e3*this.rolloverCountdown/c:600,u=c*p/(1e3/60),h=0,f=function(){h<=u&&(d.style.setProperty("stroke-dashoffset",""+(l-h/u*l)),h++,i.countdownCircleStrokeTimer=t.Timer.requestAnimationFrame(f,1e3/60))};this.countdownCircleStrokeTimer=t.Timer.requestAnimationFrame(f,1e3/60),this.countdownTimer=setInterval(function(){c>0&&c--,s.textContent=String(c),0===c&&i.onEnded()},p)},n.prototype.hide=function(){this.container&&(this.container.innerHTML="",clearInterval(this.countdownTimer),t.Timer.cancelAnimationFrame(this.countdownCircleStrokeTimer))},n.prototype.onEnded=function(){if(this.endCallback&&t.Utils.isFunction(this.endCallback))try{this.endCallback()}catch(t){this.logger.error("Countdown onEnded callback error",t)}},n.prototype.onClick=function(){if(this.clickCallback&&t.Utils.isFunction(this.clickCallback))try{this.clickCallback()}catch(t){this.logger.error("Countdown onClick callback error",t)}},n.STYLE_NODE_ID="teads-inread-countdown",n.CSS=t.Template.COUNTDOWNCSS,n.CSSCLASSES={countdown:"teads-countdown",countdownStyle:"teads-countdown-style",countdownBackground:"teads-countdown-background",countdownCircle:"teads-countdown-circle",countdownCircleStroke:"teads-countdown-circle-main",countdownNumber:"teads-countdown-number",countdownClickZone:"teads-countdown-clickzone",countdownContainer:"teads-countdown-container",countdownMainContainer:"teads-countdown-maincontainer"},n}();e.Countdown=n}(t.helper||(t.helper={}))}(i||(i={}))},,,,,,,,,,,,,,,,,,,function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.execCallback=function(n,i,o){try{n.apply(n,i)}catch(c){var r=new t.Logger("Callback"),a="user callback threw an exception: "+c;if(r.error(a,c,n,i),o){var s=t.VastException.UNDEFINED;s.message=a,e.execCallback(o,[new t.VastException(s,c)])}}},e}();e.CallbackHelper=n}(t.vast||(t.vast={}))}(n||(n={}))},function(t,e,n){n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.embedCSS=function(e,n,i){t.Option.of(n).map(function(t){return t.document}).forEach(function(n){if(!n.getElementById(i)){var o=t.ui.TemplateHelper.replacePlaceholders(e,{assetsPath:t.config.assetsUrl}),r=n.createElement("style");r.setAttribute("id",i),r.appendChild(n.createTextNode(o)),n.head.appendChild(r)}})},e.removeCSS=function(e,n){t.Option.of(n).map(function(t){return t.document}).map(function(t){return t.getElementById(e)}).forEach(function(e){return t.Option.of(e.parentNode).forEach(function(t){return t.removeChild(e)})})},e.injectFormatCSS=function(n){if(!t.HTMLHelper.getDocument(n).getElementById(e.id)){var i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",t.config.basePathUrl+"/teads-format.css"),i.setAttribute("id",e.id),t.Dom.inject(i,t.HTMLHelper.getWindow(n))}},e.id="teads-format-css",e}();e.CSSHelper=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(e){this.abstractFormat=e,this.logger=new t.Logger("teads.helper.smartPosition"),this.active=!1,this.started=!1,this.stopped=!1,this.isTop=!1,this.isCorner=!1,this.isResponsive=!1,this.eventListenerManager=new t.DOMEventListenerManager,this.creativeLimits={top:0,bottom:0},this.windowLimits={top:0,bottom:0},this.adSize={width:0,height:0},this.maxRatio=1,this.currentTop=0,this.getCreativeLimitsTries=0,this.originalPlayerZIndex=String(t.Constant.MIN_Z_INDEX_VALUE),this.parentContainer=e.parentContainer,this.playerContainer=e.playerContainer,this.placementConfig=e.placement.placementConfig,this.electedSlot=e.placement.getElectedSlot(),this.vpaidAd=e.getVpaidAd(),this.responsiveHelper=e.responsive,this.fullscreenHelper=e.getFullscreenHelper(),this.components=e.components,this.win=e.placement.placementConfig.parentWindow.getWindow(),this.smartConfig=e.formatConfig.smartPosition.getValue(),this.isSticky=e.formatConfig.sticky.getValue(),this.maxTop=t.Dom.getWindowSize(this.win).height*n.MAX_FLOATING_TOP;var i=t.Context.isMobile()||t.Context.isTablet();i&&(this.smartConfig.top||this.isSticky)?this.isTop=!0:!i&&this.smartConfig.corner&&(this.isCorner=!0),this.logger.debug("isTop, isCorner",this.isTop,this.isCorner),this.isTop?this.maxRatio=n.MAX_SIZE_RATIO_TOP:this.isCorner&&(this.maxRatio=n.MAX_SIZE_RATIO_CORNER),this.originalPlayerZIndex=this.playerContainer.style.zIndex}return n.prototype.isActive=function(){return this.active},n.prototype.hasStarted=function(){return this.started},n.prototype.onScroll=function(t){this.started&&!this.stopped&&(this.windowLimits=this.getWindowLimits(),!this.active&&this.canStart()?this.start():this.active&&this.canStop()&&this.stop())},n.prototype.onTouch=function(t){this.started&&!this.stopped&&(this.windowLimits=this.getWindowLimits(),this.active&&this.canStop()&&this.stop())},n.prototype.init=function(){var e=this;if(!this.started&&(this.isTop||this.isCorner)){this.logger.debug("initializing"),this.responsiveHelper.unsetResponsive(),this.compensationDiv=this.initCompensationDiv();var n=t.Utils.throttle(function(){return e.onResizeEnd()},100,this);this.responsiveHelper.addResizeListener(function(t){return n(t)}),this.fullscreenHelper.addBeforeOpenEventListener(function(){return e.onFullscreenOpen()}),this.fullscreenHelper.addCloseEventListener(function(){return e.onFullscreenClose()}),this.responsiveHelper.addOrientationChangeListener(function(){return e.onOrientationChange()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],this.win,function(t){return e.onTouch(t)}),this.creativeLimits=this.getCreativeLimits(),this.currentTop=this.getCurrentTop(),this.logger.debug("init",this.currentTop),this.started=!0,this.responsiveHelper.setResponsive()}},n.prototype.deinit=function(){if(!this.stopped){this.stopped=!0;try{this.stop()}catch(t){}this.eventListenerManager.removeAll(),this.abstractFormat.slotType===t.Constant.SLOT_TYPE.native&&this.compensationDiv.parentNode.removeChild(this.compensationDiv),e.Debug.hideCreativeLimits()}},n.prototype.start=function(){var e=this;if(!this.active){if(this.responsiveHelper.unsetResponsive(),this.compensationDiv.style.height=t.Dom.getBoundingClientRect(this.playerContainer).height+"px",this.setResponsive(),this.playerContainer.style.zIndex=String(t.Constant.MAX_Z_INDEX_VALUE),this.playerContainer.style.position="fixed",this.compensationDiv.style.display="block",this.isTop)this.currentMode===n.MODES.TOP&&(this.currentTop=this.getCurrentTop(),this.playerContainer.style.top=this.currentTop+"px");else{if(!this.isCorner)return this.logger.error("Starting smartPosition with unsupported mode."),void this.stop();this.win.setTimeout(function(){e.playerContainer.style.bottom="0px",e.playerContainer.style.right="0px"},1)}this.active=!0}},n.prototype.getOptimalDimension=function(){return this.responsiveHelper.getOptimalDimension(this.parentContainer,this.maxRatio)},n.prototype.getCreativeLimits=function(){var i=this,o=this.active?this.compensationDiv:this.playerContainer,r=t.Dom.getBoundingClientRect(o);if(r.top===r.bottom&&this.getCreativeLimitsTries<n.MAX_GET_CREATIVE_LIMITS_TRIES)return this.getCreativeLimitsTries++,this.win.setTimeout(function(){return i.getCreativeLimits()},10),this.logger.debug("Could not get creativeLimits after "+this.getCreativeLimitsTries+" tries"),this.creativeLimits;this.getCreativeLimitsTries=0;var a=t.Dom.getScrollTop(this.win),s=a+r.top,c=a+r.bottom,d={top:s,bottom:c};return e.Debug.showCreativeLimits(d,this.parentContainer.parentElement),d},n.prototype.getWindowLimits=function(){var e=t.Dom.getWindowSize(this.win),n=t.Dom.getScrollTop(this.win);return{top:n+this.currentTop,bottom:n+e.height}},n.prototype.stop=function(){var e=this;if(this.active&&(this.active=!1,this.unsetResponsive(),this.playerContainer.style.position="relative",this.playerContainer.style.zIndex=this.originalPlayerZIndex,this.compensationDiv.style.display="none",this.isTop?this.currentMode===n.MODES.TOP&&(this.playerContainer.style.top=""):this.isCorner&&(this.playerContainer.style.bottom="",this.playerContainer.style.right=""),this.abstractFormat.slotType===t.Constant.SLOT_TYPE.native)){var i=this.responsiveHelper.getOptimalDimension(this.compensationDiv);this.vpaidAd.getAdHeight()!==i.height&&(this.adSize=i,this.resizeAd(this.adSize.width,this.adSize.height)),this.responsiveHelper.setResponsive(),setTimeout(function(){e.responsiveHelper.resize(!0)},100)}},n.prototype.canStart=function(){var t=!1;return this.isTop?this.windowLimits.top>this.creativeLimits.top&&(this.currentMode=n.MODES.TOP,t=!0):this.isCorner&&(this.windowLimits.bottom<this.creativeLimits.top?(this.currentMode=n.MODES.TOP,t=!0):this.windowLimits.top>this.creativeLimits.bottom&&(this.currentMode=n.MODES.BOTTOM,t=!0)),t},n.prototype.canStop=function(){var t=!1;return this.isTop?this.currentMode===n.MODES.TOP&&this.windowLimits.top<=this.creativeLimits.top&&(t=!0):this.isCorner&&(this.currentMode===n.MODES.TOP&&this.windowLimits.bottom>=this.creativeLimits.top?t=!0:this.currentMode===n.MODES.BOTTOM&&this.windowLimits.top<=this.creativeLimits.bottom&&(t=!0)),t},n.prototype.setResponsive=function(){var e=this;this.isResponsive=!0;var n=function(){e.isActive()&&e.isResponsive&&(e.handleResize(),e.resizeInterval=t.Timer.requestAnimationFrame(n,100))};this.resizeInterval=t.Timer.requestAnimationFrame(n,100)},n.prototype.handleResize=function(e){if(void 0===e&&(e=!1),!this.fullscreenHelper.isActive()){var i=this.getOptimalDimension();if((e||this.vpaidAd.getAdHeight()!==i.height)&&(this.adSize=i,this.logger.debug("resize to "+this.adSize.width+"x"+this.adSize.height),this.resizeAd(this.adSize.width,this.adSize.height)),i=this.responsiveHelper.getOptimalDimension(this.parentContainer,1),(e||t.Dom.getBoundingClientRect(this.compensationDiv).height!==i.height)&&(this.compensationDiv.style.height=i.height+"px"),this.isTop){this.maxTop=t.Dom.getWindowSize(this.win).height*n.MAX_FLOATING_TOP;var o=this.getTop();this.currentTop!==o&&(this.currentTop=o,this.playerContainer.style.top=this.currentTop+"px")}}},n.prototype.unsetResponsive=function(){t.Timer.cancelAnimationFrame(this.resizeInterval),this.isResponsive=!1},n.prototype.resizeAd=function(e,n){var i=Math.round(t.Dom.getBoundingClientRect(this.compensationDiv).width),o=(i-e)/2+"px";this.vpaidAd.resizeAd(e,n),this.isTop?(this.playerContainer.style.marginLeft=o,this.playerContainer.style.marginRight=o):(this.playerContainer.style.marginLeft="0px",this.playerContainer.style.marginRight="0px")},n.prototype.initCompensationDiv=function(){var e=this.win.document.createElement("div");return e.className="teads-player teads-compensation-div",e.style.display="none",e.style.opacity="0",this.abstractFormat.slotType===t.Constant.SLOT_TYPE.native&&(this.playerContainer.nextSibling?this.playerContainer.parentNode.insertBefore(e,this.playerContainer.nextSibling):this.playerContainer.parentNode.appendChild(e)),e},n.prototype.onResizeEnd=function(){this.fullscreenHelper.isActive()||(this.creativeLimits=this.getCreativeLimits(),this.onScroll())},n.prototype.onOrientationChange=function(){this.creativeLimits=this.getCreativeLimits(),this.isTop&&(this.currentTop=this.getTop(),this.logger.debug("onOrientationChange",this.currentTop)),this.active&&!this.fullscreenHelper.isActive()&&(this.unsetResponsive(),this.handleResize(!0),this.setResponsive())},n.prototype.onFullscreenOpen=function(){this.active&&this.stop()},n.prototype.onFullscreenClose=function(){this.onScroll()},n.prototype.getTop=function(){var e=0;t.ArrayHelper.forEach(t.HTMLHelper.findFloatingHeaders(this.win,[this.playerContainer]),function(n){return e=Math.max(e,t.Dom.getBoundingClientRect(n).bottom)});var n=t.Dom.getScrollTop(this.win),i=n>0?e:n+e;return Math.max(0,Math.min(this.maxTop,i))},n.prototype.getCurrentTop=function(){return this.isTop&&!this.active?this.getTop():this.currentTop},n.MAX_SIZE_RATIO_CORNER=t.Context.isDesktop()?.3:.25,n.MAX_SIZE_RATIO_TOP=t.Context.isDesktop()?.3:.5,n.MAX_FLOATING_TOP=t.Context.isDesktop()?.25:.2,n.MAX_GET_CREATIVE_LIMITS_TRIES=5,n.MODES={TOP:"TOP",BOTTOM:"BOTTOM"},n}();e.SmartPosition=n}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(){}/**
             * Generate userId value
             * Fast UUID generator, RFC4122 version 4 compliant.
             * @author Jeff Ward (jcward.com).
             * @license MIT license
             * @link http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136
             * @return {string} Generated UUID
             **/
return t.get=function(){return t.value||(t.value=t.generate()),t.value},t.generate=function(){for(var t=[],e=0;e<256;e++)t[e]=(e<16?"0":"")+e.toString(16);var n=4294967295*Math.random()|0,i=4294967295*Math.random()|0,o=4294967295*Math.random()|0,r=4294967295*Math.random()|0;return t[255&n]+t[n>>8&255]+t[n>>16&255]+t[n>>24&255]+"-"+t[255&i]+t[i>>8&255]+"-"+t[i>>16&15|64]+t[i>>24&255]+"-"+t[63&o|128]+t[o>>8&255]+"-"+t[o>>16&255]+t[o>>24&255]+t[255&r]+t[r>>8&255]+t[r>>16&255]+t[r>>24&255]},t}();t.UserId=e}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.hasValidContextAndProvider=function(e,n){void 0===n&&(n=!1);var i=t.Constant.HEADER_BIDDING_PROVIDERS;return e.match({some:function(e){return!n||t.ArrayHelper.includes(i,e)},none:function(){return!1}})},e.isUserSyncAllowed=function(e){return e.match({some:function(e){return e===t.Constant.HEADER_BIDDING_DEBUG},none:function(){return!0}})},e}();e.HeaderBidding=n}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e,n){n(119),n(51);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(236),n(305),n(307),n(385),n(386),n(388),n(389),n(184),n(318);var o=window.teads=window.teads||{};!function(t){!function(e){var n=function(n){function o(){return null!==n&&n.apply(this,arguments)||this}return i(o,n),o.prototype.initFormatInstance=function(e,n,i){if(i)this.registerInstance(new t.format.InreadDisplay(this,n,i,e));else{var o=e?e.getLinearAd():null;this.placementTracker.setSlotDimensionOnTracking(o),e&&e.setLinearAd(o),this.sliderEnabled?this.registerInstance(new t.format.Slider(this,n,e)):o&&t.parser.HybridExtension.has(o)?this.registerInstance(new t.format.InreadImpact(this,n,e)):this.registerInstance(new t.format.Inread(this,n,e))}t.helper.WigoHelper.reorderWigoButtons()},o.prototype.checkSlot=function(n){void 0===n&&(n=t.None);var i=this.placementConfig.selector.getSlots();if(i.length&&(this.electedSlotReport=this.processChecker(i,t.Constant.FORMAT.inread)),(!i.length||!this.electedSlotReport.report.status)&&this.placementConfig.auto.isEnabled()){this.smartSlot=new t.helper.SmartSlot(this.placementConfig.parentWindow.getWindow());var o=this.smartSlot.find();if(o){for(var r=[],a=0,s=o.length;a<s;a++)r[a]=new e.Slot(o[a],a),r[a].computeScore(this.placementConfig);r.sort(function(t,e){return e.getScore()-t.getScore()}),this.electedSlotReport=this.processChecker(r,t.Constant.FORMAT.inread,!0)}}var c={};if(this.electedSlotReport&&this.electedSlotReport.report)this.electedSlotReport.report.status?(this.electedSlot=this.electedSlotReport.slot,c={status:!0,reasons:[]}):(this.logger.info("No slot available"),c={status:!1,reasons:this.electedSlotReport.report.reasons},this.wigoi&&this.wigoi.valid(1,1,this.electedSlotReport.report.reasons,t.Wigo.infoType.ERROR));else{this.logger.info("No slot available");c={status:!1,reasons:t.helper.HeaderBidding.hasValidContextAndProvider(n)?[t.Constant.TRACKING.noSlot.hbSelector]:[t.Constant.TRACKING.noSlot.selector]},this.wigoi&&this.wigoi.valid(1,1,t.Constant.TRACKING.noSlot.selector,t.Wigo.infoType.ERROR)}return c},o.prototype.getElectedSlot=function(){return this.electedSlot},o.prototype.initDom=function(t){var e=t.getElement(),n=this.parentContainer;return"PR"!==e.nodeName&&"BR"!==e.nodeName||(n.style.margin="10px 0"),this.placementConfig.insertInside.isEnabled()?this.placementConfig.insertBefore.isEnabled()&&e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n):this.placementConfig.insertBefore.isEnabled()&&e.parentNode?e.parentNode.insertBefore(n,e):e.parentNode&&e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.appendChild(n),n},o}(e.AbstractPlacement);e.Inread=n}(t.placement||(t.placement={}))}(o||(o={}))},function(t,e,n){n(217),n(308),n(303),n(376),n(278);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(47),n(74);var o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(n,i,o){var r=e.call(this,n,i,o,t.Constant.SLOT_TYPE.native)||this;return r.placement=n,r.config=i,r.player=o,r.hasLoggedPlayProblem=!1,r.facebookPercentInView=t.helper.Facebook.NOT_IN_VIEW,t.Context.isFacebookIA()&&r.initFacebookIA(),r.config.adType.isDisplay()&&t.HTMLHelper.addClass(r.parentContainer,"teads-display"),r}return i(n,e),n.prototype.load=function(n,i){var o=this;t.Context.isIABSafeFrame()?t.helper.SafeFrameResize.initSlot(function(){return e.prototype.load.call(o,n,i)}):e.prototype.load.call(this,n,i)},n.prototype.getTemplateName=function(){return"inread"},n.prototype.start=function(){var n=this,i=this.placement.placementConfig.scrollSelector.getSlot();t.Context.isIABSafeFrame()?t.helper.SafeFrameResize.listenGeom(function(){return n.onScroll(new Event("touchmove"))}):t.Context.isAmp()?this.unlistenAmp=this.win.context.observeIntersection(function(t){return n.onScroll(new Event("touchmove"))}):(t.Context.isDesktop()&&this.setRealVisibilityInterval(),this.eventListenerManager.add("scroll",i,function(t){return n.onScroll()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],i,function(t){return n.onScroll(t)})),this.isInView=this.getInViewState(),this.formatConfig.vast.getContent()?e.prototype.start.call(this):this.onScroll()},n.prototype.onAdLoaded=function(){var n=this;if(e.prototype.onAdLoaded.call(this),this.extensions=t.Option.of(this.player).map(function(t){return t.getPlugin("Extensions")}),this.extensions.forEach(function(t){return n.loadAdVerificationScripts(t)}),this.fullscreenHelper.addCloseEventListener(function(){n.isSmartPositionned()||n.responsive&&n.responsive.resize(!0)}),this.isVertical){var i=function(){n.responsive.unsetResponsive(),n.parentContainer.style.display="none",n.isInView=!1,n.vpaidAd.pauseAd()};this.responsive.addOrientationChangeListener(function(t){n.isFullscreen()||(n.responsive.isLandscape?i():(n.parentContainer.style.display="block",n.responsive.setResponsive(),n.onScroll(t)))}),this.fullscreenHelper.addCloseEventListener(function(){n.responsive&&n.responsive.isLandscape&&i()})}t.Context.isDesktop()||this.vpaidAd.render(this.vpaidAd.getVPAID()),!t.Context.isIABSafeFrame()&&!t.Context.isFacebookIA()||this.states.hasOpened||this.openFormat(),this.onScroll(),this.isInView=this.getInViewState()},n.prototype.onAdVideoStart=function(){e.prototype.onAdVideoStart.call(this),this.smartPositionHelper&&this.smartPositionHelper.init(),this.states.hasStarted&&this.states.hasOpened&&this.fitContainerToContent()},n.prototype.onAdSizeChange=function(){if(e.prototype.onAdSizeChange.call(this),this.states.hasOpened){var n=this.fitContainerToContent();t.Context.isAmp()&&t.helper.Amp.open(n)}},n.prototype.onAdVideoComplete=function(){e.prototype.onAdVideoComplete.call(this),this.smartPositionHelper&&this.smartPositionHelper.deinit()},n.prototype.onVpaidReady=function(){var n=this;if(e.prototype.onVpaidReady.call(this),this.fullscreenHelper=new t.helper.FullscreenHelper(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.brandingMode=new t.helper.BrandingMode(this),!this.isVertical&&(this.formatConfig.sticky.isEnabled()||this.formatConfig.smartPosition.isEnabled())){this.smartPositionHelper=new t.helper.SmartPosition(this);var i=function(){return n.vpaidAd.unsubscribe(o,t.vpaid.VPAIDEvent.AdRemainingTimeChange)},o=function(t){n.vpaidAd.getAdRemainingTime()<t&&(n.player.showCloseButton(),i())};this.formatConfig.smartPosition.isSkippableAtSpecificTime()?this.vpaidAd.subscribe(function(){return o(n.vpaidAd.getAdDuration()-7)},t.vpaid.VPAIDEvent.AdRemainingTimeChange):this.vpaidAd.subscribe(function(){var e=n.vpaidAd.getAdRemainingTime()-1;n.vpaidAd.subscribe(function(){return o(e)},t.vpaid.VPAIDEvent.AdRemainingTimeChange)},t.vpaid.VPAIDEvent.AdVideoMidpoint)}this.vpaidAd.subscribe(function(){return n.pauseAdIfShouldNotBePlaying()},t.vpaid.VPAIDEvent.AdStarted),this.vpaidAd.subscribe(function(){return n.pauseAdIfShouldNotBePlaying()},t.vpaid.VPAIDEvent.AdRemainingTimeChange),this.vpaidAd.subscribe(function(){return n.clearRealVisibilityInterval()},t.vpaid.VPAIDEvent.AdError),this.vpaidAd.subscribe(function(){return n.clearRealVisibilityInterval()},t.vpaid.VPAIDEvent.AdStopped),this.vpaidAd.subscribe(function(){return n.clearRealVisibilityInterval()},t.vpaid.VPAIDEvent.AdSkipped),this.vpaidAd.subscribe(function(){return n.clearRealVisibilityInterval()},t.vpaid.VPAIDEvent.AdVideoComplete)},n.prototype.startInView=function(){this.states.hasStarted&&(this.formatConfig.videoPause.isThreshold()||this.isVertical||this.states.hasCompleted)&&this.vpaidAd.resumeAd(),this.volumeController.startInView()},n.prototype.endInView=function(){this.formatConfig.videoPause.isThreshold()||this.states.hasCompleted?this.vpaidAd.pauseAd():this.volumeController.endInView()},n.prototype.fitContainerToContent=function(e){void 0===e&&(e=!1);var n=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay());else if(t.Context.isIos()&&!t.Option.ofNested(n,"videoSlot.mediaProxy").isEmpty()){var i=n.videoSlot.mediaProxy,o=i.getStatus();if(o!==t.video.constant.MediaProxyStatus.READY)return}if((this.states.hasOpened||e)&&!this.isFullscreen()){var r=t.Dom.getBoundingClientRect(this.placement.getInnerContainer()),a=r.height;if(t.Context.isFacebookIA()){a+=0===t.Dom.getBoundingClientRect(this.playerContainer).height?r.width/t.Constant.DEFAULT_VIDEO_SIZE_RATIO:0}return this.parentContainer.style.height=a+"px",a}},n.prototype.manageInView=function(t){t!==this.isInView&&(t?this.startInView():this.endInView()),this.isInView=t},n.prototype.openFormat=function(){var e=this;this.states.hasOpened=!0,this.formatConfig.animations.setExpandDuration(this.parentContainer);var n=this.getEnvironmentVars();if(this.vpaidApi.isStudioDisplay()||!this.formatConfig.adType.isVideo());else if(t.Context.isIos()&&!t.Option.ofNested(n,"videoSlot.mediaProxy").isEmpty()){var i=n.videoSlot.mediaProxy,o=i.getStatus();if(o===t.video.constant.MediaProxyStatus.READY)this.logger.debug("mediaProxy is ready !",n.videoSlot.src);else{if(o===t.video.constant.MediaProxyStatus.ERROR)return void this.logger.error("mediaProxy error, video is not available for the moment",n.videoSlot.src);if(!n.videoSlot.src||o<t.video.constant.MediaProxyStatus.READY)return this.logger.debug("mediaProxy not ready or video.src not setted, delay inread opening",n.videoSlot.src),void i.listen(t.video.constant.MediaProxyEvent.READY,function(){e.openFormat()},!1)}}var r=this.fitContainerToContent(!0);this.logger.debug("Format (pageId = "+this.formatConfig.pageId+", placementId = "+this.formatConfig.placementId+") has been opened"),this.responsive&&!this.isSmartPositionned()&&this.responsive.setResponsive(),t.Context.isIABSafeFrame()&&t.helper.SafeFrameResize.open(r,function(t){e.states.hasOpened=t}),t.Context.isFacebookIA()&&this.startFacebookIA()},n.prototype.trackAdCall=function(e){e&&!this.states.hasStopped&&(this.placement.placementTracker.track(t.Constant.TRACKING.adCall),this.linearAd||this.close(t.EXIT_STATUS.NoAdSuccess))},n.prototype.isUserInteraction=function(e){return!!(!t.Context.isMobile()&&!t.Context.isTablet()||this.formatConfig.allowedPlayer.getValue()===t.player.PLAYER_TYPE.CANVAS||t.Context.isWhiteListedIos10Safari(String(this.config.placementId))||t.Context.isFacebookWebviewIOS10()||t.Context.canAutoplay())||!!e&&"scroll"!==e.type},n.prototype.onScroll=function(e){if(this.wigoi&&t.WIGO_DEBUG_KEY&&this.wigoi.followPlayer(),!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.onScroll(e);var n=this.getInViewState();this.trackAdCall(n),!this.isSmartPositionned()&&this.states.isReady&&(this.states.hasOpened?this.states.isReplay&&this.responsive&&this.responsive.setResponsive():this.isUserInteraction(e)&&this.isVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&n)&&this.openFormat(),this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?this.manageInView(n):(this.viewabilityTagsHelper.onScroll(),(this.isUserInteraction(e)||this.states.isReplay)&&this.canStart(n)&&(this.vpaidAd.startAd(),t.Context.isDesktop()||this.setRealVisibilityInterval()))))}},n.prototype.canStart=function(t){return!this.formatConfig.videoStart.isThreshold()||t||this.states.isReplay},n.prototype.canPlay=function(t){return this.formatConfig.videoPause.isNo()||t},n.prototype.isFullscreen=function(){return!!this.fullscreenHelper&&this.fullscreenHelper.isActive()},n.prototype.isSmartPositionned=function(){return!!this.smartPositionHelper&&this.smartPositionHelper.isActive()},n.prototype.getViewportInViewState=function(){if(t.Context.isFacebookIA())return this.facebookPercentInView>this.formatConfig.threshold.get();var e=this.vpaidAd?this.vpaidAd.getAdHeight():1;return t.HTMLHelper.isInView(this.playerContainer,this.win,this.formatConfig.threshold.get()/100,e)},n.prototype.initFacebookIA=function(){var e=this;this.eventListenerManager.add("message",this.win,function(n){e.facebookPercentInView=t.helper.Facebook.getPercentInView(e.facebookPercentInView,n.data),e.states.isReady&&e.startFacebookIA()}),this.win.removeEventListener("message",window._teads_fbia.listener,!0);var n=t.ArrayHelper.filter(window._teads_fbia.events||[],function(e){return!!t.helper.Facebook.eventToPercent[e]});this.facebookPercentInView=parseInt(n.pop(),10)},n.prototype.startFacebookIA=function(){var t=this.getInViewState();this.states.hasOpened?this.states.isReplay&&this.responsive&&this.responsive.setResponsive():(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&t)&&this.openFormat(),this.states.hasStarted||(!this.formatConfig.videoStart.isThreshold()||t||this.formatConfig.smartPosition.isEnabled()||this.states.isReplay)&&this.vpaidAd.startAd(),this.manageInView(t)},n.prototype.setRealVisibilityInterval=function(){var e=this;this.realVisibilityInterval=t.Timer.setInterval(function(){return e.checkRealVisibility()},250)},n.prototype.checkRealVisibility=function(){if(!this.isFullscreen()&&!this.isVerticalLandscape()){this.smartPositionHelper&&this.smartPositionHelper.onScroll();var t=this.getInViewState();this.trackAdCall(t),this.states.isReady&&(this.states.hasOpened?this.states.isReplay&&this.responsive&&this.responsive.setResponsive():this.isVisible()&&(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&t)&&this.openFormat(),this.states.hasOpened&&!this.states.hasStopped&&(this.states.hasStarted?this.manageInView(t):(this.viewabilityTagsHelper.onScroll(),this.canStart(t)&&this.vpaidAd.startAd())))}},n.prototype.pauseAdIfShouldNotBePlaying=function(){if(this.states.isPlaying){var e=this.getInViewState();if(!(this.states.hasStarted?this.canPlay(e):this.canStart(e))&&(this.isInView=!1,this.vpaidAd.pauseAd(),!this.hasLoggedPlayProblem)){this.hasLoggedPlayProblem=!0;var n="0",i="0";this.linearAd&&(i=this.linearAd.id?this.linearAd.id:"0",n=this.linearAd.creativeId?this.linearAd.creativeId:"0"),t.formatSumologic.sendInfo({pid:this.placement.pid,cpid:i,crid:n})}}},n.prototype.isVerticalLandscape=function(){return this.isVertical&&this.responsive&&this.responsive.isLandscape},n.prototype.loadAdVerificationScripts=function(e){var n=this;e.getExtension(t.vast.ExtensionType.AD_VERIFICATIONS).map(function(t){return e.retrieveCreativePrefetchAdVerificationScriptUrls(t)}).forEach(function(e){n.viewabilityTagsHelper.onceThresholdReached(function(){t.ArrayHelper.forEach(e,function(t){var e=t.vendor,i=t.url,o=document.createElement("script");o.type="text/javascript",o.src=i,o.async=!0,"DoubleVerify"===e?n.playerContainer.parentElement.appendChild(o):n.playerContainer.insertBefore(o,n.playerContainer.firstChild)})})})},n}(e.AbstractFormat);e.Inread=n}(t.format||(t.format={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e){this.format=e,this.initialized=!1,this.active=!1,this.logger=new t.Logger("BrandingMode")}return e.prototype.isActive=function(){return this.active},e.prototype.isInitialized=function(){return this.initialized},e.prototype.init=function(){var e=this;if(this.logger.debug("init called"),this.initialized)return void this.logger.warn("Branding mode helper has already been initialized");this.initialized=!0,this.vpaidEnvironmentVars=this.format.getEnvironmentVars();var n=this.format.getVpaidAd();n.showComponent("fullscreenbutton");var i=this.format.states.isReplay;this.format.getFullscreenHelper().init(this.vpaidEnvironmentVars),i&&t.Context.isAndroid()&&n.subscribe(function(){e.setVolume(e.format.formatConfig.volume.getMain()),e.initialVolume=e.format.getVolumeController().getVolume(),e.onUnmute()},t.vpaid.VPAIDEvent.AdVideoStart);var o=function(){e.isFullscreenSupported()&&e.stop()};n.subscribe(o,t.vpaid.VPAIDEvent.AdClickThru,this),n.subscribe(function(){return n.unsubscribe(o,t.vpaid.VPAIDEvent.AdClickThru)},t.vpaid.VPAIDEvent.AdStopped),n.subscribe(this.toggle,t.vpaid.ui.VPAIDUIEvent.FullscreenRequest,this),n.subscribe(function(){return n.unsubscribe(e.toggle,t.vpaid.ui.VPAIDUIEvent.FullscreenRequest)},t.vpaid.VPAIDEvent.AdStopped),this.format.vpaidApi.getStudioData()||n.subscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.AdVideoComplete,this),n.subscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.EndscreenInit,this),n.subscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.AdStopped,this),this.format.getVolumeController().addUnmuteCallback(function(){return e.onUnmute()}),this.format.getVolumeController().addMuteCallback(function(){return e.onMute()})},e.prototype.deinit=function(){var e=this;this.logger.debug("deinit called"),this.initialized=!1;var n=this.format.getVpaidAd(),i=function(){e.isFullscreenSupported()&&e.stop()};n.subscribe(i,t.vpaid.VPAIDEvent.AdClickThru,this),n.subscribe(function(){return n.unsubscribe(i,t.vpaid.VPAIDEvent.AdClickThru)},t.vpaid.VPAIDEvent.AdStopped),n.unsubscribe(this.toggle,t.vpaid.ui.VPAIDUIEvent.FullscreenRequest),n.unsubscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.AdVideoComplete),n.unsubscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.EndscreenInit),n.unsubscribe(this.stop,t.vpaid.ui.VPAIDUIEvent.AdStopped),n.hideComponent("fullscreenbutton")},e.prototype.toggle=function(){if(!this.initialized)return void this.logger.warn("Cannot toggle branding mode helper before its initialization");this.active?this.stop():this.start()},e.prototype.start=function(){this.active||(this.logger.debug("start"),this.initialVolume=this.format.getVolumeController().getVolume(),this.setVolume(this.format.formatConfig.volume.getMain()),this.isFullscreenSupported()?(this.format.getFullscreenHelper().open(),this.format.getVpaidAd().showComponent("fullscreenbutton")):this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!0)},e.prototype.stop=function(){this.active&&(this.logger.debug("stop"),this.format.getVolumeController().isMuted()&&(this.initialVolume=0),this.setVolume(this.initialVolume),this.isFullscreenSupported()?this.format.getFullscreenHelper().close():this.format.getVpaidAd().showComponent("fullscreenbutton"),this.format.getVpaidAd().hideComponent("fullscreenbutton"),this.active=!1)},e.prototype.setVolume=function(t){var e=this,n=function(){return e.format.getVolumeController().setVolume(t)};this.vpaidEnvironmentVars.videoSlot&&this.vpaidEnvironmentVars.videoSlot.audio&&!this.vpaidEnvironmentVars.videoSlot.audio.authorized?this.vpaidEnvironmentVars.videoSlot.audio.authorizeAudio(n.bind(this)):n()},e.prototype.isFullscreenSupported=function(){var e=this.format.getVpaidAd(),n=this.format.getFullscreenHelper().isActive()||e.getAdWidth()>e.getAdHeight();return!t.Context.isDesktop()&&!t.Context.isAmp()&&!t.Context.isFacebookIA()&&!t.Context.isIABSafeFrame()&&n},e.prototype.onUnmute=function(){this.isFullscreenSupported()||this.start()},e.prototype.onMute=function(){this.isFullscreenSupported()||this.stop()},e}();e.BrandingMode=n}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e){t.exports=" div.teads-inread div.teads-ui-components-credits, div.teads-inboard div.teads-ui-components-credits, div.teads-expand div.teads-ui-components-credits { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; color: #aaa !important; text-align: right !important; padding: 1px 0 !important; height: 26px !important; line-height: 26px !important; padding-right: 4px !important; letter-spacing: 0.3px !important; } div.teads-inread div.teads-ui-components-credits a span, div.teads-inboard div.teads-ui-components-credits a span, div.teads-expand div.teads-ui-components-credits a span { display: inline !important; } div.teads-inread div.teads-ui-components-credits a span, div.teads-inboard div.teads-ui-components-credits a span, div.teads-expand div.teads-ui-components-credits a span, div.teads-inread div.teads-ui-components-credits a, div.teads-inboard div.teads-ui-components-credits a, div.teads-expand div.teads-ui-components-credits a { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; box-shadow: none !important; letter-spacing: 0.3px !important; } div.teads-inread.sm-screen div.teads-ui-components-credits a span, div.teads-inboard.sm-screen div.teads-ui-components-credits a span, div.teads-expand.sm-screen div.teads-ui-components-credits a span, div.teads-inread.sm-screen div.teads-ui-components-credits a, div.teads-inboard.sm-screen div.teads-ui-components-credits a, div.teads-expand.sm-screen div.teads-ui-components-credits a, div.teads-inread.xs-screen div.teads-ui-components-credits a span, div.teads-inboard.xs-screen div.teads-ui-components-credits a span, div.teads-expand.xs-screen div.teads-ui-components-credits a span, div.teads-inread.xs-screen div.teads-ui-components-credits a, div.teads-inboard.xs-screen div.teads-ui-components-credits a, div.teads-expand.xs-screen div.teads-ui-components-credits a { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 9px !important; box-shadow: none !important; letter-spacing: 0.3px !important; } div.teads-inread.sm-screen div.teads-ui-components-credits, div.teads-inboard.xs-screen div.teads-ui-components-credits { font-size: 9px !important; letter-spacing: 0.3px !important; } div.teads-inread .teads-ui-components-credits a, div.teads-inboard .teads-ui-components-credits a, div.teads-expand .teads-ui-components-credits a { color: #aaa !important; text-decoration: none !important; font-weight: 300 !important; border: none !important; letter-spacing: 0.3px !important; /* * From @jean-pierre.colomb comment on https://jira.teads.net/browse/TT-4076 * The gqjapan.jp website overrides <a> properties to add 2 orange squares * which affects the credits link */ background: none !important; padding: 0 !important; } div.teads-inread.sm-screen .teads-ui-components-credits a, div.teads-inboard.sm-screen .teads-ui-components-credits a, div.teads-expand.sm-screen .teads-ui-components-credits a, div.teads-inread.xs-screen .teads-ui-components-credits a, div.teads-inboard.xs-screen .teads-ui-components-credits a, div.teads-expand.xs-screen .teads-ui-components-credits a{ font-size: 9px !important; letter-spacing: 0.3px !important; } div.teads-inread div.teads-ui-components-credits span.teads-ui-components-credits-colored, div.teads-inboard div.teads-ui-components-credits span.teads-ui-components-credits-colored, div.teads-expand div.teads-ui-components-credits span.teads-ui-components-credits-colored { color: #79BBE9 !important; } div.teads-inread div.teads-ui-components-credits span::before, div.teads-inboard div.teads-ui-components-credits span::before, div.teads-impact div.teads-ui-components-credits span::before, div.teads-inread div.teads-ui-components-credits span::after, div.teads-inboard div.teads-ui-components-credits span::after, div.teads-impact div.teads-ui-components-credits span::after { display: none !important; } div.teads-inread div.teads-ui-components-credits a::before, div.teads-inboard div.teads-ui-components-credits a::before, div.teads-impact div.teads-ui-components-credits a::before, div.teads-inread div.teads-ui-components-credits a::after, div.teads-inboard div.teads-ui-components-credits a::after, div.teads-impact div.teads-ui-components-credits a::after { display: none !important; } "},function(t,e){t.exports=" div.teads-inread div.teads-ui-components-label, div.teads-inboard div.teads-ui-components-label, div.teads-expand div.teads-ui-components-label { font-family: 'Helvetica', Arial, sans-serif !important; font-size: 11.5px !important; color: #aaa; text-align: center !important; /*padding: 3px 0;*/ text-transform: uppercase !important; height: 21px !important; line-height: 21px !important; letter-spacing: 0.3px !important; font-weight: 300 !important; } div.teads-inread div.teads-ui-components-label::before, div.teads-inboard div.teads-ui-components-label::before, div.teads-impact div.teads-ui-components-label::before, div.teads-inread div.teads-ui-components-label::after, div.teads-inboard div.teads-ui-components-label::after, div.teads-impact div.teads-ui-components-label::after { display: none !important; } div.teads-inread.sm-screen div.teads-ui-components-label, div.teads-inread.xs-screen div.teads-ui-components-label, div.teads-inboard.sm-screen div.teads-ui-components-label, div.teads-inboard.xs-screen div.teads-ui-components-label { font-size: 10px !important; } "},function(t,e){t.exports='<div class="teads-countdown"> <div class="teads-countdown-background"></div> <div class="teads-countdown-circle" style="width:100px;height:100px"> <svg viewbox="0 0 100 100" shape-rendering="optimizeQuality"> <path class="teads-countdown-circle-background" fill="none" stroke-linecap="round" stroke-width="2" stroke="#CCC" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"> </path> <path class="teads-countdown-circle-main" fill="none" stroke-linecap="round" stroke-width="2" stroke="#fff" stroke-dasharray="250" d="M50 10 a 40 40 0 0 1 0 80 a 40 40 0 0 1 0 -80"></path> <text class="teads-countdown-number" x="50" y="53" text-anchor="middle" dy="7" font-size="20" fill="#FFFFFF">3</text> </svg> </div> <div class="teads-countdown-fsicon"> <svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"> <path fill="#FFFFFF" d="m1.09374,7.62501c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374l0,5.93753c0,0.00114 0,0.00114 0,0.00231c0,0.07712 0.01536,0.15308 0.04523,0.22438c0.02842,0.07016 0.07103,0.13279 0.12352,0.18614c0.00231,0.0029 0.00231,0.00523 0.00465,0.00754c0.00117,0.00117 0.00348,0.00117 0.00465,0.00348c0.05363,0.05218 0.1177,0.09627 0.18787,0.12466c0.07364,0.03014 0.15077,0.04523 0.22786,0.04523l5.93753,0c0.32761,0 0.59374,-0.26613 0.59374,-0.59374c0,-0.32761 -0.26613,-0.59377 -0.59374,-0.59377l-4.5042,0l11.03542,-11.03542l0,4.50418c0,0.32761 0.26613,0.59374 0.59377,0.59374c0.32761,0 0.59374,-0.26613 0.59374,-0.59374l0,-5.93753l0,0c0,-0.07712 -0.01508,-0.15425 -0.0464,-0.22672c-0.06028,-0.14495 -0.17567,-0.26151 -0.32065,-0.32065c-0.07248,-0.031 -0.14957,-0.04637 -0.22669,-0.04637l-5.93753,0c-0.32761,0 -0.59374,0.26613 -0.59374,0.59374c0,0.32761 0.26613,0.59377 0.59374,0.59377l4.50418,0l-11.03542,11.03542l0,-4.50418c0,-0.32761 -0.26616,-0.59374 -0.59377,-0.59374z"/> </svg> </div> </div> '},function(t,e,n){n(279),n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(t,e){this.className=t,this.css=e}return e.prototype.initElement=function(){this.element=document.createElement("div"),this.element.className=this.className,this.element.innerHTML=this.getInnerHtml()},e.prototype.getElement=function(){return this.element},e.prototype.getHTML=function(){var t=this.getInnerHtml();if(t)return'<div class="'+this.className+'">'+t+"</div>"},e.prototype.getCSS=function(){return t.ui.TemplateHelper.replacePlaceholders(this.css,{assetsPath:t.config.assetsUrl})},e.prototype.getInnerHtml=function(){return this.isEnabled()?this.innerHTML:""},e.prototype.hide=function(){this.element&&(this.element.style.display="none")},e.prototype.show=function(){this.element&&(this.element.style.display="block")},e}();e.AbstractComponent=n}(t.component||(t.component={}))}(i||(i={}))},function(t,e,n){var i=window.teads=window.teads||{};!function(t){!function(e){var i=function(){function e(n,i,o){if(this.element=n,this.countdown=i,this.callback=o,this.logger=new t.Logger("helper.DisplayCloseButton.countdown"),this.element.className=e.ELEMENT_CLASS,this.countdown=Number(this.countdown),this.countdown<=0||isNaN(this.countdown))return void this.onEnded();var r=t.ui.TemplateHelper.replacePlaceholders(e.TEMPLATE,{"countdown-duration":this.countdown,"countdown-id":"countdown-"+t.StringHelper.rand(10)});this.element.innerHTML=r,this.countdownTextElement=n.querySelector("."+e.TIMER_CLASS)}return e.prototype.resume=function(){this.ended||(this.paused=!1,this.initTimer())},e.prototype.pause=function(){this.ended||(this.paused=!0,this.stopTimer())},e.prototype.onEnded=function(){if(this.ended=!0,clearInterval(this.timerInterval),this.hide(),this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("countdown ended callback failed",t)}},e.prototype.initTimer=function(){var t=this,e=function(){t.paused||t.countdown--,t.countdown<=0?t.onEnded():t.updateDisplay()};this.timerInterval=setInterval(e,1e3),this.updateDisplay()},e.prototype.stopTimer=function(){clearInterval(this.timerInterval)},e.prototype.updateDisplay=function(){this.countdownTextElement&&this.countdownTextElement.setAttribute&&this.countdownTextElement.setAttribute("data-countdown",String(this.countdown))},e.prototype.hide=function(){this.element.style.display="none"},e.TEMPLATE=n(311),e.ELEMENT_CLASS="components-countdown",e.TIMER_CLASS="components-countdown-timer",e}(),o=function(){function e(e,n,o,r){var a=this;if(this.config=e,this.clickZoneContainer=n,this.callback=o,this.win=r,this.isVisible=!0,this.countdownEnded=!1,this.logger=new t.Logger("helper.DisplayCloseButton"),!this.config.disable){this.clickZone=this.win.document.createElement("div"),this.clickZone.className=t.ui.componentBaseClassName+"closebutton",this.clickZone.style.position="absolute",this.clickZone.style.top="0px",this.clickZone.style.right="0px",this.clickZone.style.padding="15px";var s=this.win.document.createElement("div");this.countdown=new i(s,this.config.countdown,function(){return a.onCountdownEnded()}),this.clickZone.appendChild(s),this.clickZoneContainer.appendChild(this.clickZone)}}return e.prototype.hide=function(){!this.config.disable&&this.isVisible&&(this.clickZone.style.display="none",this.isVisible=!1)},e.prototype.show=function(){this.config.disable||this.isVisible||(this.clickZone.style.display="block",this.isVisible=!0)},e.prototype.resumeCoutdown=function(){this.config.disable||this.countdown.resume()},e.prototype.pauseCoutdown=function(){this.config.disable||this.countdown.pause()},e.prototype.onCountdownEnded=function(){var e=this;if(!this.countdownEnded){this.countdownEnded=!0;var n=this.win.document.createElement("div");n.className=t.ui.componentBaseClassName+"closebutton icon-close",n.style.cursor="pointer",this.clickZone.appendChild(n),t.Dom.addEventListener("click",n,function(){e.onClose()})}},e.prototype.onClose=function(){if(this.callback&&"function"==typeof this.callback)try{this.callback()}catch(t){this.logger.error("onClose callback failed",t)}},e}();e.DisplayCloseButton=o}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e){},function(t,e,n){n(89),n(51),n(113),n(135),n(231),n(131),n(390),n(233),n(391),n(392),n(393),n(394),n(228),n(395),n(396),n(397),n(398),n(399),n(400),n(401),n(402),n(403),n(404),n(405),n(406),n(407),n(408),n(409),n(410);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e){e.slot||(e.slot={}),this.raw=e,this.pid=new t.option.Pid(e.pid),this.formatName=new t.option.Format(e.format),this.btf=new t.option.Btf(e.slot.btf),this.css=new t.option.Css(e.css),this.filter=new t.option.Filter(e.slot.filter),this.insertBefore=new t.option.InsertBefore(e.slot.insertBefore),this.insertInside=new t.option.InsertInside(e.slot.insertInside),this.minimum=new t.option.Minimum(e.slot.minimum),this.minimumBelow=new t.option.MinimumBelow(e.slot.minimumBelow),this.capping=new t.option.Capping(e.capping,e.pid),this.parentWindow=new t.option.ParentWindow(e.parentWindow),this.fallback=new t.option.Fallback(e.fallback),this.rpmFallback=new t.option.RpmFallback(e.rpmFallback),this.videoFilter=new t.option.VideoFilter(e.slot.videoFilter),this.imageFilter=new t.option.ImageFilter(e.slot.imageFilter),this.minimumTextLength=new t.option.MinimumTextLength(e.slot.minimumTextLength),this.minimumWidth=new t.option.MinimumWidth(e.slot.minimumWidth),this.maximumWidth=new t.option.MaximumWidth(e.slot.maximumWidth),this.belowSelector=new t.option.BelowSelector(e.slot.belowSelector,this.parentWindow.getWindow()),this.selector=new t.option.Selector(e.slot.selector,this.parentWindow.getWindow()),this.auto=new t.option.Auto(e.slot.auto,this.selector),this.avoid=new t.option.Avoid(e.slot.avoid,this.parentWindow.getWindow()),this.scrollSelector=new t.option.ScrollSelector(e.slot.scrollSelector,this.parentWindow.getWindow()),this.callbacks=e.callbacks,this.mobile=new t.option.Mobile(e.mobile),this.tablet=new t.option.Tablet(e.tablet),this.desktop=new t.option.Desktop(e.desktop)}return e.prototype.isMobile=function(){return this.mobile.isEnabled()},e.prototype.isTablet=function(){return this.tablet.isEnabled()},e.prototype.isDesktop=function(){return this.desktop.isEnabled()},e}();t.PlacementConfig=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n;!function(t){t[t.Clean=0]="Clean",t[t.Close=1]="Close",t[t.Open=2]="Open"}(n=e.AMP_ACTION||(e.AMP_ACTION={}));var i=function(){function e(){}return e.init=function(){t.Context.isAmp()&&e.getChangesRect()&&!e.isInitialized()&&(e.rootBounds=e.getChangesRect().rootBounds,e.width=t.Context.isDesktop()?window.innerWidth:Math.min(Math.min(e.rootBounds.width,e.rootBounds.height),window.innerWidth),e.width!==window.innerWidth&&(e.width-=2*window.context.initialIntersection.boundingClientRect.left),e.initialized||(e.bindEvents(),e.getChangesRect().boundingClientRect.height>10&&(e.close(),t.formatSumologic.sendError("AMP tag malformed "+window.context.location.href)),e.initialized=!0),e.status!==n.Open&&e.action!==n.Open||e.open())},e.isInitialized=function(){return!!e.rootBounds&&(e.initialized&&window._teads_amp.change.rootBounds.width===e.rootBounds.width)},e.clean=function(t,i){void 0===t&&(t=function(){}),void 0===i&&(i=!1),e.action=n.Clean,e.initialized&&e.recursive(0,t,e.action,i)},e.close=function(t,i){void 0===t&&(t=function(){}),void 0===i&&(i=!1),e.action=n.Close,e.initialized&&e.recursive(1,t,e.action,i)},e.open=function(t,i,o){void 0===t&&(t=null),void 0===i&&(i=function(){}),void 0===o&&(o=!1),e.action=n.Open,e.initialized&&e.recursive(t||e.getHeight(),i,e.action,o)},e.getHeight=function(){return Math.ceil(e.width/e.ratio)},e.isOpen=function(){return e.status===n.Open},e.setCreativeInformation=function(t){var n="teads-";t?(n+=t.id?t.id:"0",n+="-",n+=t.creativeId?t.creativeId:"0"):n+="0",e.creativeId=n},e.noContentAvailable=function(){window.context&&t.Utils.isFunction(window.context.noContentAvailable)&&!e.hasCalled.noContentAvailable&&(e.hasCalled.noContentAvailable=!0,e.logger.debug("noContentAvailable"),window.context.noContentAvailable())},e.renderStart=function(){if(window.context&&t.Utils.isFunction(window.context.renderStart)&&!e.hasCalled.renderStart){e.hasCalled.renderStart=!0;var n={height:e.getHeight(),width:e.width};e.logger.debug("renderStart",n),window.context.renderStart(n)}},e.reportRenderedEntityIdentifier=function(){if(e.creativeId&&window.context&&t.Utils.isFunction(window.context.reportRenderedEntityIdentifier)&&!e.hasCalled.reportRenderedEntityIdentifier){e.hasCalled.reportRenderedEntityIdentifier=!0;var n="teads-"+e.creativeId;e.logger.debug("reportRenderedEntityIdentifier",n),window.context.reportRenderedEntityIdentifier(n)}},e.getChangesRect=function(){return window._teads_amp.change&&window.context.initialIntersection?(window._teads_amp.change||(window._teads_amp.change=window.context.initialIntersection),window._teads_amp.change):null},e.bindEvents=function(){window.context.onResizeDenied(function(t,n){return e.checkResize(t,n,!1)}),window.context.onResizeSuccess(function(t,n){return e.checkResize(t,n,!0)})},e.recursive=function(t,n,i,o){e.resize(t,function(r){var a="function"==typeof o?o():o;r||a?(e.action=null,e.status=r?i:null,n(r),e.isOpen()&&e.reportRenderedEntityIdentifier()):e.action===i&&setTimeout(function(){return e.recursive(t,n,i,a)},100)})},e.resize=function(n,i){t.Context.isAmp()&&window.context.requestResize&&e.initialized&&(e.resizeRequests.push({width:e.width,height:n,done:!1,callback:i}),window.context.requestResize(e.width,n),e.logger.warn("amp request resize",e.width,n))},e.checkResize=function(n,i,o){t.ArrayHelper.forEach(e.resizeRequests,function(t){n!==t.height||i!==t.width||t.done||(t.done=!0,t.callback(o))}),o?e.logger.warn("amp request resize success",i,n):e.logger.error("amp request resize denied",i,n)},e.ratio=4/3,e.resizeRequests=[],e.logger=new t.Logger("helper.Amp"),e.hasCalled={noContentAvailable:!1,renderStart:!1,reportRenderedEntityIdentifier:!1},e}();e.Amp=i}(t.helper||(t.helper={}))}(n||(n={}))},function(module,exports,__webpack_require__){__webpack_require__(7);var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),teads=window.teads=window.teads||{};!function(teads){var option;!function(option){var AbstractSelector=function(_super){function AbstractSelector(t){var e=_super.call(this,t)||this;return e.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},e}return __extends(AbstractSelector,_super),AbstractSelector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return teads.ArrayHelper.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,""+currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},AbstractSelector}(option.AbstractOption);option.AbstractSelector=AbstractSelector}(option=teads.option||(teads.option={}))}(teads||(teads={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.reorderWigoButtons=function(){var e=[];for(var n in t.instances)t.ArrayHelper.forEach(t.instances[n],function(t){t.playerContainer&&t.getWigoi()&&e.push(t)});e.sort(function(e,n){return t.Dom.getBoundingClientRect(e.playerContainer).top-t.Dom.getBoundingClientRect(n.playerContainer).top});for(var i=[],o=0,r=e;o<r.length;o++){var a=r[o],s=a.getWigoi();s&&!t.ArrayHelper.includes(i,s)&&i.push(s)}var c=Object.keys(t.TAG)[0];if(c&&void 0!==c)for(var d in t.TAG[c])t.Utils.isArray(t.TAG[c][d])&&t.ArrayHelper.forEach(t.TAG[c][d],function(e){var n=e.getWigoi();n&&!t.ArrayHelper.includes(i,n)&&i.push(n)});var l=1;for(t.Wigo.setTotalInstances(i.length);i.length;)i.pop().moveButton(l),l+=1},e}();e.WigoHelper=n}(t.helper||(t.helper={}))}(n||(n={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(t,e,n){n(45),n(0),n(40),n(36),n(3),n(87),n(34),n(18),n(115),n(35),n(71),n(116),n(17),n(10),n(39),n(4),n(26),n(38),n(185),n(239),n(5),n(13),n(32),n(19),n(28),n(37),n(134),n(1),n(130),n(25),n(12),n(98),n(6),n(132),n(103),n(301),n(122),n(97),n(24),n(86),n(112),n(110),n(183),n(369),n(370),t.exports=n(371)},function(t,e){},function(t,e){},function(t,e,n){n(235),n(372),n(89),n(420),n(208),n(102),n(316),n(237),n(119);var i=window.teads=window.teads||{};!function(t){function e(e,n,i){if(e){var o=t.Option.ofNested(window.teads,"router.routerSumologic.getSessionId").map(function(t){return t()});n.init(t.Sumologic.CONFIGS.FORMAT,o,"2.18.66"),n.sendMetadata({vFormat:"2.18.66",vShared:"2.18.66",vPlayer:"2.18.66",device:t.Context.getDevice().toString(),os:t.Context.getOS().toString(),browser:t.Context.getBrowser().toString(),sf:t.Context.isIABSafeFrame(),amp:t.Context.isAmp(),fb:t.Context.isFacebookIA()})}else i.debug("Could not initialize Sumologic (config.isSumologicLogsEnabled = false)")}function n(){t.Context.isAmp()&&(window.context.observeIntersection(function(e){window._teads_amp.change=e.pop(),t.helper.Amp.init()}),t.helper.Amp.init()),t.Context.isFacebookIA()&&(window.document.body.style.backgroundColor="#fff")}t.PAGE_PROCESSED=0,t.instances={},t.currentPlayerId=0,t.page=t.TagManager.page,t.ad=t.TagManager.ad,function(){t.Option.of(window.teads.PAGE_PROCESSED).forEach(function(e){return t.PAGE_PROCESSED=e}),t.Option.of(window.teads.instances).forEach(function(e){return t.instances=e}),t.Option.of(window.teads.currentPlayerId).forEach(function(e){return t.currentPlayerId=e}),t.Timing.mark("markFormatInit");var i=new t.Logger("Main");i.info("Init - Format initialization success"),e(t.config.isSumologicLogsEnabled,t.formatSumologic,i),n(),t.pageInstance=new t.Page}(),function(){t.Dom.onDomReady(function(){return t.pageInstance.process()})}()}(i||(i={}))},function(t,e,n){n(373),n(302),n(303),n(304),n(374),n(375),n(305),n(118),n(113),n(178),n(180),n(119),n(306),n(419),n(278),n(315),n(89),n(276),n(102);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(){this.logger=new t.Logger("Page"),this.hasSlider=!1}return e.trackBrokenScrollerEnv=function(e,n){var i=n.placementConfig.parentWindow.getWindow()||window,o=n.getParentContainer();if(o&&t.Utils.isFunction(i.getComputedStyle)){var r=e&&e.getLinearAd()?"1":"0",a=function(t){return[t["-webkit-transform"],t["-moz-transform"],t["-o-transform"],t["-ms-transform"],t.transform]},s=function(t){return i.getComputedStyle(t)},c=t.ArrayHelper.some(function(e){return t.ArrayHelper.map(t.ArrayHelper.map(e,s),a)}(t.HTMLHelper.findParentElements(o)),function(e){return t.ArrayHelper.includes(e,"matrix(1, 0, 0, 1, 0, 0)")})?"1":"0",d=i.location.hostname;t.formatSumologic.sendInfo("broken-scroller-env "+r+"|"+c+"|"+d,.1)}},e.trackSlotAvailable=function(e,n){e.placement.placementTracker.track(n?t.Constant.TRACKING.hbSlotAvailable:t.Constant.TRACKING.slotAvailable)},e.getPlayerSize=function(e,n){var i={width:0,height:0};if(e){if(n.insertInside.isEnabled())i.width=e.getWidth();else if(e.getElement().parentNode){var o=t.Dom.getSize(e.getElement().parentNode);i.width=o.width}i.height=i.width/t.Constant.DEFAULT_VIDEO_SIZE_RATIO}else{var r=t.Dom.getWindowSize(n.parentWindow.getWindow());i.height=r.height*t.helper.SmartPosition.MAX_SIZE_RATIO_CORNER,i.width=i.height*t.Constant.DEFAULT_VIDEO_SIZE_RATIO}return i.width=Math.round(i.width),i.height=Math.round(i.height),i},e.prototype.process=function(n){var i=this;void 0===n&&(n=window._ttp||{});for(var o in n)if(n.hasOwnProperty(o)){var r=parseInt(o,10);if(t.PAGE_PROCESSED!==r&&0!==t.PAGE_PROCESSED&&0!==r){var a=n[r].map(function(t){return t.pid});throw t.formatSumologic.sendError({message:"multi pageId|"+r+"|"+a.join(";")}),new t.FormatException(t.FormatException.MULTIPLE_PAGE_PROCESS)}this.onDomComplete(r),t.ArrayHelper.forEach(n[o],function(n){var o=i.initTracker(r,n.pid||null);o&&(i.placementAd=i.checkPlacement(n,r,o),i.placementAd&&(i.placementAd=i.checkSlot(i.placementAd,r),i.placementAd&&i.callRAS(i.placementAd,r,function(n){i.loadAd(n,function(r,a,s){r=r||n.placement.handleNoAd(),i.vastPlayer=a,r&&(n.placement.initDom(n.placement.electedSlot),e.trackBrokenScrollerEnv(a,n.placement),n.placement.initFormatInstance(a,r,s),n.placement.getFormat().load(function(){i.vastPlayer&&o.track(t.Constant.TRACKING.adAvailable.success),n.placement.getFormat().start()},function(e){o.track(t.Constant.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,String(e.getId()))),n.placement.handleNoAd()}))})})))}),t.formatSumologic.sendInfo({pageId:r,placementIds:t.ArrayHelper.map(n[o],function(t){return t.pid}),tag:window._ttf?"2":"3"}),t.PAGE_PROCESSED=t.PAGE_PROCESSED||r}},e.prototype.initTracker=function(e,n,i){void 0===i&&(i=t.None);var o;try{o=new t.PlacementTracker(e,n,t.formatSumologic,i)}catch(o){t.formatSumologic.sendError({pageId:e,pid:n||null,headerBiddingProvider:i.getOrElse(function(){return null}),error:t.Utils.isFunction(o.getMessage)?o.getMessage():o.message||o})}return o},e.prototype.checkPlacement=function(e,n,i,o){void 0===o&&(o=t.None);var r,a,s=t.helper.HeaderBidding.hasValidContextAndProvider(o);if(e.launched)return void this.logger.warn("This format has already been launched");e.launched=!0,s||i.track(t.Constant.TRACKING.placementCall);try{var c,d=new t.PlacementConfig(e),l=e.slider?{slider:e.slider}:t.PlacementSetting.getPlacementSetting(d.pid);l&&(c=new t.PlacementSetting(l))}catch(o){return this.logger.error(o.getMessage()),o.getId()===t.FormatException.OPTION_FORMAT_INVALID.id&&i.track(t.Constant.TRACKING.incompatibility.format),void t.formatSumologic.sendError({pageId:n,pid:e.pid||null,error:o.getMessage()})}switch(d.formatName.get()){case t.Constant.FORMAT.inread:a=new t.placement.Inread(n,d,c,i);break;case t.Constant.FORMAT.inboard:a=new t.placement.Inboard(n,d,c,i)}if(window._ttc&&window._ttc[n]&&window._ttc[n].rpm)return void a.placementConfig.rpmFallback.trigger();if(r={status:!0,reasons:[]},a.placementConfig.capping.reached())r.status=!1,a.placementTracker.track(t.Constant.TRACKING.placementCapping);else{var p=t.helper.Compatibility.checkEnvironment(a.placementConfig);if(this.logger.debug("Check environment",p),!p.status&&(r.status=!1,!t.Context.isAmp()||t.Context.isAmp()&&d.formatName.get()===t.Constant.FORMAT.inread)){var u=p.reasons[0];u&&a.placementTracker.track(u),a.placementConfig.fallback.trigger()&&a.placementTracker.track(t.Constant.TRACKING.fallback.integration)}}var h={id:a.pid,validity:r,player:null,slotType:a.placementTracker.slotType};return t.helper.HeaderBidding.isUserSyncAllowed(o)&&this.userSync(a,n),{placement:a,report:h,ad:null}},e.prototype.checkSlot=function(n,i,o){if(void 0===o&&(o=t.None),n.report.validity.status){n.report.validity=n.placement.checkSlot(o),this.logger.debug("Slot availability",n.report.validity);var r=n.placement.getElectedSlot();n.report.player=e.getPlayerSize(r,n.placement.placementConfig)}return n.report.validity.status||!n.report.validity.reasons.length?(e.trackSlotAvailable(n,t.helper.HeaderBidding.hasValidContextAndProvider(o)),n):(n.placement.placementTracker.track(n.report.validity.reasons[0]),n.placement.canEnableSlider()&&!this.hasSlider?(this.hasSlider=!0,n.report.validity.reasons=[],n.report.validity.status=!0,n.placement.enableSlider(),n.report.slotType=n.placement.placementTracker.slotType,n):void 0)},e.prototype.callRAS=function(e,n,i){new t.helper.RASRequest(e,n,this.getAdRequestUrl(n),i).send()},e.prototype.loadAd=function(e,n){var i=this;if(e.placement){if(!e.ad)return void(e.report.validity.status&&n(null,null));if(e.placement.getElectedSlot()&&t.helper.CSSHelper.injectFormatCSS(e.placement.getElectedSlot().getElement()),e.ad.handled)return void this.logger.debug("Ad already handled for this placement");if(e.ad.handled=!0,e.ad.callbacks=e.placement.placementConfig.raw.callbacks,!e.placement.getElectedSlot())return void this.logger.debug("No elected slot -> not placing format");var o=e.placement.getFormatConfig(e.ad);o?e.placement.loadVast(o,function(t,e){t?n(o,t,e):(i.logger.debug("VAST loading failed, couldn't get VAST player instance"),n(null,null))}):(this.logger.debug("Could not load config for format"),n(null,null))}},e.prototype.clearInstances=function(){for(var e in t.Constant.FORMAT)if(t.Constant.FORMAT.hasOwnProperty(e)&&t.instances[e]&&t.instances[e].length)for(;t.instances&&t.instances[e]&&t.instances[e].length;)t.instances[e].pop().exit(t.EXIT_STATUS.AdSuccess)},e.prototype.reload=function(){this.clearInstances();for(var e in window._ttp)if(window._ttp.hasOwnProperty(e))for(var n=0,i=window._ttp[e].length;n<i;n++)window._ttp[e][n].launched=!1;t.instances={},this.process()},e.prototype.userSync=function(e,n){var i=this;if(e&&e.pid&&!this.isUserSyncIframeLoaded){var o=t.helper.UserSync.insert(e.pid);t.Dom.addEventListener("load",o,function(e){t.Timing.mark("markUserSyncResponse"),i.isUserSyncIframeLoaded=!0,i.processTiming(n)})}},e.prototype.onDomComplete=function(e){var n=this;try{t.Dom.onDomComplete(function(){n.isDomComplete=!0,n.processTiming(e)},t.HTMLHelper.findParentWindows(window.document.body).pop(),this)}catch(t){this.logger.warn("Can not access top window for performance",t)}},e.prototype.getAdRequestUrl=function(e){var n=t.config.richAdServerUrl.replace("{id}",String(e)),i=this.getTrackingMetadata(),o=[];for(var r in i)i.hasOwnProperty(r)&&o.push(r+"="+i[r]);return(n+=n.indexOf("?")>0?"&":"?")+o.join("&")},e.prototype.getTrackingMetadata=function(){var e=null;try{var n=t.HTMLHelper.findParentWindows(window.document.body),i="",o=void 0;window.top!==window&&(t.Context.isAmp()&&window.context.sourceUrl?(i=window.context.sourceUrl,o=window.context.canonicalUrl):document.referrer&&(i=document.referrer)),i.match("ampproject.org")&&(o&&!o.match("amproject.org")?i=o:t.formatSumologic.sendInfo("ampref nok "+i)),e={windowWidth:window.innerWidth,windowHeight:window.innerHeight,windowDepth:n.length,windowReferrerUrl:encodeURIComponent(i)}}catch(t){this.logger.warn("An error occurred retrieving top window - Window metadata will be empty on the ad request")}return e},e.prototype.processTiming=function(e){if(this.isDomComplete&&this.isUserSyncIframeLoaded)try{var n=t.Timing.measure("measureSmartSlot","markFormatSmartSlotStart","markFormatSmartSlotEnd"),i=t.Timing.measure("measureUserSyncRequest","markUserSyncRequest","markUserSyncResponse"),o=t.Timing.getLastEntryByName("markFormatInit"),r=t.Timing.getTimingByRegex(/teads-format(.min)?\.js/),a={pageId:e,smartSlotDuration:n?Math.round(n.duration):null,markFormatInit:o?Math.round(o.startTime):null,entryCount:t.Timing.getResourceCount(),domLoading:null,domInteractive:null,domComplete:null,teadsFormatStart:r?Math.round(r.startTime):null,teadsFormatDuration:r?Math.round(r.duration):null,userSyncRequestDuration:i?Math.round(i.duration):null};if(t.Timing.performance&&t.Timing.performance.timing){var s=t.Timing.performance.timing;a.domLoading=Math.round(s.domLoading-s.fetchStart),a.domInteractive=Math.round(s.domInteractive-s.fetchStart),a.domComplete=Math.round(s.domComplete-s.fetchStart)}this.logger.debug("Sending timing data"),t.formatSumologic.sendInfo(a)}catch(t){this.logger.debug("Error on timing data process")}},e}();t.Page=e}(i||(i={}))},function(t,e,n){n(51),n(113),n(180);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.extendAd=function(t,e){var n={settings:{}};return!e.type||!e.content?(n.type=t.type,n.content=t.content):(n.type=e.type,n.content=e.content),n.settings=t.settings,n.insertion_id=t.insertion_id,n.connection_id=t.connection_id,n},e.checkEnvironment=function(e){var n={status:!0,reasons:[]},i=e.parentWindow.getWindow();t.Context.videoSupport(i.document)||t.FlashHelper.hasFlashVersion(10)||(n.status=!1,n.reasons.push(t.Constant.TRACKING.incompatibility.video));var o=t.Context.isMobile()&&e.isMobile(),r=t.Context.isTablet()&&e.isTablet(),a=t.Context.isDesktop()&&e.isDesktop();return o||r||a||(n.status=!1,n.reasons.push(t.Constant.TRACKING.incompatibility.context)),t.Semver.isLowerOrEqual(t.Context.getIEVersion(),"8")&&(n.status=!1,n.reasons.push(t.Constant.TRACKING.incompatibility.browser)),n},e}();e.Compatibility=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(){}return n.insert=function(i){var o,r=this;if(!this.iframe){try{o=t.HTMLHelper.findParentWindows(window.document.body).pop()}catch(t){this.logger.warn("Cannot get top window"),o=window}!function(o){r.iframe=t.HTMLHelper.createIframe(),r.iframe.id=n.id,r.iframe.src=t.config.userSyncUrl+"?pid="+i+"&userId="+e.UserId.get()+"&"+t.date.now(),r.iframe.style.display="none",t.Timing.mark("markUserSyncRequest"),o.document.body.appendChild(r.iframe)}(o)}return this.iframe},n.logger=new t.Logger("helper.UserSync"),n.id="teadsusersync",n}();e.UserSync=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(180),n(304),n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(n,i,o,r){var a=this;this.placementAd=n,this.pageId=i,this.done=r,this.logger=new t.Logger("helper.RASRequest"),this.timeoutFired=!1,this.isRequestSent=!1,this.rasRequest={id:Number(this.pageId),placements:[this.placementAd.report]},!n.ad&&t.config.isRichAdServerRequestEnabled&&(this.rasUrl=o+"&page="+encodeURIComponent(t.JSON.stringify(this.rasRequest))+"&userId="+e.UserId.get()+"&formatVersion="+encodeURIComponent("2.18.66")+"&env="+t.Context.getEnv(),this.request=t.Request.createXmlHttpRequest(),this.request.open("GET",this.rasUrl,!0),this.request.withCredentials=!0,this.request.timeout=t.config.richAdServerRequestTimeout,this.request.setRequestHeader&&this.request.setRequestHeader("Accept","application/json; charset=UTF-8"),this.request.onload=function(){a.onload()},this.request.onerror=function(t){void 0===t&&(t={}),a.onerror(t)},this.request.ontimeout=function(){t.formatSumologic.sendWarning({message:"RAS request: timeout"}),a.ontimeout()},this.timeoutLatencyRAS=setTimeout(function(){t.formatSumologic.sendWarning({message:"RAS request: custom timeout"}),a.ontimeout()},t.config.richAdServerRequestTimeout+10))}return n.getAdPlacementId=function(e){return e&&e.settings&&e.settings.values&&t.Utils.isNumber(e.settings.values.placementId)?e.settings.values.placementId:null},n.prototype.send=function(){var e=this;if(this.placementAd.ad)this.next();else if(t.config.isRichAdServerRequestEnabled)this.adRequestStart=t.date.now(),this.request.send(),this.isRequestSent=!0;else{var i;t.ArrayHelper.forEach(window._tta[this.pageId],function(t){(i=n.getAdPlacementId(t))&&(e.placementAd.placement.pid===i?e.placementAd.ad=t:e.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: "+i+")",e.placementAd.placement,t))}),this.next()}},n.prototype.next=function(){this.done&&this.done(this.placementAd)},n.prototype.ontimeout=function(){this.timeoutFired||(this.timeoutFired=!0,clearTimeout(this.timeoutLatencyRAS),this.logger.warn("RAS request: timeout"),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(t.Constant.TRACKING.adNotAvailable.networkError),this.next())},n.prototype.onload=function(){var i=this;this.logger.info("Successful request",this.rasUrl),this.processTiming(),clearTimeout(this.timeoutLatencyRAS);var o;try{o=t.Semver.isLowerOrEqual(t.Context.getIEVersion(),"9")?this.request.responseText:this.request.response,t.Utils.isString(o)&&(o=t.JSON.parse(o)),this.logger.info("RAS response",o),Array.isArray(o.ads)||(t.formatSumologic.sendError({message:"RAS request: response.ads is not an array"}),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(t.Constant.TRACKING.adAvailable.error.badResponse),o.ads=[]),o.ads.length>1&&(this.logger.warn("Received more than one ad, WTF?"),o.ads=[o.ads[0]]);var r=0===o.ads.length,a=void 0;if(r?this.placementAd.placement&&this.placementAd.report.validity.status&&(o.noAdReason?this.placementAd.placement.placementTracker.handleFraud(o.noAdReason):this.placementAd.placement.placementTracker.handleEmptyAdsArray()):(a=n.getAdPlacementId(o.ads[0]),a&&this.placementAd.placement.pid===a?this.placementAd.ad?this.logger.debug("The ad for the PID "+a+" has already been loaded",o.ads[0]):this.placementAd.ad=o.ads[0]:this.logger.warn("This placement doesn't exist in the tag",this.placementAd.placement,o.ads[0])),window._tta&&window._tta[this.pageId]){var s;t.ArrayHelper.forEach(window._tta[this.pageId],function(t){s=n.getAdPlacementId(t),i.placementAd.placement.pid===s?i.placementAd.ad?i.placementAd.ad=e.Compatibility.extendAd(i.placementAd.ad,t):i.placementAd.ad=t:i.logger.warn("Trying to process _tta object but could not find the related _ttp object (PID: "+s+")",i.placementAd.placement,t)})}}catch(e){var c=e.message?e.message:t.JSON.stringify(e);return t.formatSumologic.sendError({pageId:this.pageId,message:"RAS request: response is not valid|"+c.substr(0,120)}),this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(t.Constant.TRACKING.adAvailable.error.badResponse),void this.logger.error("Response is not valid:",e.message,o)}this.next()},n.prototype.onerror=function(e){clearTimeout(this.timeoutLatencyRAS);var n=e.message?e.message:t.JSON.stringify(e);t.formatSumologic.sendError({pageId:this.pageId,message:"RAS request: request error|"+n.substr(0,120)}),this.logger.error("Request error - Status:",e.target.status);var i=this.request.status||0,o=0===i?t.Constant.TRACKING.adNotAvailable.networkError:t.Constant.TRACKING.adNotAvailable.serverError;this.placementAd.placement&&this.placementAd.report.validity.status&&this.placementAd.placement.placementTracker.track(o),this.next()},n.prototype.processTiming=function(){var e=t.date.now()-this.adRequestStart;t.formatSumologic.sendInfo({pageId:this.pageId,pid:this.placementAd.placement.pid,reqDuration:e})},n}();e.RASRequest=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(89);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.getPercentInView=function(t,n){var i=e.percentToEvent[t],o=e.eventToPercent[n];return e.isFlowValid(i,n)&&o||(o=t),o},e.isFlowValid=function(n,i){var o=!1;switch(n){case t.Constant.FACEBOOK_IA.exitsViewport:o=i===t.Constant.FACEBOOK_IA.entersViewport;break;case t.Constant.FACEBOOK_IA.entersViewport:o=i===t.Constant.FACEBOOK_IA.centerEntersViewport||i===t.Constant.FACEBOOK_IA.exitsViewport;break;case t.Constant.FACEBOOK_IA.centerEntersViewport:o=i===t.Constant.FACEBOOK_IA.centerExitsViewport;break;case t.Constant.FACEBOOK_IA.centerExitsViewport:o=i===t.Constant.FACEBOOK_IA.exitsViewport||i===t.Constant.FACEBOOK_IA.centerEntersViewport;break;case void 0:o=!0}return e.logger.debug(n+" -> "+i+" = "+o),o},e.logger=new t.Logger("helper.Facebook"),e.NOT_IN_VIEW=-1,e.eventToPercent=(i={},i[t.Constant.FACEBOOK_IA.exitsViewport]=e.NOT_IN_VIEW,i[t.Constant.FACEBOOK_IA.entersViewport]=1,i[t.Constant.FACEBOOK_IA.centerExitsViewport]=49,i[t.Constant.FACEBOOK_IA.centerEntersViewport]=51,i),e.percentToEvent=(o={},o[e.NOT_IN_VIEW]=t.Constant.FACEBOOK_IA.exitsViewport,o[1]=t.Constant.FACEBOOK_IA.entersViewport,o[49]=t.Constant.FACEBOOK_IA.centerExitsViewport,o[51]=t.Constant.FACEBOOK_IA.centerEntersViewport,o),e}();e.Facebook=n;var i,o}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(120),n(279),n(312);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(n){var i=e.call(this,"teads-ui-components-label",t.Template.LABELCSS)||this;return i.label=n,i.innerHTML=i.label.getText(),i.initElement(),i}return i(n,e),n.prototype.isEnabled=function(){return this.label.isEnabled()},n}(e.AbstractComponent);e.Label=n}(t.component||(t.component={}))}(o||(o={}))},function(t,e,n){t.exports="/** This will include vpaid-ui assets */ "+n(310)+" "+n(309)+" .teads-expand { position: relative; } .teads-expand-closebutton { padding: 5px; text-align:center; color:white; cursor:pointer; position:absolute; z-index: 2147483646; top:5px; right:5px; width: 15px; height: 15px; padding: 0px; } .teads-expand-iframe { width: 100%; height: 100%; } .teads-expand-iframe iframe { border: 0px; width: 100%; height: 100%; background: #FFFFFF url({{assetsPath}}/default/img/loading.gif) no-repeat center center } .teads-expand-overlay { position: fixed; opacity: 0; background: #000000; border: 0; top: 0; left: 0; z-index: 2147483646; overflow: hidden; width: 100%; height: 100%; transition-property: opacity; -webkit-transition-property: opacity; -moz-transition-property: opacity; -o-transition-property: opacity; -ms-transition-property: opacity; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } .teads-expand-overlay.opened { opacity: 0.6 } .teads-expand-container.opened { opacity: 1 } .teads-expand-container { opacity: 0; position: fixed; background: #FFFFFF; border: 0; left: 0px; top: 0px; z-index: 2147483647; transition-property: opacity width height left top; -webkit-transition-property: opacity width height left top; -moz-transition-property: opacity width height left top; -o-transition-property: opacity width height left top; -ms-transition-property: opacity width height left top; transition-duration: {{transitionDuration}}ms; -webkit-transition-duration: {{transitionDuration}}ms; -moz-transition-duration: {{transitionDuration}}ms; -o-transition-duration: {{transitionDuration}}ms; -ms-transition-duration: {{transitionDuration}}ms; } body.noscroll { overflow:hidden; } "},function(t,e){t.exports='<div class="teads-expand"> <div class="teads-expand-label"></div> <div class="teads-expand-iframe"> <iframe src="{{iframeurl}}"></iframe> </div> <div class="teads-expand-closebutton"> <svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 15 15" style="enable-background:new 0 0 15 15;" xml:space="preserve"> <g> <path style="fill:#000000;" d="M8.883,7.5l5.83-5.83c0.382-0.382,0.382-1.001,0-1.383c-0.382-0.382-1.002-0.382-1.383,0L7.5,6.117 l-5.83-5.83c-0.382-0.382-1.002-0.382-1.383,0c-0.382,0.382-0.382,1.001,0,1.383l5.83,5.83l-5.83,5.83 c-0.382,0.382-0.382,1.001,0,1.383C0.478,14.904,0.728,15,0.978,15c0.25,0,0.501-0.096,0.692-0.287l5.83-5.83l5.83,5.83 C13.521,14.904,13.771,15,14.022,15c0.25,0,0.501-0.096,0.692-0.287c0.382-0.382,0.382-1.001,0-1.383L8.883,7.5z"/> </g> </svg> </div> </div> '},function(t,e){t.exports='div.teads-display-absolute { position: absolute !important; overflow: hidden !important; z-index: 99 !important; pointer-events: none !important; background-repeat: repeat-y; background-attachment: fixed; } .teads-display-fixed { position: fixed !important; background-repeat: repeat-y !important; } .teads-display-clickzone { display: block !important; position: absolute !important; top: 0px !important; width: 100% !important; height: 100% !important; } /****************************************************************************** * Start closebutton and countdownclosebutton styles *****************************************************************************/ div.teads-display-format .icon-close { width: 11px !important; height: 11px !important; background-position: -80px 0 !important; background-size: 650px 40px !important; background-image: url("{{assetsPath}}/default/player-sprite.svg") !important; } div.teads-display-format .xs-screen .icon-close, div.teads-display-format .sm-screen .icon-close { width: 11px !important; height: 11px !important; background-position: -80px 0 !important; } /** disable SVG animation on closebutton countdown */ div.teads-display-format .teads-ui-component-closebutton svg { display: none !important; } div.teads-ui-component-closebutton .components-countdown { display: none !important; position: absolute !important; left: 2px !important; bottom: 20px !important; } /** White countdown */ div.teads-display-format .teads-ui-component-closebutton .components-countdown .countdown-circle>li { color: #FFFFFF !important; } div.teads-display-format .teads-ui-component-closebutton .components-countdown .show { display: block !important; } div.teads-display-format .teads-ui-component-closebutton .show { display: block !important; } div.teads-display-format .teads-ui-component-closebutton .show .close-button { opacity: .8 !important; } div.teads-display-format .teads-ui-component-closebutton .show:hover .close-button.show { opacity: 1 !important; } div.teads-display-format .sm-screen .teads-ui-component-closebutton .closebutton, div.teads-display-format .xs-screen .teads-ui-component-closebutton .closebutton { padding: 10px 10px 15px 15px !important; } '},function(t,e){t.exports="/** * Use default CSS defined in countdow.html */ .teads-countdown { width: 100%; height: 100%; } .teads-countdown-container { width: 100%; height: 100%; } .teads-countdown-number { font-family: 'Helvetica', Arial, sans-serif !important; font-weight: 300; font-size: 30px; } .teads-countdown-circle-background { opacity: .8; stroke-width: 1px; } .teads-countdown-circle { position: absolute; width: 100px; height: 100px; } .teads-countdown-fsicon { width: 20px; height: 20px; position: absolute; top: 10px; right: 10px; } .teads-countdown-background { background-color: #000000; opacity: .6; width: 100%; height: 100%; } .teads-countdown-clickzone { position: absolute; top: 0; left: 0; width: 100%; height: 100%; } "},function(t,e,n){n(120),n(312);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(n){var i=e.call(this,"teads-ui-components-credits",t.Template.CREDITSCSS)||this;i.config=n;var o=/\[([^\]]*)\]/g,r=i.config.getText().replace(o,'<span class="teads-ui-components-credits-colored">$1</span>'),a=i.config.getLink()||"http://teads.tv/en";return i.innerHTML='<a href="'+a+'" rel="nofollow" target="_blank">'+r+"</a>",i.initElement(),i}return i(n,e),n.prototype.isEnabled=function(){return this.config.isEnabled()},n}(e.AbstractComponent);e.Credits=n}(t.component||(t.component={}))}(o||(o={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){!function(t){var e=function(){function t(t){this.components=t}return t.prototype.getComponent=function(t){return this.components.hasOwnProperty(t)?this.components[t]:null},t.prototype.getComponents=function(){return this.components},t.prototype.showComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideComponent=function(t){this.components.hasOwnProperty(t)&&this.components[t].hide()},t.prototype.showAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].show()},t.prototype.hideAllComponents=function(){for(var t in this.components)this.components.hasOwnProperty(t)&&this.components[t].hide()},t}();t.Components=e}(t.helper||(t.helper={}))}(n||(n={}))},function(t,e,n){n(84);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(e){var n=this;if(this.abstractFormat=e,this.isLandscape=!1,this.logger=new t.Logger("Format.Responsive"),this.orientationChangeListeners=[],this.resizeListeners=[],this.manualMaxWidth=!1,this.vpaidAd=e.getVpaidAd(),this.mainContainer=e.parentContainer,this.formatContainer=e.placement.getInnerContainer(),this.mediafile=e.player.getMediafile(),this.win=e.placement.placementConfig.parentWindow.getWindow(),this.linearAd=e.linearAd,this.vpaidAd.subscribe(function(){n.unsetResponsive()},t.vpaid.VPAIDEvent.AdError),this.vpaidAd.subscribe(function(){n.unsetResponsive()},t.vpaid.VPAIDEvent.AdStopped),t.Context.isMobile()||t.Context.isTablet()){var i=function(e){var i=t.Dom.getWindowSize(n.win);n.isLandscape=i.width>i.height};i(),this.addOrientationChangeListener(i),this.addOrientationChangeListener(function(){n.isNativeFullscreen()&&n.resize()});var o=function(t){n.win.setTimeout(function(){n.onOrientationChange(t)},200)};t.Dom.addEventListener("orientationchange",this.win,o),this.vpaidAd.subscribe(function(){t.Dom.removeEventListener("orientationchange",n.win,o)},t.vpaid.VPAIDEvent.AdStopped)}}return e.prototype.resizeOnStart=function(){var e=this;this.vpaidAd.subscribe(function(t){e.logger.debug("Receive metadata from video",t),t.width&&t.height&&(e.mediafile.width!==t.width||e.mediafile.height!==t.height)&&(e.logger.debug("video size is different from VAST mediafile, force resize to good dimensions"),e.mediafile.width=t.width,e.mediafile.height=t.height,e.resize(!0))},t.vpaid.CustomVPAIDEvent.AdVideoMetadata),this.vpaidAd.subscribe(function(){return e.resize(!0)},t.vpaid.VPAIDEvent.AdVideoStart),this.vpaidAd.subscribe(function(){return e.resize(!0)},t.vpaid.VPAIDEvent.AdStarted)},e.prototype.setMainContainer=function(t){this.mainContainer=t,this.iframe&&(this.unsetResponsive(),this.setResponsive())},e.prototype.setResponsive=function(){var e=this;this.iframe||(this.iframe=document.createElement("iframe"),this.iframe.className="teads-resize",this.iframe.style.setProperty("height","0","important"),this.iframe.style.setProperty("min-height","0","important"),this.iframe.style.setProperty("width","100%","important"),this.iframe.style.setProperty("border","none","important"),this.iframe.style.setProperty("margin","0","important"),this.iframe.style.setProperty("padding","0","important"),this.iframe.style.setProperty("display","block","important")),this.abstractFormat.placement.getElectedSlot().getElement().appendChild(this.iframe),this.resizeCallback=function(){return e.resize()},t.Dom.addEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.resize()},e.prototype.unsetResponsive=function(){return!(!this.iframe||!this.iframe.parentNode)&&(t.Dom.removeEventListener("resize",this.iframe.contentWindow,this.resizeCallback),this.iframe.parentNode.removeChild(this.iframe),!0)},e.prototype.addOrientationChangeListener=function(e){t.ArrayHelper.indexOf(this.orientationChangeListeners,e)<0&&this.orientationChangeListeners.push(e)},e.prototype.addResizeListener=function(e){t.ArrayHelper.indexOf(this.resizeListeners,e)<0&&this.resizeListeners.push(e)},e.prototype.getOptimalDimension=function(e,n){void 0===e&&(e=this.mainContainer),void 0===n&&(n=1);var i=t.Dom.getWindowSize(this.win),o=this.getContainerWidth(e),r=!!this.abstractFormat.vpaidApi.getStudioData(),a=t.player.MediaFileHelper.getOptimalHeight(this.mediafile,o,r),s={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};if(a>n*i.height&&!t.Context.isFacebookIA()){var c=i.height/a;s.width=c*o*n,s.height=n*i.height}else s.width===o&&s.height===a||(s.width=o,s.height=this.isFullscreen()?i.height:a);return s.width=Math.round(s.width),s.height=Math.round(s.height),s},e.prototype.resize=function(e,n){void 0===e&&(e=!1),void 0===n&&(n=this.mainContainer);var i={width:this.vpaidAd.getAdWidth(),height:this.vpaidAd.getAdHeight()};this.setMaxWidth(n);var o,r=this.getContainerWidth(n),a=this.getOptimalDimension(),s=t.Dom.getWindowSize(this.win),c=!1;this.isNativeFullscreen()||this.isFullscreen()&&e?i.height===s.height&&i.width===s.width||(this.logger.debug("fullscreen resize from "+i.width+"x"+i.height+" to "+s.width+"x"+s.height),this.vpaidAd.resizeAd(s.width,s.height,"fullscreen"),c=!0):(e||i.height!==a.height||i.width!==a.width)&&(o=a.width>=r?0:(r-a.width)/2,this.formatContainer.style.marginLeft=o+"px",this.formatContainer.style.marginRight=this.formatContainer.style.marginLeft,this.logger.debug("resize from "+i.width+"x"+i.height+" to "+a.width+"x"+a.height),this.vpaidAd.resizeAd(a.width,a.height,this.isFullscreen()?"fullscreen":"normal"),c=!0),c&&this.onResize()},e.prototype.isFullscreen=function(){return t.HTMLHelper.hasClass(this.vpaidAd.getMainComponentsContainer(),"fullscreen")},e.prototype.isNativeFullscreen=function(){return t.HTMLHelper.isFullscreen(this.win.document)},e.prototype.onOrientationChange=function(e){t.ArrayHelper.forEach(this.orientationChangeListeners,function(t){t(e)})},e.prototype.onResize=function(){var e=this;this.win.setTimeout(function(){t.ArrayHelper.forEach(e.resizeListeners,function(t){t()})},100)},e.prototype.getContainerWidth=function(e){if(void 0===e&&(e=this.mainContainer),this.isFullscreen())return t.Dom.getWindowSize(this.win).width;var n=this.win.getComputedStyle(e),i=n.getPropertyValue("width");if(t.Utils.isSizeInPx(i))return Math.round(parseFloat(i));var o=parseFloat(n.getPropertyValue("padding-left"))||0,r=parseFloat(n.getPropertyValue("padding-right"))||0;return Math.round(t.Dom.getBoundingClientRect(e).width-(o+r))},e.prototype.setMaxWidth=function(e){if(void 0===e&&(e=this.mainContainer),this.isFullscreen())e.style.setProperty("max-width","none");else if(!e.style.getPropertyValue("max-width")||this.manualMaxWidth){var n=t.Dom.getBoundingClientRect(e),i=t.Dom.getBoundingClientRect(this.iframe);e.style.setProperty("max-width",Math.round(i.width-Math.max(n.left-i.left,n.right-i.right))+"px"),this.manualMaxWidth=!0}},e}();e.Responsive=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(280),n(281),n(282),n(313),n(184);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(n,i,o){var r=e.call(this,n,i,o,t.Constant.SLOT_TYPE.corner)||this;return r.placement=n,r.config=i,r.player=o,r}return i(n,e),n.prototype.fitContainerToContent=function(t){return null},n.prototype.load=function(n,i){var o=this,r=t.Dom.getBoundingClientRect(this.playerContainer).width;this.playerContainer.style.setProperty("right","-"+String(r)+"px","important"),t.ArrayHelper.forEach(["","-webkit-","-moz-","-o-","-ms-"],function(t){o.playerContainer.style.setProperty(t+"transition",".3s linear all","important")}),e.prototype.load.call(this,n,i)},n.prototype.getTemplateName=function(){return"inread"},n.prototype.getViewportInViewState=function(){return!0},n.prototype.close=function(e){var n=this,i=t.Dom.getBoundingClientRect(this.playerContainer).width;t.Semver.isLowerOrEqual(t.Context.getIEVersion(),"9")?this.exit(e):this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.parentContainer,function(){n.exit(e)}),this.playerContainer.style.setProperty("right",-(i||500)+"px","important")},n.prototype.onAdLoaded=function(){e.prototype.onAdLoaded.call(this),this.smartPositionHelper.init(),this.smartPositionHelper.start();var t=this.smartPositionHelper.getOptimalDimension();this.playerContainer.style.setProperty("right","-"+String(t.width)+"px","important"),this.parentContainer.style.setProperty("width",t.width+"px"),this.parentContainer.style.setProperty("height",t.height+"px"),this.vpaidAd.startAd()},n.prototype.onAdVideoStart=function(){e.prototype.onAdVideoStart.call(this),this.openFormat()},n.prototype.onVpaidReady=function(){e.prototype.onVpaidReady.call(this),this.placement.placementTracker.handleMirroringEvent(),this.fullscreenHelper=new t.helper.FullscreenHelper(this.parentContainer,this.vpaidAd,this.components,this.responsive,this.win,this.playerContainer),this.formatConfig.smartPosition.setValue({corner:!0,top:!1}),this.smartPositionHelper=new t.helper.SmartPosition(this)},n.prototype.openFormat=function(){var t=this;this.states.hasOpened=!0,setTimeout(function(){t.placement.placementConfig.css.applyRulesOn(t.parentContainer),t.playerContainer.style.setProperty("right","0px","important")},0)},n.prototype.replay=function(){this.smartPositionHelper.deinit(),e.prototype.replay.call(this)},n.STYLE_NODE_ID="teads-slider",n}(e.AbstractFormat);e.Slider=n}(t.format||(t.format={}))}(o||(o={}))},function(t,e,n){n(314);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();n(89),n(279),n(307),n(387),n(281),n(282),n(302);var o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.sumologicPrefix="hybrid",n.sumologicEvents={videoClose:"videoClose",countdownStart:"countdownStart",openExpand:"openExpand"},n.sumologicData={source:{portrait:"portrait",landscape:"landscape",video:"video"},type:{click:"click",countdown:"countdown"}},n.formatRatio=t.Constant.INREAD_IMPACT_BASE_HEIGHT/t.Constant.INREAD_IMPACT_BASE_WIDTH,n}return i(n,e),n.prototype.start=function(){var n=this;try{this.hybrid=t.parser.HybridExtension.get(this.linearAd)}catch(e){var i=t.VastException.XML_PARSE;return i.message+=" : "+e,void this.placement.onVastError(new t.Exception(i),function(){n.placement.initFormatInstance(null,n.placement.handleNoAd()),n.start()})}this.initClickableCountdown(),this.tracker=new t.tracker.Tracker(t.Option.of([{name:t.parser.HybridExtension.TRACKINGEVENTS_OPEN,multiple:!1,resources:this.hybrid.tracking[t.parser.HybridExtension.TRACKINGEVENTS_OPEN]},{name:t.parser.HybridExtension.TRACKINGEVENTS_PROGRESS,multiple:!0,resources:this.hybrid.tracking[t.parser.HybridExtension.TRACKINGEVENTS_PROGRESS]}]),t.Option.empty()),this.playerContainer.style.width="65%",e.prototype.start.call(this)},n.prototype.close=function(){},n.prototype.onAdLoaded=function(){e.prototype.onAdLoaded.call(this),this.initParallax()},n.prototype.onAdVideoThirdQuartile=function(){this.initEndParallax()},n.prototype.onAdVideoComplete=function(){e.prototype.onAdVideoComplete.call(this),this.vpaidAd.stopAd(),this.displayEndScreen()},n.prototype.onAdClickThru=function(){this.sendSumologicData(this.sumologicEvents.openExpand,this.sumologicData.source.video,this.sumologicData.type.click),this.openExpand()},n.prototype.onVpaidReady=function(){var n=this;e.prototype.onVpaidReady.call(this),this.player.getPlugin("ClickThrough").deinit(),t.Dom.addEventListener("resize",this.win,function(){return n.onAdSizeChange()}),this.vpaidAd.subscribe(function(){return n.onAdClickThru()},t.vpaid.VPAIDEvent.AdClickThru),this.vpaidAd.subscribe(function(){return n.onAdVideoThirdQuartile()},t.vpaid.VPAIDEvent.AdVideoThirdQuartile)},n.prototype.initInternalResponsive=function(){},n.prototype.collapse=function(){this.displayEndScreen()},n.prototype.getInnerOffsetTop=function(){var e=0,n=this.components.getComponent("label"),i=n?n.getElement():null;return i&&i.parentNode&&(e=t.Dom.getBoundingClientRect(i).height),e},n.prototype.initClickableCountdown=function(){var e=this;this.clickableCountdown=document.createElement("div"),this.clickableCountdown.style.cursor="pointer",this.clickableCountdown.style.position="absolute",this.clickableCountdown.style.right="0",this.clickableCountdown.className=t.helper.Countdown.CSSCLASSES.countdownMainContainer,this.placement.getInnerContainer().appendChild(this.clickableCountdown);var n=function(){var t=e.endscreenIsDisplayed?e.sumologicData.source.landscape:e.sumologicData.source.portrait;e.sendSumologicData(e.sumologicEvents.openExpand,t,e.sumologicData.type.countdown),e.openExpand()},i=function(){var t=e.endscreenIsDisplayed?e.sumologicData.source.landscape:e.sumologicData.source.portrait;e.sendSumologicData(e.sumologicEvents.openExpand,t,e.sumologicData.type.click),e.openExpand()};this.countdownContainer=document.createElement("div"),this.clickableCountdown.appendChild(this.countdownContainer);var o=document.createElement("div");o.className=t.helper.Countdown.CSSCLASSES.countdownClickZone,this.clickableCountdown.appendChild(o),this.countdown=new t.helper.Countdown(this.clickableCountdown,o,this.countdownContainer,function(){return n()},function(){return i()},this.win),this.resizeClickableCountdown(),t.Dom.addEventListener("click",o,function(){}),t.Dom.addEventListener("mouseover",o,function(){return e.countdown.show()}),t.Dom.addEventListener("mouseout",o,function(){return e.countdown.hide()})},n.prototype.resizeClickableCountdown=function(){if(this.clickableCountdown){var t=this.getRightParallaxWidth();this.clickableCountdown.style.width=t+"px",this.clickableCountdown.style.height=this.adHeight+"px",this.clickableCountdown.style.top=this.getInnerOffsetTop()+"px"}},n.prototype.initParallax=function(){var t=this;this.parallaxRight=document.createElement("div"),this.parentContainer.insertBefore(this.parallaxRight,this.parentContainer.firstChild);var e=new Image;e.onload=function(){t.parallaxRightWidth=e.width,t.parallaxRightHeight=e.height,t.resizeParallax()},e.src=this.hybrid.parallax.portrait},n.prototype.initEndParallax=function(t){var e=this;if(!this.parallaxEnd){this.parallaxEnd=document.createElement("div"),this.parallaxEnd.style.display="none",this.parentContainer.insertBefore(this.parallaxEnd,this.parentContainer.firstChild);var n=new Image;n.onload=function(){e.parallaxEndWidth=n.width,e.parallaxEndHeight=n.height,e.resizeParallax(),t&&"function"==typeof t&&t()},n.src=this.hybrid.parallax.landscape}},n.prototype.resizeParallax=function(){var e=this.getInnerOffsetTop(),i=t.Dom.getBoundingClientRect(this.parentContainer).left;if(this.placement.getInnerContainer().style.marginTop="-"+(this.adHeight+e)+"px",this.parallaxRight&&this.parallaxRightWidth){var o=this.adWidth/this.parallaxRightWidth,r=o*this.parallaxRightHeight;this.parallaxRight.style.background="url("+this.hybrid.parallax.portrait+") repeat-y "+i+"px 50% / "+this.adWidth+"px "+r+"px fixed transparent",this.parallaxRight.style.width=this.adWidth+"px",this.parallaxRight.style.height=this.adHeight+"px",this.parallaxRight.style.marginTop=e+"px",this.parallaxRight.style.marginLeft="0",this.parallaxRight.className=n.CSSCLASSES.parallaxRight}if(this.parallaxEnd&&this.parallaxEndWidth){var o=this.adWidth/this.parallaxEndWidth,r=o*this.parallaxEndHeight;this.parallaxEnd.style.background="url("+this.hybrid.parallax.landscape+") repeat-y "+i+"px 50% / "+this.adWidth+"px "+r+"px fixed transparent",this.parallaxEnd.style.width=this.adWidth+"px",this.parallaxEnd.style.height=this.adHeight+"px",this.parallaxEnd.style.marginTop=e+"px",this.parallaxEnd.style.marginLeft="0",this.parallaxEnd.className=n.CSSCLASSES.parallaxEnd}},n.prototype.updateAdSize=function(){this.adWidth=t.Dom.getBoundingClientRect(this.parentContainer).width,this.adHeight=this.endscreenIsDisplayed?this.adWidth*this.formatRatio:this.vpaidAd.getAdHeight(),this.playerContainer.style.height=this.adHeight+"px",this.fitContainerToContent(),this.resizeClickableCountdown(),this.resizeParallax()},n.prototype.displayEndScreen=function(){var t=this;if(!this.endscreenIsDisplayed){this.endscreenIsDisplayed=!0,this.playerContainer.style.height=this.adHeight+"px",this.playerContainer.style.visibility="hidden",this.parallaxRight.parentNode&&this.parallaxRight.parentNode.removeChild(this.parallaxRight);var e=function(){return t.parallaxEnd.style.display="block"};this.initEndParallax(e),e(),this.updateAdSize()}},n.prototype.openExpand=function(){var e=this;this.countdown.hide();var n,i=this.hybrid.expand.site||this.linearAd.clickThrough[0],o=function(){e.vpaidAd.collapseAd(),e.vpaidAd.resumeAd(),clearInterval(n)},r=function(){e.tracker.track(t.parser.HybridExtension.TRACKINGEVENTS_OPEN);var i=0;n=setInterval(function(){i+=1e3,e.tracker.track(t.parser.HybridExtension.TRACKINGEVENTS_PROGRESS,{},i/1e3)},1e3)};t.helper.ExpandHelper.openExpand(this.placement.getInnerContainer(),this.formatConfig,i,r,o),this.tracker.track(t.parser.HybridExtension.TRACKINGEVENTS_OPEN),this.vpaidAd.pauseAd()},n.prototype.getRightParallaxWidth=function(){var e=t.Dom.getBoundingClientRect(this.parentContainer).width;return this.endscreenIsDisplayed?e:.35*e},n.prototype.sendSumologicData=function(e,n,i){t.formatSumologic.sendInfo(this.sumologicPrefix+" "+e+" "+(n?n+" ":"")+(i?i+" ":"")+this.getCurrentTime())},n.CSSCLASSES={parallaxRight:"teads-impact-parallax-portrait",parallaxEnd:"teads-impact-parallax-landscape"},n}(e.Inread);e.InreadImpact=n}(t.format||(t.format={}))}(o||(o={}))},function(t,e,n){n(314);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.has=function(t){return!!e.getExtensions(t).length},e.getExtensions=function(t){for(var n=[],i=0,o=t.extensions.length;i<o;i++)t.extensions[i].type===e.EXTENSION_TYPE&&n.push(t.extensions[i]);return n},e.get=function(t){for(var n=[],i=e.getExtensions(t),o=0,r=i.length;o<r;o++)n.push(e.parse(i[o]));var a=e.merge(n);if(!a.parallax.landscape||!a.parallax.portrait)throw e.EXTENSION_TYPE+" extensions assets landscape or portrait asset are missing from LinearAd";return a},e.parse=function(n){if(n.type!==e.EXTENSION_TYPE)throw'extension is not type of "'+e.EXTENSION_TYPE+'"';var i={parallax:{landscape:"",portrait:""},expand:{site:""},tracking:{}};try{i.parallax.landscape=t.vast.XMLHelper.getNodeContent(n.xml.getElementsByTagName("Landscape")[0]),i.parallax.portrait=t.vast.XMLHelper.getNodeContent(n.xml.getElementsByTagName("Portrait")[0])}catch(t){throw"Invalid XML for parallax "+t}try{i.expand.site=t.vast.XMLHelper.getNodeContent(n.xml.getElementsByTagName("Site")[0])}catch(t){throw"Invalid XML for expand "+t}for(var o=n.xml.getElementsByTagName("Tracking"),r=0,a=o.length;r<a;r++)for(var s=o[r],c=0,d=s.attributes.length;c<d;c++){var l=s.attributes[c].name,p=t.vast.XMLHelper.getAttributeValue(s,l);if("event"===l){var u=t.vast.XMLHelper.getNodeContent(s),h=!1,f=void 0;p===e.TRACKINGEVENTS_OPEN?h=!0:p===e.TRACKINGEVENTS_PROGRESS&&(h=!0,f=t.Utils.seconds(t.vast.XMLHelper.getAttributeValue(s,"offset"))),h&&(i.tracking[p]=i.tracking[p]||[],i.tracking[p].push({url:u,offset:f}))}}return i},e.merge=function(t){if(!t[0])throw"at least one IVASTExtensionHybrid is required";for(var n=t[0],i=1,o=t.length;i<o;i++){var r=t[i];for(var a in r.tracking)n.tracking[a]?e.mergeTracking(n.tracking[a],r.tracking[a]):n.tracking[a]=r.tracking[a];!n.parallax.landscape&&r.parallax.landscape&&(n.parallax.landscape=r.parallax.landscape),!n.parallax.portrait&&r.parallax.portrait&&(n.parallax.portrait=r.parallax.portrait),!n.expand.site&&r.expand.site&&(n.expand.site=r.expand.site)}return n},e.mergeTracking=function(t,n){for(var i=0,o=n.length;i<o;i++)e.resourceExists(t,n[i])||t.push(n[i])},e.resourceExists=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n].url===e.url&&t[n].offset===e.offset)return!0;return!1},e.TRACKINGEVENTS_OPEN="open-expand",e.TRACKINGEVENTS_PROGRESS="open",e.EXTENSION_TYPE="t-hybrid",e}();e.HybridExtension=n}(t.parser||(t.parser={}))}(i||(i={}))},function(t,e,n){n(280),n(281),n(282),n(313),n(87);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(n,i,o,r){var a=e.call(this,n,i,r)||this;return a.placement=n,a.formatConfig=i,a.ad=o,a.isExpand=!1,a.hasTrackedImpression=!1,a.visibleOffset=0,a.fixedBackgroundHelper=new t.helper.FixedBackground(a.placement.getPlayerContainer(),a.placement.getParentContainer(),function(){return a.handleResize()}),a.slot=a.placement.getElectedSlot().getElement(),a.asset=a.ad.creative.asset,a.clickThrough=a.ad.clickThrough.length?a.ad.clickThrough[0]:null,t.Context.isDesktop()&&(a.isExpand=!!a.ad.expand.length&&a.ad.expand[0]),a.rolloverCountdown=a.ad.rolloverCountdown.length?a.ad.rolloverCountdown[0]:null,a.closeCountdown=a.ad.closeCountdown.length?a.ad.closeCountdown[0]:null,a.isParallax="parallax"===a.ad.creative.type,a.tracker=new t.tracker.Tracker(t.Option.of([{name:t.Constant.TRACKING.impression,multiple:!1,resources:a.ad.tracking[t.Constant.TRACKING.impression]},{name:t.Constant.TRACKING.openExpand,multiple:!1,resources:a.ad.tracking[t.Constant.TRACKING.openExpand]},{name:t.Constant.TRACKING.open,multiple:!0,resources:a.ad.tracking[t.Constant.TRACKING.open]},{name:t.Constant.TRACKING.visible,multiple:!0,resources:a.ad.tracking[t.Constant.TRACKING.visible]},{name:t.Constant.TRACKING.click,multiple:!0,resources:a.ad.tracking[t.Constant.TRACKING.click]}]),t.Option.of(t.formatSumologic.getSessionId())),a}return i(n,e),n.prototype.load=function(){var e=this;this.fixedBackgroundHelper.loadImage(this.asset.url,function(n,i){if(n)i.forEach(function(t){e.asset.width=t.naturalWidth,e.asset.height=t.naturalHeight}),e.logger.info("AdLoaded"),e.wigoi&&e.wigoi.valid(3,2),t.Context.isIABSafeFrame()?t.helper.SafeFrameResize.initSlot(function(){return e.start()}):e.start();else{var o=i.map(function(){return t.VastException.MEDIAFILE_DISPLAY}).getOrElse(function(){return t.VastException.FILE_NOT_FOUND});e.placement.onVastError(new t.VastException(o),function(){e.placement.initFormatInstance(null,e.placement.handleNoAd(),e.ad),e.start()})}})},n.prototype.start=function(){var e=this;if(this.components.showAllComponents(),this.playerContainer.innerHTML="",this.initContainers(),this.assembleContainers(),this.initUi(),this.handleResize(),t.Context.isAmp())this.win.context.observeIntersection(function(t){return e.onScroll(new Event("touchmove"))});else{var n=this.placement.placementConfig.scrollSelector.getSlot();this.eventListenerManager.add("scroll",n,function(){return e.onScroll()}),this.eventListenerManager.addMultiple(["touchstart","touchmove","touchend"],n,function(t){return e.onScroll(t)})}this.onScroll()},n.prototype.close=function(t){this.isParallax&&this.fixedBackgroundHelper.destroy(),e.prototype.close.call(this,t)},n.prototype.openFormat=function(){e.prototype.openFormat.call(this),this.handleResize(),this.logger.info("AdStarted"),this.wigoi&&this.wigoi.valid(3,3)},n.prototype.initContainers=function(){var e=this;this.isParallax&&(this.fixedBackgroundHelper.initContainer(),this.displayContainer=this.fixedBackgroundHelper.getBaseContainer()),this.clickZone=this.win.document.createElement("div"),this.clickZone.className=t.helper.FixedBackground.CSSCLASSES.clickZone,this.isExpand&&this.clickThrough&&(this.countdownContainer=document.createElement("div"),this.countdown=new t.helper.Countdown(this.playerContainer,this.clickZone,this.countdownContainer,function(){return e.openExpand()},function(){return e.openExpand()},this.win,this.rolloverCountdown))},n.prototype.assembleContainers=function(){this.isParallax&&(this.fixedBackgroundHelper.append(),this.isExpand&&this.clickThrough&&this.displayContainer.appendChild(this.countdownContainer)),this.playerContainer.appendChild(this.clickZone)},n.prototype.initUi=function(){var e=this;if(this.clickThrough?(this.clickZone.style.cursor="pointer",this.initClickArea()):t.Dom.addEventListener("click",this.clickZone,function(){return e.tracker.track(t.Constant.TRACKING.click)}),this.isParallax){var n={disable:!0};this.closeButton=new t.helper.DisplayCloseButton(n,this.playerContainer,function(){return e.close(t.EXIT_STATUS.AdSuccess)},this.win),this.fixedBackgroundHelper.canUseBackgroundAttachment()||(this.visualCloseButton=new t.helper.DisplayCloseButton(n,this.displayContainer,function(){},this.win))}},n.prototype.initClickArea=function(){var e=this;this.isExpand?(t.Dom.addEventListener("mouseover",this.clickZone,function(){return e.showCountdown()}),t.Dom.addEventListener("mouseout",this.clickZone,function(){return e.hideCountdown()})):t.Dom.addEventListener("click",this.clickZone,function(){e.tracker.track(t.Constant.TRACKING.click),window.open(e.clickThrough)})},n.prototype.handleResize=function(){var e=t.Dom.getBoundingClientRect(this.parentContainer),i=e.width,o=i/n.RATIO;if(this.playerContainer.style.height=Math.round(o)+"px",this.playerContainer.style.width=Math.round(i)+"px",this.fixedBackgroundHelper.resizeContainer(),this.states.hasOpened){var r=o;for(var a in this.components.getComponents())if(this.components.getComponents().hasOwnProperty(a)){var s=this.components.getComponent(a);r+=t.Dom.getBoundingClientRect(s.getElement()).height}this.parentContainer.style.height=Math.round(r)+"px"}},n.prototype.onScroll=function(t){var e=this.getInViewState();this.trackAdCall(e),this.states.hasOpened||(this.formatConfig.launch.isAuto()||this.formatConfig.launch.isThreshold()&&e)&&this.openFormat(),this.manageInView(e)},n.prototype.getViewportInViewState=function(){return t.HTMLHelper.isInView(this.parentContainer,this.win,this.formatConfig.threshold.get()/100,this.getAdHeight())},n.prototype.startInView=function(){var e=this;this.hasTrackedImpression||(this.tracker.track(t.Constant.TRACKING.impression,this.getTrackingMacros()),this.hasTrackedImpression=!0);var i=function(){return clearInterval(e.visibleTimer)};this.visibleTimer=setInterval(function(){e.visibleOffset+=1e3;var o=e.visibleOffset/1e3;e.tracker.track(t.Constant.TRACKING.visible,e.getTrackingMacros(),o),o>=n.MAX_VISIBLE_OFFSET&&i()},1e3),this.closeButton.resumeCoutdown(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.resumeCoutdown()},n.prototype.endInView=function(){clearInterval(this.visibleTimer),this.closeButton.pauseCoutdown(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.pauseCoutdown()},n.prototype.showCountdown=function(){this.closeButton.hide(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.hide(),this.countdown.show()},n.prototype.hideCountdown=function(){this.countdown.hide(),this.closeButton.show(),this.fixedBackgroundHelper.canUseBackgroundAttachment()||this.visualCloseButton.show()},n.prototype.openExpand=function(){var e=this;this.hideCountdown();var i,o=function(){return clearInterval(i)},r=function(){e.tracker.track(t.Constant.TRACKING.openExpand,e.getTrackingMacros());var r=0;i=setInterval(function(){r+=5e3;var i=r/1e3;e.logger.debug("open currentOffset",i),e.tracker.track(t.Constant.TRACKING.open,e.getTrackingMacros(),i),i>=n.MAX_OPEN_OFFSET&&o()},5e3)};t.helper.ExpandHelper.openExpand(this.placement.getInnerContainer(),this.formatConfig,this.clickThrough,r,o,this.closeCountdown)},n.prototype.getAdHeight=function(){return t.Dom.getBoundingClientRect(this.playerContainer).height||1},n.prototype.getTrackingMacros=function(){var e=Math.ceil(100*t.HTMLHelper.getPercentageInView(this.playerContainer,this.win,this.getAdHeight()));return(e<0||!t.HTMLHelper.getRealVisibilityState(this.playerContainer))&&(e=0),n={},n[t.Constant.TrackingMacro.VIEWABILITY]=""+e,n;var n},n.RATIO=t.Context.isMobile()?16/9:2.35,n.MAX_VISIBLE_OFFSET=1,n.MAX_OPEN_OFFSET=30,n}(e.Inread);e.InreadDisplay=n}(t.format||(t.format={}))}(o||(o={}))},function(t,e,n){n(89),n(113),n(178),n(315),n(411),n(278),n(413),n(227),n(415),n(102);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(e,n,i,o){this.pageId=e,this.placementConfig=n,this.placementSetting=i,this.placementTracker=o,this.sliderEnabled=!1,this.logger=new t.Logger("placement"),this.wigoi=null,this.moatCampaignToTest=/^(38587|38690|39123|39615|40036|41045|44345|45167|45341|45413|45977|46277|46447|49317|50311|54130)$/,this.pid=n.pid.get(),this.win=n.parentWindow.getWindow(),this.sessionStore=new t.SessionStoreBuilder(e,this.pid).setSumologicSessionId(t.formatSumologic.getSessionId()).setWigo(o.getWigoi()).build(),this.initContainer(),this.setWigoi(o.getWigoi()),this.wigoi&&(window.teads.router&&this.wigoi.valid(0,0),window._ttp&&this.wigoi.valid(0,1,{ttp:window._ttp,ttf:window._ttf,tta:window._tta,ttc:window._ttc,tts:window._tts},t.Wigo.infoType.MODAL),this.wigoi.valid(1,0))}return n.prototype.getFormatConfig=function(e){if(!e||!e.type||!e.content)return null;try{var n=new t.FormatConfig(e);return t.formatSumologic.setAdType(n.adType.get()),this.logger.info("formatConfig",n),n}catch(e){this.logger.warn("Error during FormatConfig instantiation",e),this.placementTracker.track(t.Constant.TRACKING.adAvailable.error.settings);var i=e.message?e.message:t.JSON.stringify(e);return t.formatSumologic.sendError({pageId:this.pageId,message:t.Constant.TRACKING.adAvailable.error.settings+"|"+i.substr(0,120)}),null}},n.prototype.loadVast=function(e,n){var i=this,o=new t.player.VASTPlayer(this.playerContainer,this.getPlayerConfig(e),this.sessionStore),r=function(t){return i.onVastError(t,n)};if(e.vast.isDisplayUrl()||e.vast.isDisplayXml()){var a=function(t){i.logger.info("Ad is ready"),i.wigoi&&i.wigoi.valid(1,2),o.setLinearAd({}),n(o,t)};e.vast.isDisplayUrl()?t.parser.Display.load(e.vast.getContent(),a,r,this.wigoi):e.vast.isDisplayXml()&&t.parser.Display.parse(e.vast.getContent(),a,r,this.wigoi)}else{var a=function(r){i.logger.info("VAST is ready"),i.wigoi&&i.wigoi.valid(1,2),o.setConfigUI(i.getPlayerConfigUI(e,r)),t.ArrayHelper.forEach(r.extensions,function(n){if("MoatJs"===n.type&&i.moatCampaignToTest.test(n.definition.id)){var o=[];e.videoStart.isThreshold()||(o.push("videoStart: "+e.videoStart.getValue()),e.videoStart=new t.option.VideoStart(t.option.VideoStart.VALUES.THRESHOLD,e.formatName,e.smartPosition)),e.videoPause.isThreshold()||(o.push("videoPause: "+e.videoPause.getValue()),e.videoPause=new t.option.VideoPause(t.option.VideoPause.VALUES.THRESHOLD)),e.soundStart.isCountdown()&&2===e.soundStart.getCountdown()||(o.push("soundStart: "+e.soundStart.getType()+","+e.soundStart.getCountdown()),e.soundStart=new t.option.SoundStart({type:t.option.SoundStart.VALUES_TYPE.COUNTDOWN,countdown:2})),100!==e.threshold.get()&&(o.push("threshold: "+e.threshold.get()),e.threshold=new t.option.Threshold(100)),t.formatSumologic.sendInfo("[OVR-MOAT] "+r.id+" "+n.definition.id,null,1),o.length>0&&t.formatSumologic.sendInfo("[MOAT-OVERRIDE] "+o.join("|"),null,1)}}),n(o)};e.vast.isVastUrl()?o.loadVast(e.vast.getContent(),a,r):e.vast.isVastXml()&&o.parseVast(e.vast.getContent(),a,r)}},n.prototype.canEnableSlider=function(){if(!t.Context.isDesktop()||!this.placementConfig.formatName.isInRead())return!1;var e=this.placementSetting&&this.placementSetting.slider&&this.placementSetting.slider.allowCorner();return t.Constant.SLIDER_WHITELIST.test(String(this.pid))||e},n.prototype.enableSlider=function(){this.sliderEnabled=!0,this.placementTracker.setSlotType(t.Constant.SLOT_TYPE.corner),this.placementTracker.track(t.Constant.TRACKING.adCall),this.electedSlot=new e.Slot(this.placementConfig.parentWindow.getWindow().document.body),this.placementConfig.btf.set(!1),this.placementConfig.minimum.set(0),this.placementConfig.auto.set(!1),this.placementConfig.insertBefore.set(!1),this.placementConfig.insertInside.set(!0)},n.prototype.onVastError=function(e,n){t.formatSumologic.sendError({pid:this.pid,message:"Error when loading VAST|"+e.getFullMessage().substr(0,120)});var i=e.getId()||0;i===t.VastException.WRAPPER_TIMEOUT.id?this.placementTracker.track(t.Constant.TRACKING.adAvailable.error.parseTimeout):this.placementTracker.track(t.Constant.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,""+i)),this.logger.error("VAST loading:",e),n(null)},n.prototype.handleNoAd=function(){if(this.placementTracker.handleMirroringEvent(),this.placementConfig.fallback.trigger()?(this.placementTracker.track(t.Constant.TRACKING.fallback.noAd),this.logger.info(t.Constant.TRACKING.fallback.noAd),this.wigoi&&this.wigoi.valid(1,2,t.Constant.TRACKING.fallback.noAd,t.Wigo.infoType.ERROR)):t.Context.isAmp()&&t.helper.Amp.close(),!this.sliderEnabled)return new t.FormatConfig({type:"VastUrl",content:"",settings:{values:{placementFormat:this.placementConfig.formatName.get(),pageId:this.pageId,placementId:this.pid,threshold:100},components:{},behaviors:{}}})},n.prototype.getFormat=function(){return this.formatInstance},n.prototype.getParentContainer=function(){return this.parentContainer},n.prototype.getPlayerContainer=function(){return this.playerContainer},n.prototype.getInnerContainer=function(){return this.innerContainer},n.prototype.processChecker=function(t,i,o){void 0===o&&(o=!1);for(var r,a,s,c,d,l=o?"auto":"selector",p=n.checkersConfig[i][l],u={report:{status:!1,reasons:[]}},h=0,f=!1;!f&&t[h];){for(a=t[h++],s=a.getElement(),r=0,d={status:!0,reason:""};d.status&&p[r];)c=p[r++],d=e.Checker[c](this,a,t),d.status||(this.logger.info("Invalid slot","["+h+"/"+t.length+"]",d.reason,"=>",d.information,s),u.report.reasons=[d.reason],u.report.status=!1,d.status=!1);d.status&&(this.logger.info("Elected slot","["+h+"/"+t.length+"]",s),u.report.status=!0,u.report.reasons=[],u.slot=a,f=!0,this.wigoi&&this.wigoi.valid(1,1))}return u},n.prototype.setWigoi=function(t){this.wigoi=t},n.prototype.getWigoi=function(){return this.wigoi},n.prototype.registerInstance=function(e){this.formatInstance=e;var n=e.formatConfig.formatName.get();t.instances[n]||(t.instances[n]=[]),t.instances[n].push(e),this.getFormat().setWigoi(this.wigoi)},n.prototype.getPlayerConfig=function(e){return{path:t.config.basePathUrl,type:e.allowedPlayer.getValue(),formatConfig:e,background:"transparent",vpaidApi:new t.VPAIDApi(this,e),replaceIASVPAID:t.config.isIasBypassEnabled,adType:e.adType.get()}},n.prototype.getPlayerConfigUI=function(e,n){return{name:"inread",config:{components:t.helper.RASHelper.getComponentsConfig(e,this,n,t.player.TeadsStudioExtension.get(n)),isSkippableAtMidPoint:e.smartPosition.isEnabled()&&!this.sliderEnabled}}},n.prototype.initContainer=function(){this.parentContainer=this.win.document.createElement("div"),this.parentContainer.className="teads-"+this.placementConfig.formatName.get(),this.placementConfig.formatName.isInBoard()&&(this.parentContainer.style.width="100%"),this.innerContainer=this.win.document.createElement("div"),this.innerContainer.style.position="relative",this.parentContainer.appendChild(this.innerContainer),this.playerContainer=this.win.document.createElement("div"),this.playerContainer.className="teads-player",this.playerContainer.id="teads"+t.currentPlayerId++,this.innerContainer.appendChild(this.playerContainer)},n.checkersConfig={inread:{auto:["safeframe","image","video","minimum","btf","position","avoid","content","size","filter"],selector:["safeframe","image","video","minimum","btf","avoid","filter"]},inboard:{auto:["safeframe","image","video","minimum","btf","avoid","filter"],selector:["safeframe","image","video","minimum","btf","avoid","filter"]}},n}();e.AbstractPlacement=n}(t.placement||(t.placement={}))}(i||(i={}))},function(t,e,n){n(7),n(113),n(179);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o){void 0===i&&(i=n.DEFAULT),void 0===o&&(o=null);var r=e.call(this,"Capping")||this;return r.capping=i,r.pid=o,r.checkValue(),r.capping&&r.pid?t.Store.get("teadsCapping"+r.pid).filter(function(e){return e.expiry>=t.date.now()}).match({some:function(t){r.capping.counter=t.counter,r.capping.expiry=new Date(t.expiry)},none:function(){r.logger.debug("Capping has expired, resetting"),r.capping.counter=r.capping.frequency||1,r.capping.expiry=new Date(t.date.now()+1e3*n.durations[r.capping.unit])}}):r.logger.debug("No capping"),r}return i(n,e),n.prototype.checkValue=function(){t.Utils.isObject(this.capping)||(this.capping=n.DEFAULT),(!t.Utils.isNumber(this.pid)||this.pid<=0)&&(this.pid=null)},n.prototype.reached=function(){return this.capping&&this.capping.counter<=0},n.prototype.record=function(){var e=this;t.Option.of(this.capping).map(function(t){return{counter:t.counter-1,expiry:t.expiry.getTime()}}).forEach(function(n){e.logger.debug("Record capping data:",n),t.Store.set("teadsCapping"+e.pid,n)})},n.durations={second:1,minute:60,hour:3600,day:86400,week:604800,month:2592e3},n.VALUES={UNIT:"unit",FREQUENCY:"frequency"},n.DEFAULT=null,n}(e.AbstractOption);e.Capping=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Desktop")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.Desktop=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(316);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Fallback")||this;return i.value=t,i.called=!1,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isFunction(this.value)||(this.value=n.DEFAULT)},n.prototype.trigger=function(e){if(!this.value||this.called)return!1;try{var n=this.value.call(e);if(this.called=!0,n===t.Constant.INTERNAL_PASSBACK_NO_PASSBACK)return this.value=null,!1}catch(e){t.Context.isAmp()&&t.helper.Amp.clean(),this.logger.error("the fallback threw an error:",e)}return!0},n.prototype.hasValue=function(){return!!this.value},n.DEFAULT=null,n}(e.AbstractOption);e.Fallback=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Mobile")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.Mobile=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"ParentWindow")||this;if(i.value=t,i.win=window,i.checkValue(),i.value)try{window.top.document&&(i.win=window.top)}catch(t){i.logger.warn("parentWindow option is enabled but parent window is not accessible",t)}return i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.getWindow=function(){return this.win},n.prototype.getValue=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.ParentWindow=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"RpmFallback")||this;return i.value=t,i.called=!1,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isFunction(this.value)||(this.value=n.DEFAULT)},n.prototype.trigger=function(t){if(!this.value||this.called)return!1;try{this.value.call(t),this.called=!0}catch(t){this.logger.error("the rpmFallback threw an error:",t)}return!0},n.DEFAULT=null,n}(e.AbstractOption);e.RpmFallback=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Tablet")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.Tablet=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(203);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,i){void 0===t&&(t=n.DEFAULT),void 0===i&&(i=null);var o=e.call(this,"Auto")||this;return o.value=t,i&&null!==i.get()&&(o.value=!1),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.prototype.set=function(t){this.value=t},n.DEFAULT=!0,n}(e.AbstractOption);e.Auto=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7),n(51),n(184);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,i){void 0===t&&(t=n.DEFAULT),void 0===i&&(i=window);var o=e.call(this,"Avoid")||this;return o.value=t,o.win=i,o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.prototype.getSlots=function(){if(this.value){var e=[],n=this.value.selector;if("string"==typeof n&&n.length>0)for(var i=t.Dom.querySelectorAll(n,this.win),o=0;o<i.length;o++)e.push(new t.placement.Slot(i[o],o));else t.Dom.isHTMLElement(n)&&e.push(new t.placement.Slot(n));return e}},n.prototype.getDistance=function(){return this.value.distance},n.VALUES={SELECTOR:"selector",DISTANCE:"distance"},n.DEFAULT=null,n}(e.AbstractOption);e.Avoid=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(317),n(51),n(184);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i,o){var r=e.call(this,"BelowSelector")||this;if(void 0===o)throw new t.FormatException(t.FormatException.OPTION_PARENTWINDOW_INVALID);return r.win=o,i||(i=n.DEFAULT),r.value=i,r.checkValue(),r}return i(n,e),n.prototype.checkValue=function(){this.value===n.DEFAULT||t.Utils.isString(this.value)||t.Dom.isHTMLElement(this.value)||t.Dom.isNodeList(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.prototype.getFirstElement=function(){if(!this.hasCachedElement){var e,n=this.value;if("object"==typeof this.value){var i;for(var o in this.value)if(this.value.hasOwnProperty(o)&&(i=this.checkScreenSelector(o,this.win),n=this.value[o],i))break;i?this.logger.debug("Below Selector",i,"selected:",n):this.logger.warn("Below Selector by device not found: ",this.value)}t.Utils.isString(n)&&n.length>0?e=t.Dom.querySelectorAll(n,this.win)[0]:t.Dom.isHTMLElement(n)?e=n:t.Dom.isNodeList(n)&&(e=n[0]),this.cacheElement(e)}return this.firstElement},n.prototype.getFirstElementRect=function(){return this.firstElementRect||(this.firstElementRect=t.Dom.getBoundingClientRect(this.getFirstElement())),this.firstElementRect},n.prototype.getFirstNodeBelowIndex=function(t){if(!this.firstNodeBelowIndex&&0!==this.firstNodeBelowIndex){for(var e,n=!1,i=0;!n&&t[i];)e=t[i++],e.getElementRect().top>=this.getFirstElementRect().bottom&&(n=!0);this.firstNodeBelowIndex=i-1}return this.firstNodeBelowIndex},n.prototype.cacheElement=function(t){this.firstElement=t,this.hasCachedElement=!0},n.DEFAULT=null,n}(e.AbstractSelector);e.BelowSelector=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"Btf")||this;return o.value=i,(t.Context.isFacebookIA()||t.Context.isAmp()||t.Context.isIABSafeFrame())&&(o.value=!1),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.set=function(t){this.value=t},n.prototype.isEnabled=function(){return this.value},n.DEFAULT=!0,n}(e.AbstractOption);e.Btf=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"Filter")||this;return i.func=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isFunction(this.func)||(this.func=n.DEFAULT)},n.prototype.trigger=function(e){var n=!0;if("function"==typeof this.func){try{n=this.func.call(this.func,e)}catch(e){t.formatSumologic.sendError({message:"The filter function threw an error"}),this.logger.error("the filter function threw an error:",e,this.func)}"boolean"!=typeof n&&(n=!0)}return n},n.DEFAULT=null,n}(e.AbstractOption);e.Filter=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"InsertBefore")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.prototype.set=function(t){this.value=t},n.DEFAULT=!1,n}(e.AbstractOption);e.InsertBefore=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"InsertInside")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Context.isAmp()?this.value=n.DEFAULT_AMP:t.Utils.isBoolean(this.value)||(this.value=n.DEFAULT)},n.prototype.isEnabled=function(){return this.value},n.prototype.set=function(t){this.value=t},n.DEFAULT=!1,n.DEFAULT_AMP=!0,n}(e.AbstractOption);e.InsertInside=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"MaximumWidth")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isNumber(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.DEFAULT=2e3,n}(e.AbstractOption);e.MaximumWidth=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(i){void 0===i&&(i=n.DEFAULT);var o=e.call(this,"Minimum")||this;return o.value=i,(t.Context.isAmp()||t.Context.isIABSafeFrame()||t.Context.isFacebookIA())&&(o.value=1),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isNumber(this.value)||(this.value=n.DEFAULT)},n.prototype.set=function(t){this.value=t},n.prototype.get=function(){return this.value},n.DEFAULT=1,n}(e.AbstractOption);e.Minimum=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"MinimumTextLength")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isNumber(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.DEFAULT=100,n}(e.AbstractOption);e.MinimumTextLength=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"MinimumWidth")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isNumber(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.DEFAULT=100,n}(e.AbstractOption);e.MinimumWidth=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t){void 0===t&&(t=n.DEFAULT);var i=e.call(this,"MinimumBelow")||this;return i.value=t,i.checkValue(),i}return i(n,e),n.prototype.checkValue=function(){t.Utils.isNumber(this.value)||(this.value=n.DEFAULT)},n.prototype.get=function(){return this.value},n.DEFAULT=null,n}(e.AbstractOption);e.MinimumBelow=n}(t.option||(t.option={}))}(o||(o={}))},function(module,exports,__webpack_require__){__webpack_require__(317),__webpack_require__(51),__webpack_require__(184);var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),teads=window.teads=window.teads||{};!function(teads){var option;!function(option){var Selector=function(_super){function Selector(t,e){var n=_super.call(this,"Selector")||this;if(n.value=t,n.win=e,n.default=null,n.screenSizes={mobile:"[WIDTH]<768",tablet:"[WIDTH]>=768 && [WIDTH]<992",desktop:"[WIDTH]>=992 && [WIDTH]<1200",large:"[WIDTH]>=1200"},!e)throw new teads.FormatException(teads.FormatException.OPTION_PARENTWINDOW_INVALID);return n.checkValue(),n}return __extends(Selector,_super),Selector.prototype.checkValue=function(){teads.Utils.isString(this.value)||teads.Dom.isHTMLElement(this.value)||teads.Dom.isNodeList(this.value)||teads.Utils.isISlotSelector(this.value)||(this.value=this.default)},Selector.prototype.get=function(){return this.value},Selector.prototype.getSlots=function(){var t=[],e=this.value;if(teads.Utils.isISlotSelector(this.value)){var n=void 0;for(var i in this.value)if(this.value.hasOwnProperty(i)&&(n=this.checkScreenSelector(i,this.win))){e=this.value[i];break}n?this.logger.debug("Slot",n,"selected:",e):this.logger.warn("Slots by device not found: ",this.value)}if(teads.Utils.isString(e)&&e){var o=[],r=teads.HTMLHelper.findParentWindows(document.body).concat(teads.HTMLHelper.findChildWindows(document.body));teads.ArrayHelper.forEach(r,function(t){teads.Utils.isString(e)&&(o=o.concat(teads.ArrayHelper.fromNodeList(teads.Dom.querySelectorAll(e,t))))});for(var a=0;a<o.length;a++)t.push(new teads.placement.Slot(o[a],a))}else if(teads.Dom.isHTMLElement(e))t.push(new teads.placement.Slot(e));else if(teads.Dom.isNodeList(e))for(var a=0;a<e.length;a++)t.push(new teads.placement.Slot(e[a],a));return!t.length&&(teads.Context.isAmp()||teads.Context.isIABSafeFrame()||teads.Context.isFacebookIA())&&t.push(new teads.placement.Slot(this.win.document.body)),t},Selector.prototype.checkScreenSelector=function(screen,win){var _this=this,selectedScreenSelector=null,currentWidth=Math.max(win.document.documentElement.clientWidth,win.innerWidth||0);return teads.ArrayHelper.forEach(screen.split("+"),function(screenSelector){if(_this.screenSizes[screenSelector])try{var screenSelectorPattern=_this.screenSizes[screenSelector].replace(/\[WIDTH\]/g,currentWidth);if(eval(screenSelectorPattern))return void(selectedScreenSelector=screenSelector)}catch(t){_this.logger.warn("screenSelector eval has failed")}}),selectedScreenSelector},Selector}(option.AbstractOption);option.Selector=Selector}(option=teads.option||(teads.option={}))}(teads||(teads={}))},function(t,e,n){n(7),n(51);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,i){var o=e.call(this,"ScrollSelector")||this;return o.win=i,o.value=void 0===t?n.DEFAULT:t,o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.isString(this.value)||t.Dom.isHTMLElement(this.value)||(this.value=n.DEFAULT)},n.prototype.getSlot=function(){var e=this.win,n=this.value;if("string"==typeof n&&n.length>0){var i=t.Dom.querySelectorAll(n,this.win);i&&1===i.length?e=i[0]:this.logger.warn("Parameter must be a string (CSS Selector) or a DOM Element")}else t.Dom.isHTMLElement(n)&&(e=n);return e},n.DEFAULT=null,n}(e.AbstractOption);e.ScrollSelector=n}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(412),n(228),n(204);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e){this.rawConfig=e,e&&(this.slider=new t.option.setting.Slider(e.slider))}return e.getPlacementSetting=function(t){if(window._tts&&window._tts[t.get()])return window._tts[t.get()]},e}();t.PlacementSetting=e}(i||(i={}))},function(t,e,n){n(7);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){!function(n){var o=function(e){function n(i){var o=e.call(this,"Slider")||this;return o.value=t.Utils.extend(n.DEFAULT,i),o.checkValue(),o}return i(n,e),n.prototype.checkValue=function(){t.Utils.containsKeys(n.VALUES,this.value)||(this.value=n.DEFAULT)},n.prototype.allowCorner=function(){return this.value.allow_corner_position},n.VALUES={allow_top_position:"top",allow_corner_position:"corner"},n.DEFAULT={allow_top_position:!1,allow_corner_position:!1},n}(e.AbstractOption);n.Slider=o}(e.setting||(e.setting={}))}(t.option||(t.option={}))}(o||(o={}))},function(t,e,n){n(280),n(414),n(301);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function e(){}return e.load=function(n,i,o,r){t.vast.VASTLoader.load(n,{},function(t){e.parse(t,i,o,r)},function(i){e.logger.error("Could not load XML file",n,i),t.vast.CallbackHelper.execCallback(o,[i])})},e.parse=function(n,i,o,r){try{var a=t.vast.XMLHelper.getXMLDoc(n),s=a.documentElement;if(!s)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);if("DISPLAY"!==s.tagName.toUpperCase())return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.XML_PARSE)]);var c=s.getElementsByTagName("Ad")[0];if(!c)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);var d=new t.display.Ad;if(d.version=Number(t.vast.XMLHelper.getAttributeValue(s,"version")),d.version<1)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.UNSUPPORTED_VERSION)]);d.id=t.vast.XMLHelper.getAttributeValue(c,"id"),d.title=t.vast.XMLHelper.getNodeContent(c.getElementsByTagName("AdTitle")[0]),d.adSystem=t.vast.XMLHelper.getNodeContent(c.getElementsByTagName("AdSystem")[0]);var l=c.getElementsByTagName("Creative")[0];if(!l)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);d.creative.id=t.vast.XMLHelper.getAttributeValue(l,"id"),d.creative.type=String(t.vast.XMLHelper.getAttributeValue(l,"type"));var p=l.getElementsByTagName("Asset")[0];if(!p)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);if(d.creative.asset.id=t.vast.XMLHelper.getAttributeValue(p,"id"),d.creative.asset.content=String(t.vast.XMLHelper.getNodeContent(p)),!d.creative.asset.content)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);var u=document.createElement("div");u.innerHTML=d.creative.asset.content;var h=u.firstElementChild;if(!h)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);if(d.creative.asset.width=Number(h.getAttribute("width")),d.creative.asset.height=Number(h.getAttribute("height")),d.creative.asset.url=h.getAttribute("src"),!d.creative.asset.url)return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.NO_ADS)]);if(!e.SUPPORTED_MEDIAFILES.test(d.creative.asset.url))return t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.UNSUPPORTED_MEDIAFILE)]);for(var f=c.getElementsByTagName("ClickThrough"),g=0,m=f.length;g<m;g++)d.clickThrough.push(t.vast.XMLHelper.getNodeContent(f[g])),d.expand.push("true"===t.vast.XMLHelper.getAttributeValue(f[g],"expand")),d.rolloverCountdown.push(parseInt(t.vast.XMLHelper.getAttributeValue(f[g],"rolloverCountdown"),10)),d.closeCountdown.push(parseInt(t.vast.XMLHelper.getAttributeValue(f[g],"closeCountdown"),10));for(var v=c.getElementsByTagName("Impression"),g=0,m=v.length;g<m;g++)d.tracking.impression.push({url:t.vast.XMLHelper.getNodeContent(v[g]),data:null});var y=c.getElementsByTagName("ClickTracking");for(g=0,m=y.length;g<m;g++)d.tracking.click.push({url:t.vast.XMLHelper.getNodeContent(y[g]),data:null});var A=c.getElementsByTagName("Error");for(g=0,m=A.length;g<m;g++)d.tracking.error.push({url:t.vast.XMLHelper.getNodeContent(A[g]),data:null});if(c){e.logger.info("Init - Vast player initialization success"),r&&r.valid(2,0),d.tracking[t.Constant.TRACKING.openExpand]=[];var E=c.getElementsByTagName("Tracking");for(g=0,m=E.length;g<m;g++){var w=t.vast.XMLHelper.getAttributeValue(E[g],"event");if(d.tracking.hasOwnProperty(w)){var b=null;if(w===t.Constant.TRACKING.open||w===t.Constant.TRACKING.visible){if(b=t.vast.XMLHelper.getAttributeValue(E[g],"offset"),w!==t.Constant.TRACKING.visible||b||(b="00:00:01"),!(b&&b.indexOf(":")>0)){e.logger.error("Wrong offset for progress tracking: "+b);continue}b=t.Utils.seconds(b)}d.tracking[w].push({url:t.vast.XMLHelper.getNodeContent(E[g]),offset:b})}}}e.logger.info("DisplayXml loaded",d),r&&(r.valid(2,1,d,t.Wigo.infoType.MODAL),r.valid(2,2,d.creative.asset.url,t.Wigo.infoType.STRING),r.valid(2,3,"Engage",t.Wigo.infoType.STRING),r.valid(3,0),r.valid(3,1,"1.0",t.Wigo.infoType.STRING)),t.vast.CallbackHelper.execCallback(i,[d],o)}catch(e){t.vast.CallbackHelper.execCallback(o,[new t.VastException(t.VastException.XML_PARSE,e)])}},e.logger=new t.Logger("parser.Display"),e.SUPPORTED_MEDIAFILES=/.+\.(jpg|jpeg|png)$/i,e}();e.Display=n}(t.parser||(t.parser={}))}(i||(i={}))},function(t,e){},function(t,e,n){n(205),n(84),n(416),n(102),n(417),n(418);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e,n){this.placement=e,this.formatConfig=n,this.logger=new t.Logger("VPAIDApi");var i=this.placement.getPlayerContainer(),o=t.HTMLHelper.getWindow(i);this.communicationBridge=new t.StudioCommunicationBridge(this,o),this.communicationBridge.startListening()}return e.prototype.close=function(){this.communicationBridge&&this.communicationBridge.stopListening()},e.prototype.setStudioData=function(e){var n=this.placement.getFormat().getVpaidAd();this.studioData=e,n.status>=t.vpaid.VpaidStatus.STARTED?this.applyStudioDataOnUI():n.subscribe(this.applyStudioDataOnUI.bind(this),t.vpaid.VPAIDEvent.AdStarted)},e.prototype.applyStudioDataOnUI=function(){if(this.studioData)try{var t=this.placement.getFormat().player.getPlugin("Tracker");t&&t.getTracker().setMetadata(e.STUDIO_CID_MACRO_METADATA,this.studioData.studio_cid,!0);var n=this.placement.getFormat().getVpaidAd(),i=n.getComponent("soundbutton");i&&i.setShowOnVideoStart(!this.studioData.display);var o=n.getComponent("progressbar");o&&(o.setShowOnVideoProgress(!this.studioData.display),o.setShowOnVideoStart(!this.studioData.display)),this.setSoundControlVisibility(!this.studioData.display),this.setProgressControlVisibility(!this.studioData.display)}catch(t){this.logger.error("setStudioData error "+t.message)}else this.logger.error("applyStudioDataOnUI error","studioData needed to apply them on UI")},e.prototype.getSumologicOption=function(){return{enabled:t.config.isSumologicLogsEnabled,sessionId:t.formatSumologic.getSessionId(),formatVersion:"2.18.66"}},e.prototype.isStudioDisplay=function(){return this.studioData&&this.studioData.display},e.prototype.getStudioData=function(){try{this.studioData=this.studioData||t.player.TeadsStudioExtension.get(this.placement.getFormat().linearAd)}catch(t){this.logger.error("getStudioData error","format has not been instantiated yet",t)}return this.studioData},e.prototype.getContextData=function(){return t.player.TeadsContextExtension.get(this.placement.getFormat().linearAd)},e.prototype.isReplay=function(){return!!this.placement.getFormat().states.isReplay},e.prototype.activateTapMode=function(t){void 0===t&&(t=!0)},e.prototype.performTapMode=function(t){var e=this.placement.getFormat().getBrandingMode();e&&(void 0===t&&(t=!e.isActive()),t?e.isInitialized()?e.isActive()||e.start():(e.init(),e.start()):e.isActive()?(e.stop(),e.deinit()):e.isInitialized()&&e.deinit())},e.prototype.isFullscreen=function(){return this.placement.getFormat().getFullscreenHelper().isActive()},e.prototype.requestFullscreen=function(){try{this.placement.getFormat().getVpaidAd().dispatchCustomEvent("FullscreenRequest")}catch(t){this.logger.error("requestFullscreen error "+t.message)}},e.prototype.setSoundControlVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("soundbutton"):e.hideComponent("soundbutton")}catch(t){this.logger.error("setSoundControlVisibility error "+t.message)}},e.prototype.setFullscreenButtonVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("fullscreenbutton"):e.hideComponent("fullscreenbutton")}catch(t){this.logger.error("setFullscreenButtonVisibility error "+t.message)}},e.prototype.setProgressControlVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("progressbar"):e.hideComponent("progressbar")}catch(t){this.logger.error("setProgressControlVisibility error "+t.message)}},e.prototype.setStartScreenVisibility=function(t){try{var e=this.placement.getFormat().getVpaidAd();t?e.showComponent("startscreen"):e.hideComponent("startscreen")}catch(t){this.logger.error("setStartScreenVisibility error "+t.message)}},e.prototype.getSlotBounds=function(){var e=this;return t.Try.of(function(){var n=e.placement.getPlayerContainer(),i=t.HTMLHelper.getWindow(n);return t.Utils.extend(i.teads.Dom.getBoundingClientRect(n),{viewportHeight:i.innerHeight,viewportWidth:i.innerWidth})}).recover(function(t){e.logger.error("getSlotBounds error "+t.message)}).toOption().getOrElse(function(){return null})},e.prototype.sendVideoMetadata=function(e){try{this.placement.getFormat().getVpaidAd().dispatchCustomEvent(t.vpaid.CustomVPAIDEvent.AdVideoMetadata,e)}catch(t){this.logger.error("sendVideoMetadata error "+t.message)}},e.prototype.setFixedBackgroundImage=function(e,n){var i=this;void 0===n&&(n=function(){});var o=new t.helper.FixedBackground(this.placement.getPlayerContainer(),this.placement.getParentContainer()),r=this.placement.getFormat().getVpaidAd();this.setBackgroundColor("transparent"),t.Context.isUIWebview()||r.subscribe(function(){return o.resizeContainer()},t.vpaid.VPAIDEvent.AdSizeChange),r.subscribe(function(){return o.resizeContainer()},t.vpaid.VPAIDEvent.AdStarted),r.subscribe(function(){return o.destroy()},t.vpaid.VPAIDEvent.AdStopped),r.subscribe(function(){return o.destroy()},t.vpaid.VPAIDEvent.AdError),o.loadImage(e,function(){o.initContainer(),i.logger.debug("background image ready !"),r.status>=t.vpaid.VpaidStatus.LOADED?(o.append(),i.checkTouchOverflow(o)):r.subscribe(function(){o.append(),i.checkTouchOverflow(o)},t.vpaid.VPAIDEvent.AdLoaded),n(!0)})},e.prototype.setBackgroundColor=function(t){try{this.placement.getFormat().getVpaidAd().getVPAIDContainer().style.setProperty("background-color",t)}catch(t){this.logger.error("setBackgroundColor error "+t.message)}},e.prototype.addDeviceOrientationListener=function(){t.HTMLApi.addDeviceOrientationListener(this,this.communicationBridge,t.HTMLHelper.getWindow(this.placement.getPlayerContainer()))},e.prototype.getUserLocation=function(e,n){t.HTMLApi.getUserLocation(t.HTMLHelper.getWindow(this.placement.getPlayerContainer()),e,n)},e.prototype.customizeUI=function(e){var n=this;t.Option.of(this.placement).match({some:function(i){return t.Option.of(i.getFormat()).match({some:function(i){return t.Option.of(i.getVpaidAd()).match({some:function(n){var i=t.HTMLHelper.getWindow(n.getMainComponentsContainer());t.helper.CSSHelper.removeCSS("vpaid-ui-custom-css",i),t.helper.CSSHelper.embedCSS(e,i,"vpaid-ui-custom-css")},none:function(){return n.logger.error("customizeUI: getVpaidAd() returned undefined or null")}})},none:function(){return n.logger.error("customizeUI: getFormat() returned undefined or null")}})},none:function(){return n.logger.error("customizeUI: this.placement is undefined or null")}})},e.prototype.getTeadsInfo=function(){return{placementId:this.formatConfig.placementId||null,connectionId:this.formatConfig.connectionId||null,insertionId:this.formatConfig.insertionId||null,creativeId:parseInt(this.placement.getFormat().linearAd.creativeId,10)||null,slotType:this.placement.getFormat().slotType,environment:t.Context.getEnv()}},e.prototype.triggerViewabilityTag=function(e){try{this.placement.getFormat().viewabilityTagsHelper.onceThresholdReached(e)}catch(e){this.logger.error("triggerViewabilityTag error "+e.message),t.formatSumologic.sendError("triggerViewabilityTag "+e.getMessage().substr(0,120))}},e.prototype.getCreativeTag=function(t){try{return this.placement.getFormat().viewabilityTagsHelper.getCreativeTag(t)}catch(e){return t}},e.prototype.checkTouchOverflow=function(e){var n=function(t,e){return t===e||!(!e||!e.parentElement)&&n(t,e.parentElement)},i=function(e,i){var o=t.Dom.getBoundingClientRect(e),r=t.HTMLHelper.getDocument(e).elementFromPoint(o.left+o.width/2,o.top+i);return r===e||n(e,r)};try{var o=void 0,r=this.placement.getParentContainer(),a=e.getBaseContainer();i(r,-10)?(a.style.zIndex="-1",o=i(r,-10)?"unsolved":i(r,10)?"solved":"hidden-slot"):o="none",t.formatSumologic.sendInfo("touch-overflow:"+o+":"+this.placement.pid)}catch(e){t.formatSumologic.sendError("touch-overflow-check-error:"+this.placement.pid)}},e.STUDIO_CID_MACRO_METADATA="[STUDIO_CID]",e}();t.VPAIDApi=e}(i||(i={}))},function(t,e,n){n(84);var i=window.teads=window.teads||{};!function(t){!function(e){var n=function(){function n(e,n,i){var o=this;this.container=e,this.logger=new t.Logger("FixedBackground"),this.resizeContainer=function(e){e&&"orientationchange"===e.type&&(o.center=null);var n=t.Dom.getBoundingClientRect(o.container),i=t.Dom.getWindowSize(o.win),r=Math.round(n.width),a=o.image.height*r/o.image.width;if(o.baseContainer.style.width=r+"px",o.baseContainer.style.height=Math.round(n.height)+"px",o.canUseBackgroundAttachment())o.center=o.center||(i.height-a)/2,o.baseContainer.style.backgroundSize=Math.round(r)+"px "+Math.round(a)+"px",o.baseContainer.style.backgroundPosition=Math.round(n.left)+"px "+o.center+"px";else{o.fixedContainer.style.width=Math.round(r)+"px";var s=t.Context.isUIWebview()?a+"px":Math.round(1.2*(i.height+a))+"px";o.fixedContainer.style.height=s,o.fixedContainer.style.backgroundSize=Math.round(r)+"px "+Math.round(a)+"px",o.fixedContainer.style.left=Math.round(n.left)+"px",o.center=o.center||(i.height-a)/2%a;var c=o.center>0?o.center-a:o.center;o.fixedContainer.style[t.Context.isUIWebview()?"bottom":"top"]=c+"px"}},this.win=t.HTMLHelper.getWindow(this.container),t.HTMLHelper.addClass(n,"teads-display-format"),i=t.Utils.isFunction(i)?i:this.resizeContainer,this.eventListenerManager=new t.DOMEventListenerManager;var r=["orientationchange"].concat(t.Context.isUIWebview()?[]:["resize"]);this.eventListenerManager.addMultiple(r,this.win,function(){return i()}),this.eventListenerManager.addMultiple(["transitionend","otransitionend","oTransitionEnd","webkitTransitionEnd"],this.container,function(){return i()})}return n.prototype.loadImage=function(e,n){var i=this;return this.image=new Image,this.image.onerror=function(e){return n(!1,t.Option.empty())},this.image.onload=function(e){i.image.naturalWidth&&i.image.naturalHeight?n(!0,t.Option.of(i.image)):(i.logger.error("setFixedBackgroundImage: Asset size error: cannot retrieve image dimensions"),n(!1,t.Option.of(i.image)))},this.image.src=e,this.image},n.prototype.initContainer=function(){e.CSSHelper.embedCSS(e.FixedBackground.CSS,this.win,n.STYLE_NODE_ID),this.baseContainer=this.win.document.createElement("div"),this.baseContainer.className=n.CSSCLASSES.absolute,this.canUseBackgroundAttachment()?this.baseContainer.style.backgroundImage="url("+this.image.src+")":(this.fixedContainer=this.win.document.createElement("div"),this.fixedContainer.style.backgroundImage="url("+this.image.src+")",this.fixedContainer.className=n.CSSCLASSES.fixed,(t.Semver.isGreaterOrEqual(t.Context.getChromeVersion(),"55")||t.Context.isSafari())&&(this.baseContainer.style.setProperty("-webkit-clip-path","inset(1px 0px)","important"),this.baseContainer.style.setProperty("clip-path","inset(1px 0px)","important")),this.baseContainer.appendChild(this.fixedContainer)),this.resizeContainer()},n.prototype.append=function(){this.container.style.position="relative",this.container.style.zIndex="100",this.container.parentNode.insertBefore(this.baseContainer,this.container)},n.prototype.destroy=function(){this.baseContainer.parentNode.removeChild(this.baseContainer),this.eventListenerManager.removeAll()},n.prototype.canUseBackgroundAttachment=function(){return t.Context.isDesktop()||t.Context.isFirefox()},n.prototype.getBaseContainer=function(){return this.baseContainer},n.CSS=t.Template.DISPLAYCSS,n.CSSCLASSES={absolute:"teads-display-absolute",fixed:"teads-display-fixed",clickZone:"teads-display-clickzone"},n.STYLE_NODE_ID="teads-inread-display",n}();e.FixedBackground=n}(t.helper||(t.helper={}))}(i||(i={}))},function(t,e,n){n(84);var i=window.teads=window.teads||{};!function(t){var e=function(){function e(e,n){this.api=e,this.playerWindow=n,this.eventListenerManager=new t.DOMEventListenerManager}return e.prototype.startListening=function(){var n=this;this.eventListenerManager.add("message",this.playerWindow,function(i){if(t.Utils.isObject(i.data)){var o=i.data;if(!o.method)return;switch(o.method){case e.INIT_MESSAGE:n.pairedAdWindow=i.source,n.sendMessage({method:e.INIT_MESSAGE});break;default:try{if(t.Utils.isFunction(n.api[o.method]))if("getUserLocation"===o.method)n.handleGetUserLocationRequest(o);else{var r=(a=n.api)[o.method].apply(a,o.methodArgs);n.sendMessage({method:o.method,methodReturn:r})}else n.sendMessage({method:o.method,error:"Method "+o.method+" does not exist on api"})}catch(t){n.sendMessage({method:o.method,error:t.toString()})}}}var a})},e.prototype.stopListening=function(){this.eventListenerManager.remove("message")},e.prototype.sendMessage=function(t){this.pairedAdWindow&&this.pairedAdWindow.postMessage(t,"*")},e.prototype.handleGetUserLocationRequest=function(e){var n=this,i=function(i){n.sendMessage({method:e.method,methodReturn:t.HTMLApi.extractCoordsFromPosition(i)})},o=function(t){n.sendMessage({method:e.method,methodReturn:t.message||t.toString()})};this.api[e.method](i,o)},e.INIT_MESSAGE="studio-ad--format-RPC",e.SENSOR_UPDATE="-studio-ad--sensors-update",e}();t.StudioCommunicationBridge=e}(i||(i={}))},function(t,e){var n=window.teads=window.teads||{};!function(t){var e=function(){function e(){}return e.getUserLocation=function(e,n,i){return t.Try.of(function(){e.navigator.geolocation.getCurrentPosition(n,i)}).recover(function(t){i({code:1,message:t.message,PERMISSION_DENIED:1,POSITION_UNAVAILABLE:2,TIMEOUT:3})})},e.extractCoordsFromPosition=function(t){var e=t.coords;return{accuracy:e.accuracy,latitude:e.latitude,longitude:e.longitude}},e.addDeviceOrientationListener=function(e,n,i){i&&i.DeviceOrientationEvent&&!this.deviceOrientationListenerAdded&&(this.deviceOrientationListenerAdded=!0,t.Dom.addEventListener("deviceorientation",i,function(e){n.sendMessage({method:t.StudioCommunicationBridge.SENSOR_UPDATE,methodReturn:{alpha:e.alpha,beta:e.beta,gamma:e.gamma,absolute:e.absolute}})}))},e.deviceOrientationListenerAdded=!1,e}();t.HTMLApi=e}(n||(n={}))},function(t,e,n){n(306),n(178);var i=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),o=window.teads=window.teads||{};!function(t){!function(e){var n=function(e){function n(t,n,i,o){var r=e.call(this,t,n,i,o)||this;return r.placementConfig.btf.set(!1),r.placementConfig.minimum.set(0),r.placementConfig.auto.set(!1),r}return i(n,e),n.prototype.checkSlot=function(){var e=this.placementConfig.selector.getSlots();e.length&&(this.electedSlotReport=this.processChecker(e,t.Constant.FORMAT.inboard));var n={};return this.electedSlotReport&&this.electedSlotReport.report?this.electedSlotReport.report.status?(this.electedSlot=this.electedSlotReport.slot,n={status:!0,reasons:[]}):(this.logger.info("No slot available"),n={status:!1,reasons:this.electedSlotReport.report.reasons},this.wigoi&&this.wigoi.valid(1,1,this.electedSlotReport.report.reasons,t.Wigo.infoType.ERROR)):(this.logger.info("No slot available"),n={status:!1,reasons:[t.Constant.TRACKING.noSlot.selector]},this.wigoi&&this.wigoi.valid(1,1,t.Constant.TRACKING.noSlot.selector,t.Wigo.infoType.ERROR)),n},n}(e.Inread);e.Inboard=n}(t.placement||(t.placement={}))}(o||(o={}))},function(t,e,n){n(318),n(89);var i=window.teads=window.teads||{};!function(t){t.TAG={};var e,n={};!function(t){t[t.INIT=0]="INIT",t[t.LOADING=1]="LOADING",t[t.LOADED=2]="LOADED",t[t.SERVED=3]="SERVED",t[t.ERROR=4]="ERROR"}(e=t.TAG_STATUS||(t.TAG_STATUS={}));var i=function(){function i(o,r,a,s,c){void 0===s&&(s=!1),void 0===c&&(c=0);var d=this;this.pageId=o,this.pid=r,this.rawSettings=a,this.defer=s,this.pageIndex=c,this.doServe=!1,this.doPassback=!1,this.passbacks={beforeServe:[],afterServe:[]},this.scripts=[],this.trackings=[],this.wigoi=null,this.logger=new t.Logger("TagManager (pageId: "+o+", placementId: "+r+")"),this.logger.debug("new placement",a),this.settings=t.Utils.extend({},a||i.defaultRawPlacement),this.settings.pid=r,this.settings.format=this.settings.format||"inread",this.settings.fallback=function(){return d.logger.debug("no ad to serve so exec passback"),d.execPassback()},this.state=e.INIT;var l=t.Option.of(n[this.pid]).map(function(t){return t.headerBiddingProvider});t.helper.HeaderBidding.hasValidContextAndProvider(l,!0)&&this.handleHeaderBiddingAd(),t.config.refresh(window.teads),this.handleDataInsertion(r).forEach(function(e){t.URIHelper.isInternalUrl(t.config.buyingEngineUrl)||t.formatSumologic.sendWarning("illegal-be-url "+r+"|"+t.config.buyingEngineUrl),d.getAd=e})}return i.replaceTimestampMacro=function(e){return t.StringHelper.replaceStringsWithValue(t.config.timestampMacroNames,t.date.now())(e)},i.getRawAdFromScript=function(e,n,i,o){return e.match({some:function(e){return t.Dom.getAndRemoveAttributeValue(e,n).match({some:function(e){var n=o(t.Some({type:"VastUrl",content:"//a.teads.tv/vast/get/"+e,insertion_id:parseInt(e,10)}));return i.debug("data-insertion handled",n),t.Some(n)},none:function(){return i.error(n+" detected but the value is empty"),t.Option.empty()}})},none:function(){return t.Option.empty()}})},i.page=function(e){return t.TAG[e]||(t.TAG[e]={placement:function(t,n,o,r){return i.placement(e,t,n,o,r)}})},i.ad=function(e,o){return n[e]&&new t.Logger("TagManager placementId: "+e).warn("ad settings already exist and will be overwritten",n[e],o),n[e]=o,{page:i.page}},i.placement=function(e,n,o,r,a){var s=t.TAG[e],c=s[n]||(s[n]=[]);a=a||0===a?a:c.length?c.length-1:0,c[a]?o&&o!==c[a].rawSettings&&(c[a].rawSettings=o):c[a]=new i(e,n,o,r,a);var d=c[a];return d.findMatchingScript()?(d.logger.debug("found script with serve attribute -> serve it"),d.serve()):r?d.logger.debug("tag deferred"):d.load(),d},i.prototype.load=function(){var i=this,o=t.Option.of(n[this.pid]).map(function(t){return t.headerBiddingProvider});return this.state!==e.INIT?(this.logger.warn("tag already loaded, loading or served",this.state),this):(this.state=e.LOADING,this.logger.debug("load: checkPlacement > checkSlot > callRAS > loadAd"),this.onReadyState(function(){i.placementTracker=t.pageInstance.initTracker(i.pageId,i.pid,o),i.placementTracker?(i.trackings=i.findCustomTracking(i.scripts),i.fillCustomTracking(i.trackings,t.tracker.Config.format,i.placementTracker.tracker),i.adInfos=t.pageInstance.checkPlacement(i.settings,i.pageId,i.placementTracker,o),i.adInfos?(i.adInfos.placement&&(i.wigoi=i.adInfos.placement.getWigoi()),i.logger.debug("load -> checkPlacement ok"),i.adInfos=t.pageInstance.checkSlot(i.adInfos,i.pageId,o),i.adInfos?(i.logger.debug("load -> checkSlot ok"),i.adInfos.ad=i.getAd,t.pageInstance.callRAS(i.adInfos,i.pageId,function(e){i.logger.debug("load -> callRAS",i.getAd?"bypassed by data-insertion":"ok"),i.adInfos=e,i.sendTagToWigo(),t.pageInstance.loadAd(e,function(n,o,r){i.logger.debug("load -> loadAd",n?"ok":"noAd"),i.loadFormat(e,n,o,r,function(){t.Page.trackBrokenScrollerEnv(o,e.placement),i.doServe?i.serve():i.logger.debug("waiting for serve")})})})):(i.logger.debug("load - checkSlot failure"),i.state=e.ERROR)):(i.logger.debug("load - placement failure"),i.state=e.ERROR)):(i.logger.debug("load - tracker init failure"),i.state=e.ERROR)}),this)},i.prototype.serve=function(){var t=this;switch(this.state){case e.ERROR:this.state=e.SERVED,this.logger.warn("serve - this placement cannot be served - state = ERROR");break;case e.SERVED:this.logger.warn("already served - reload and serve it again"),t=this.reload().serve();break;case e.INIT:this.doServe=!0,this.logger.debug("load before serve (defer)",this.adInfos),this.load();break;case e.LOADING:this.doServe=!0;break;case e.LOADED:this.state=e.SERVED,this.logger.debug("serve",this.adInfos);var n=this.adInfos.placement.getFormat();n&&n.start(),this.logger.debug("ad successfully served"),this.vastPlayer&&!this.isSameAd()||(this.logger.debug("serve - no ad to serve so exec passback"),this.execPassback())}return t},i.prototype.reload=function(){var e=t.page(this.pageId).placement(this.pid,this.rawSettings,this.defer,this.pageIndex+1);return e.passbacks=this.passbacks,e},i.prototype.passback=function(e,n){return void 0===n&&(n=!1),t.ArrayHelper.includes(this.passbacks.afterServe,e)?this.logger.warn("passback - signature was already appended to the passback list",e,this.passbacks.afterServe):"function"==typeof e?(this.passbacks.afterServe.push(e),this.logger.debug("passback - pushed to the list",e),n&&(this.passbacks.beforeServe.push(e),this.logger.debug("passback - pushed to the *before serve* list too")),this.doPassback&&(this.logger.debug("passback - execPassback already called with no passback to exec, call it again"),this.doPassback=!1,this.execPassback())):this.logger.warn("passback - must be a function"),this},i.prototype.getWigoi=function(){return this.wigoi},i.prototype.loadFormat=function(n,i,o,r,a){var s=this;this.formatConfig=i||n.placement.handleNoAd(),this.vastPlayer=o,this.displayAd=r,this.wigoi&&i&&this.wigoi.setStatus(!0,"Ready to serve"),t.helper.WigoHelper.reorderWigoButtons(),this.formatConfig?(this.adInfos.placement.initDom(this.adInfos.placement.electedSlot),this.adInfos.placement.initFormatInstance(this.vastPlayer,this.formatConfig,this.displayAd),this.adInfos.placement.getFormat().load(function(){s.vastPlayer&&(s.isSameAd()?(s.logger.error("same ad detected"),s.placementTracker.track(t.Constant.TRACKING.adAvailable.error.sameAd),s.formatConfig=s.adInfos.placement.handleNoAd(),s.adInfos.placement.initFormatInstance(s.vastPlayer,s.formatConfig,s.displayAd)):(s.placementTracker.track(t.Constant.TRACKING.adAvailable.success),s.fillCustomTracking(s.trackings,t.tracker.Config.vast,s.vastPlayer.getPlugin("Tracker").getTracker()))),s.state=e.LOADED,t.Utils.isFunction(a)&&a()},function(n){s.state=e.LOADED,s.placementTracker.track(t.Constant.TRACKING.adAvailable.error.vast.replace(/\{code\}$/,String(n.getId()))),s.adInfos.placement.handleNoAd()})):t.Utils.isFunction(a)&&(this.state=e.LOADED,a())},i.prototype.execPassback=function(){var n,i=this;switch(this.state){case e.SERVED:n=this.passbacks.afterServe,this.logger.debug("exec passback - after serve");break;default:n=this.passbacks.beforeServe,this.logger.debug("exec passback - before serve")}if(n.length){var o=n.shift();return this.logger.debug("exec passback -",o),o(function(){return i.execPassback()}),this.doPassback=!1,null}return this.logger.debug("exec passback - no passback to exec"),this.doPassback=!0,this.passbacks.afterServe.length?null:t.Constant.INTERNAL_PASSBACK_NO_PASSBACK},i.prototype.findMatchingScript=function(){for(var e=!1,n=t.HTMLHelper.findParentWindows(document.body).concat(t.HTMLHelper.findChildWindows(document.body)),i=0,o=n;i<o.length;i++)for(var r=o[i],a=t.Dom.querySelectorAll("script.teads",r),s=0;s<a.length;s++){this.scripts.push(a[s]);var c=a[s]?a[s].getAttribute("data-serve"):"";c&&c.match(this.pid.toString())&&(a[s].setAttribute("data-serve",c.replace(this.pid.toString(),"")),e=!0)}return e},i.prototype.constructAdSettings=function(e){return void 0===e&&(e=t.Option.empty()),t.Utils.extend(i.defaultAdsSettings,e.getOrElse(function(){return{}}),{settings:{values:{pageId:this.pageId,placementId:this.pid,placementFormat:this.settings.format}}},n[this.pid])},i.prototype.handleHeaderBiddingAd=function(){this.getAd=this.constructAdSettings()},i.prototype.handleDataInsertion=function(e){var n="data-insertion-"+e,o=t.HTMLHelper.findAllWindows(document.body),r=t.Dom.findMatchingElement(t.ArrayHelper.map(o,function(t){return t.document}),"script.teads["+n+"]");return i.getRawAdFromScript(r,n,this.logger,this.constructAdSettings.bind(this))},i.prototype.findCustomTracking=function(e){for(var n=[],i=0,o=e;i<o.length;i++)for(var r=o[i],a=t.Dom.getOuterHTML(r)||"",s=a.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"',"g"))||[],c=0,d=s;c<d.length;c++){var l=d[c],p=l.match(new RegExp('data-tracking(?:-(\\d+))?-([^=]+)="([^"]+)"'));if(4===p.length){var u=p[1],h=p[2],f=p[3];(u&&Number(u)===this.pid||!u)&&(this.logger.debug("find custom tracking (event, url, pid)",h,f,u),n.push({event:h,url:f}),u&&r.removeAttribute("data-tracking-"+h+"-"+u))}else this.logger.debug('error on data-tracking extraction, 3 args expected (["all", "key", "value"])',p)}return n},i.prototype.fillCustomTracking=function(e,n,o){for(var r=this,a=0,s=e;a<s.length;a++){var c=s[a];!function(e){var a=/(progress)-(\d+)/,s=e.event.match(a)||["","",""],c=s[1],d=s[2],l=t.ArrayHelper.find(n,function(t){return t.name.toLowerCase()===c||t.name.toLowerCase()===e.event.toLowerCase()});l&&(e.url=i.replaceTimestampMacro(e.url),o.addResource(l.name,e.url,Number(d)),r.logger.debug("fill custom tracking (tracking.name, url, offset)",l.name,e.url,Number(d)))}(c)}},i.prototype.avoidSameAd=function(){var e=!1,n=[];for(var o in t.TAG[this.pageId])if("placement"!==o&&t.TAG[this.pageId][o].length)for(var r=0,a=t.TAG[this.pageId][o];r<a.length;r++){var s=a[r],c=s.vastPlayer,d=c?c.getMediafile():null;c&&d&&s!==this&&n.push(d.url+d.adParameters)}return t.ArrayHelper.forEach(this.vastPlayer?this.vastPlayer.getLinearAd().mediaFiles:[],function(i){-1!==t.ArrayHelper.indexOf(n,i.url+i.adParameters)&&(e=!0)}),this.index=i.sameAdGlobalIndex=i.sameAdGlobalIndex?++i.sameAdGlobalIndex:1,e},i.prototype.isSameAd=function(){return!this.getAd&&this.avoidSameAd()},i.prototype.sendTagToWigo=function(){this.wigoi&&this.wigoi.valid(0,1,{ttp:this.settings,tta:this.adInfos.ad,tts:this.adInfos.placement.placementSetting},t.Wigo.infoType.MODAL)},i.prototype.onReadyState=function(e){for(var n,i=t.HTMLHelper.findParentWindows(document.body).concat(t.HTMLHelper.findChildWindows(document.body)),o=0,r=i;o<r.length;o++){var a=r[o];n=n||a.document.querySelector("script.teads[data-readystate]")}n&&"domcomplete"===n.getAttribute("data-readystate")?(this.logger.debug("waiting dom complete"),t.Dom.onDomComplete(e)):(this.logger.debug("waiting dom ready"),t.Dom.onDomReady(e))},i.defaultRawPlacement={pid:null,format:null,slot:null},i.defaultAdsSettings={settings:{values:{pageId:0,placementFormat:"inread",placementId:1234,threshold:50},components:{soundButton:{display:!1,countdown:0,type:"mute"}}}},i}();t.TagManager=i}(i||(i={}))}]);